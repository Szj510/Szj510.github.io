---
top_img: /img/banners/md5.jpg
cover: /img/banners/md5.jpg
title: "密码学趣谈：当 MD5 已老，SHA3 嫌慢，我们该何去何从？"
date: 2025-11-05 00:00:00
updated: 2025-11-05 00:00:00
categories: [网络空间安全]
tags: [密码学, 哈希, MD5, SHA-2, SHA-3]
description: "从被误用的 MD5，到 SHA-2 与 SHA-3 的速度与安全取舍，再到不要自造密码学轮子，聊聊课堂之外更真实的密码学世界。"
---

## 密码学趣谈：当 MD5 已老，SHA3 嫌慢，我们该何去何从？

最近在学《网络空间安全》这门课，接触了不少关于密码学的知识，发现课堂之外的真实世界和理论知识之间，存在着许多有趣的“错位”和“故事”。今天就想和大家分享几个让我印象深刻的点，它们关于那些我们天天挂在嘴边，却可能并未真正了解的算法。

### MD5 的“薛定谔”的加密

首先，我们来聊聊最经典的“误会”——MD5。

我相信你一定听过这样的话：“用 MD5 把密码加密一下存起来。” 甚至很多系统的数据库里，存的也是长长的 MD5 字符串。但我的课程关于 MD5 的第一个“冷知识”就是：**MD5 根本不是加密算法！**

加密算法的核心是“可逆”，需要有密钥才能从密文恢复出明文。而 MD5 是一种**哈希函数**，或者叫**摘要算法**。它的工作是“单向的”，像一台榨汁机——你把数据扔进去，出来一杯固定长度的“数字指纹”（摘要），但你想从这杯果汁里还原出原来的苹果，是几乎不可能的。

那么，为什么说 MD5 不再安全了呢？因为密码学家已经找到了它的“碰撞”。简单说，就是可以制造出两个不同的文件或数据，但它们拥有完全相同的 MD5 值。想象一下，这意味着攻击者可以伪造一个和你的正版软件 MD5 一样的恶意软件，让你在验证时毫无察觉。所以，在安全性要求高的场合，MD5 早已被密码学界宣判“退休”。

**然而，现实却很骨感**：至今仍有无数企业在用它，尤其是在一些对安全性不敏感的校验场景，或者一些陈旧的系统里。为什么呢？除了历史包袱，或许还有一个我们后面会聊到的原因——**速度**。

### SHA 家族的“龟兔赛跑”：SHA2 与 SHA3

既然 MD5 老了，我们自然要用新的。哈希函数的“皇室家族”就是 SHA 系列。你可能听说过 SHA-1（也已不安全）、SHA-2（包括 SHA-256, SHA-384 等）和最新的 SHA-3。

这里又有一个反直觉的故事：**作为新标准的 SHA-3，在实际应用中反而没有它的前辈 SHA-2 流行。**

为什么？答案可能让你意外：**因为 SHA-3 比 SHA-2 慢。**

SHA-2 在诞生后，经过了多年的发展和市场的千锤百炼，其算法已经被各种硬件（从你的手机到服务器 CPU）深度优化，效率非常高。而 SHA-3 作为一个采用全新内部结构（Keccak）的算法，在设计上更侧重于理论安全性和应对未来潜在的攻击，在纯软件实现的效率上，目前还赶不上被“武装到牙齿”的 SHA-2。

这就好比一场龟兔赛跑，SHA3 是那只为长远安全而行的“龟”，而 SHA2 则是那只已经被各种硬件“高速路”加持过的“兔”。在当前阶段，大家自然更愿意用跑得快的兔子。

### 一个“危险”的联想：那 MD5 是不是更快？

这个关于速度的讨论，让我产生了一个“危险”又有趣的联想：

既然 SHA2 因为效率高而被广泛使用，那么那个老将 MD5，是不是比 SHA2 还要快呢？如果是的话，好像就能解释为什么那么多“不求安全、只求跑通”的陈旧系统还在死抱着 MD5 不放了——**“虽然你不安全，但你快啊！”**

这听起来似乎有那么一点“情有可原”？但请打住！这绝对是一个错误且危险的想法。这就像为了省时间而给自家大门装一把一捅就开的锁。在安全性上的任何妥协，都可能带来灾难性的后果。我们可以理解那些遗留系统为何还在用，但绝不能在新的设计中重蹈覆辙。

### 最后的忠告：不要自己发明密码学！

课程上另一个让我醍醐灌顶的原则是：**避免“自拼加密”（比如自己把 AES 和 MD5 组合一下），而应该使用标准化的认证加密算法，如 AES-GCM、ChaCha20-Poly1305。**

这背后其实有很多血泪教训。历史上，无数系统被攻破，不是因为底层算法被破解，而是因为开发者自己设计的“组合模式”存在漏洞。比如，你先加密再计算 MAC，和先计算 MAC 再加密，其安全性是天差地别的。

密码学是一门极其精深的科学，它经得起全球最聪明的大脑日夜不停地攻击。而我们自己灵光一现想出来的“巧妙”组合，在专家眼中往往不堪一击。

所以，请记住这句在安全领域流传甚广的金句：**“不要自己发明密码学。”** 就像你不会自己给自己做心脏手术一样，请相信并使用那些经过严格设计和公开验证的标准算法。

### 结语

从被误用的 MD5，到追求安全而“牺牲”速度的 SHA3，再到“不要造轮子”的深刻教训，这门课让我看到，密码学的应用远不止是冰冷的算法，它更是一场在安全、效率和现实约束之间的永恒博弈。

作为开发者或学习者，我们能做的最好的事，就是理解这些工具背后的故事和原理，然后做出既符合现实，又不牺牲核心安全性的、负责任的选择。
