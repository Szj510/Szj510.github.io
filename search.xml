<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ä½¿ç”¨ Unsplash è‡ªåŠ¨ç”Ÿæˆæ–‡ç« é¢˜å¤´å›¾ï¼ˆå®è·µä¸å®ç°ï¼‰</title>
    <url>/2025/10/30/Auto-Generate-Banners/</url>
    <content><![CDATA[<h1 id="ä½¿ç”¨-Unsplash-è‡ªåŠ¨ç”Ÿæˆæ–‡ç« é¢˜å¤´å›¾ï¼ˆå®è·µä¸å®ç°ï¼‰"><a href="#ä½¿ç”¨-Unsplash-è‡ªåŠ¨ç”Ÿæˆæ–‡ç« é¢˜å¤´å›¾ï¼ˆå®è·µä¸å®ç°ï¼‰" class="headerlink" title="ä½¿ç”¨ Unsplash è‡ªåŠ¨ç”Ÿæˆæ–‡ç« é¢˜å¤´å›¾ï¼ˆå®è·µä¸å®ç°ï¼‰"></a>ä½¿ç”¨ Unsplash è‡ªåŠ¨ç”Ÿæˆæ–‡ç« é¢˜å¤´å›¾ï¼ˆå®è·µä¸å®ç°ï¼‰</h1><p>æ ¸å¿ƒæ˜¯åˆ©ç”¨ä¸€æ¡å‘½ä»¤å®ç°ä» unsplash ä¸ŠæŸ¥æ‰¾å›¾ç‰‡å¹¶ä¸‹è½½ï¼Œç„¶åæ”¾ç½®é¢˜å¤´å›¾ä¸­ï¼ŒæŸ¥æ‰¾é»˜è®¤ä½¿ç”¨æ–‡ä»¶åï¼ˆä¸€å¼€å§‹å°è¯•ä½¿ç”¨åˆ†ç±»æ¥æ‰¾å›¾ç‰‡ï¼Œæ„Ÿè§‰æ•ˆæœä¸å¦‚æˆ‘æ„ï¼‰ï¼Œä¹Ÿæ”¯æŒå‘½ä»¤ä¸­åŠ ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°æ¥è‡ªå®šä¹‰å›¾ç‰‡çš„æŸ¥æ‰¾ã€‚<br>æˆ‘è‡ªå·±å†™æ–‡ç« æµç¨‹ä¸€èˆ¬æ˜¯ï¼šåœ¨æŸä¸ªç¬”è®°è½¯ä»¶ï¼ˆTypora or Obsidianï¼‰å†™æ–‡ç« æˆ–ç¬”è®°ï¼Œå¦‚è¦å‘åšå®¢ï¼Œåˆ™å…ˆæŠŠ md æ–‡ä»¶å¤åˆ¶åˆ°_posts ç›®å½•ï¼Œç„¶åè®© ai å†™å…ƒæ•°æ®ï¼ˆå½“ç„¶ç›´æ¥ hexo new post ä¹Ÿè¡Œï¼Œå¹¶ä¼šå¸®ä½ ç”Ÿæˆé»˜è®¤çš„ä¸€äº›å…ƒæ•°æ®ï¼Œç„¶åè‡ªå·±ä¿®æ”¹ï¼‰ï¼Œä¹‹åå°±æ˜¯è¿è¡Œ <code>node tools/add-banner.js "xxx.md" "zzz,yyy"</code> æ¥è‡ªåŠ¨ä¸‹è½½å›¾ç‰‡å¹¶åœ¨å…ƒæ•°æ®ä¸Šè‡ªåŠ¨æ”¾ç½®ï¼Œ<code>zzz,yyy</code> å³ä½ æƒ³è¦æ£€ç´¢çš„å›¾ç‰‡çš„å…³é”®è¯ã€‚</p>
<h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><ul>
<li>æ¯ç¯‡æ–‡ç« éƒ½èƒ½è‡ªåŠ¨è·å¾—é¢˜å¤´å›¾ï¼Œä¸”æœ¬åœ°å­˜å‚¨åœ¨ä»“åº“å†…ï¼›</li>
<li>æ—¢æ”¯æŒæˆ‘å¸¸ç”¨çš„ â€œå¤åˆ¶ .md åˆ° _postsâ€ å·¥ä½œæµï¼Œä¹Ÿæ”¯æŒ <code>hexo new</code> çš„è‡ªåŠ¨åŒ–ï¼›</li>
<li>æ–‡ç« é¡µä½¿ç”¨ <code>top_img</code>ï¼Œé¦–é¡µå¡ç‰‡ä½¿ç”¨ <code>cover</code>ï¼Œä¸¤è€…ç”±è„šæœ¬åŒæ—¶å†™å…¥ / æ›¿æ¢ï¼›</li>
<li>æ£€ç´¢ç­–ç•¥ä¸º â€œæŒ‰æ–‡ä»¶å / æ ‡é¢˜â€ï¼Œå‘½ä¸­å¤±è´¥åˆ™é€€å›é»˜è®¤é£æ™¯å›¾ï¼›</li>
<li>é‡å¤è¿è¡ŒåŒä¸€æ–‡ç« ä¼šé‡æ–°éšæœºä¸€å¼ å¹¶è¦†ç›–åŸå›¾ã€‚</li>
</ul>
<h2 id="ç›®å½•ä¸æ–‡ä»¶"><a href="#ç›®å½•ä¸æ–‡ä»¶" class="headerlink" title="ç›®å½•ä¸æ–‡ä»¶"></a>ç›®å½•ä¸æ–‡ä»¶</h2><ul>
<li><code>tools/add-banner.js</code>ï¼šæ‰‹åŠ¨ä¸ºç°æœ‰æ–‡ç« ä¸‹è½½é¢˜å¤´å›¾ï¼Œè‡ªåŠ¨å†™å…¥ front-matter çš„ <code>top_img</code> å’Œ <code>cover</code>ã€‚</li>
<li><code>scripts/auto-banner.js</code>ï¼š<code>hexo new</code> æ—¶è‡ªåŠ¨ä¸‹è½½å¹¶å†™å…¥ <code>top_img</code> ä¸ <code>cover</code>ã€‚</li>
<li><code>.env</code>ï¼šå­˜æ”¾ <code>UNSPLASH_ACCESS_KEY</code>ï¼ˆå·²åŠ å…¥ <code>.gitignore</code>ï¼‰ã€‚</li>
<li><code>source/img/banners/</code>ï¼šæœ¬åœ°é¢˜å¤´å›¾ç›®å½•ã€‚</li>
</ul>
<h2 id="è·å–-Unsplash-API-Key"><a href="#è·å–-Unsplash-API-Key" class="headerlink" title="è·å– Unsplash API Key"></a>è·å– Unsplash API Key</h2><ol>
<li>æ‰“å¼€ <a href="https://unsplash.com/developers">https://unsplash.com/developers</a></li>
<li> ç™»å½•ï¼ˆæˆ–æ³¨å†Œï¼‰â†’ Your apps â†’ New Application</li>
<li> åˆ›å»ºåº”ç”¨åå¤åˆ¶ Access Keyï¼Œå†™å…¥é¡¹ç›®æ ¹ç›®å½• <code>.env</code></li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">UNSPLASH_ACCESS_KEY=ä½ çš„_Access_Key</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼šå…è´¹é…é¢å¯¹ä¸ªäººåšå®¢å……è¶³ï¼›è‹¥å‘½ä¸­ç‡ä¸ç†æƒ³ï¼Œå¯ä¸ºå‘½ä»¤ä¼ å…¥è‡ªå®šä¹‰æ£€ç´¢è¯ã€‚</p>
<h2 id="è®¾è®¡ä¸å®ç°"><a href="#è®¾è®¡ä¸å®ç°" class="headerlink" title="è®¾è®¡ä¸å®ç°"></a>è®¾è®¡ä¸å®ç°</h2><ul>
<li>ä½¿ç”¨ Random Photo APIï¼ˆ/photos/randomï¼‰+ <code>orientation=landscape</code>ï¼›</li>
<li>æ„å»ºæ£€ç´¢è¯ï¼š<ul>
<li>æ‰‹åŠ¨è„šæœ¬æŒ‰ â€œæ–‡ä»¶åâ€ ç”Ÿæˆå…³é”®è¯ï¼ˆå°†ç©ºæ ¼ / è¿å­—ç¬¦è½¬ä¸ºé€—å·åˆ†éš”çš„å…³é”®è¯ä¸²ï¼‰ï¼›</li>
<li>è‡ªåŠ¨é’©å­æŒ‰ â€œæ ‡é¢˜ /slugâ€ ç”Ÿæˆå…³é”®è¯ï¼›</li>
<li>è‹¥è¯·æ±‚å¤±è´¥æˆ–æœªå‘½ä¸­ï¼Œé€€å› <code>landscape,nature,scenery,mountains</code>ï¼›</li>
</ul>
</li>
<li>ä¿å­˜è·¯å¾„ï¼š<code>source/img/banners/&lt;slug&gt;.jpg</code>ï¼›</li>
<li>è‡ªåŠ¨ä¿®æ”¹æ–‡ç«  frontâ€‘matterï¼š<ul>
<li>è‹¥å­˜åœ¨åˆ™æ›¿æ¢ï¼Œè‹¥ä¸å­˜åœ¨åˆ™æ’å…¥ï¼›</li>
<li>ä¸€æ¬¡æ€§åŒæ—¶å†™å…¥ / æ›¿æ¢ <code>top_img</code> ä¸ <code>cover</code>ï¼Œä¿æŒæ–‡ç« é¡µä¸é¦–é¡µå¡ç‰‡ä¸€è‡´ã€‚</li>
</ul>
</li>
</ul>
<p>ä»£ç å¦‚ä¸‹ï¼š<br>tools/add-banner.js</p>
<figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰‹åŠ¨ä¸ºæ–‡ç« æ·»åŠ é¢˜å¤´å›¾çš„å·¥å…·è„šæœ¬</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨æ–¹æ³•ï¼šnode tools/add-banner.js æ–‡ç« å.md [åˆ†ç±»]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">"axios"</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">"dotenv"</span>).<span class="title function_">config</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤éšæœºé£æ™¯å…³é”®è¯ï¼ˆæ‰¾ä¸åˆ°åŒ¹é…æ—¶é€€å›ï¼‰</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">DEFAULT_QUERY</span> = <span class="string">"landscape,nature,scenery,mountains"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»æ–‡ä»¶åç”ŸæˆæŸ¥è¯¢è¯</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">buildQueryFromFilename</span>(<span class="params">fileName</span>) {</span><br><span class="line">  <span class="comment">// å»é™¤æ‰©å±•åå¹¶å°†è¿å­—ç¬¦/ä¸‹åˆ’çº¿æ›¿æ¢ä¸ºç©ºæ ¼</span></span><br><span class="line">  <span class="keyword">const</span> slug = fileName.<span class="title function_">replace</span>(<span class="regexp">/\.[^.]+$/</span>, <span class="string">""</span>);</span><br><span class="line">  <span class="keyword">const</span> normalized = slug.<span class="title function_">replace</span>(<span class="regexp">/[\-_]+/g</span>, <span class="string">" "</span>).<span class="title function_">trim</span>();</span><br><span class="line">  <span class="comment">// å°†è¿ç»­ç©ºæ ¼æ›¿æ¢ä¸ºé€—å·ç©ºæ ¼ï¼Œæå‡åŒ¹é…æ¦‚ç‡</span></span><br><span class="line">  <span class="keyword">const</span> query = normalized.<span class="title function_">replace</span>(<span class="regexp">/\s+/g</span>, <span class="string">", "</span>);</span><br><span class="line">  <span class="keyword">return</span> query || <span class="variable constant_">DEFAULT_QUERY</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä» Unsplash ä¸‹è½½å›¾ç‰‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">downloadBanner</span>(<span class="params">query, outputPath</span>) {</span><br><span class="line">  <span class="keyword">const</span> accessKey = process.<span class="property">env</span>.<span class="property">UNSPLASH_ACCESS_KEY</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!accessKey || accessKey === <span class="string">"YOUR_ACCESS_KEY_HERE"</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">"âŒ æœªé…ç½® Unsplash API Key"</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">"è¯·åœ¨ .env æ–‡ä»¶ä¸­é…ç½® UNSPLASH_ACCESS_KEY"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetchOnce</span>(<span class="params">q</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ” æœç´¢å…³é”®è¯: <span class="subst">${q}</span>`</span>);</span><br><span class="line">    <span class="keyword">const</span> searchRes = <span class="keyword">await</span> axios.<span class="title function_">get</span>(</span><br><span class="line">      <span class="string">"https://api.unsplash.com/photos/random"</span>,</span><br><span class="line">      {</span><br><span class="line">        <span class="attr">params</span>: {</span><br><span class="line">          <span class="attr">query</span>: q,</span><br><span class="line">          <span class="attr">orientation</span>: <span class="string">"landscape"</span>,</span><br><span class="line">          <span class="attr">client_id</span>: accessKey,</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">10000</span>,</span><br><span class="line">      }</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">const</span> imageUrl = searchRes.<span class="property">data</span>.<span class="property">urls</span>.<span class="property">regular</span>;</span><br><span class="line">    <span class="keyword">const</span> author = searchRes.<span class="property">data</span>.<span class="property">user</span>.<span class="property">name</span>;</span><br><span class="line">    <span class="keyword">const</span> authorUrl = searchRes.<span class="property">data</span>.<span class="property">user</span>.<span class="property">links</span>.<span class="property">html</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ“¸ æ‰¾åˆ°å›¾ç‰‡ï¼Œä½œè€…: <span class="subst">${author}</span>`</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   æ¥æº: <span class="subst">${authorUrl}</span>`</span>);</span><br><span class="line">    <span class="keyword">const</span> imageRes = <span class="keyword">await</span> axios.<span class="title function_">get</span>(imageUrl, {</span><br><span class="line">      <span class="attr">responseType</span>: <span class="string">"arraybuffer"</span>,</span><br><span class="line">      <span class="attr">timeout</span>: <span class="number">15000</span>,</span><br><span class="line">    });</span><br><span class="line">    fs.<span class="title function_">writeFileSync</span>(outputPath, imageRes.<span class="property">data</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`âœ… é¢˜å¤´å›¾å·²ä¿å­˜: <span class="subst">${outputPath}</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> {</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">fetchOnce</span>(query);</span><br><span class="line">    } <span class="keyword">catch</span> (e) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">"âš ï¸ æŒ‰æ–‡ä»¶åæ£€ç´¢æœªå‘½ä¸­ï¼Œæ”¹ç”¨é»˜è®¤éšæœºé£æ™¯å›¾"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">fetchOnce</span>(<span class="variable constant_">DEFAULT_QUERY</span>);</span><br><span class="line">    }</span><br><span class="line">  } <span class="keyword">catch</span> (error) {</span><br><span class="line">    <span class="keyword">if</span> (error.<span class="property">response</span> &amp;&amp; error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">401</span>) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">"âŒ API Key æ— æ•ˆï¼Œè¯·æ£€æŸ¥ .env æ–‡ä»¶"</span>);</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (error.<span class="property">code</span> === <span class="string">"ECONNABORTED"</span>) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">"âŒ ç½‘ç»œè¶…æ—¶"</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">"âŒ ä¸‹è½½å¤±è´¥:"</span>, error.<span class="property">message</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯»å–æ–‡ç«  front-matter ä¸­çš„åˆ†ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// å·²ä¸å†ä¾èµ–åˆ†ç±»ï¼Œæ”¹ä¸ºä»¥æ–‡ä»¶åä½œä¸ºæŸ¥è¯¢</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸»å‡½æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> args = process.<span class="property">argv</span>.<span class="title function_">slice</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (args.<span class="property">length</span> === <span class="number">0</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"ä½¿ç”¨æ–¹æ³•ï¼š"</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"  node tools/add-banner.js æ–‡ç« å.md [è‡ªå®šä¹‰æ£€ç´¢è¯]"</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">""</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"ç¤ºä¾‹ï¼š"</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'  node tools/add-banner.js "dynamic programming.md"'</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'  node tools/add-banner.js "æœ€å¤§æµ.md" "maximum flow, graph"'</span>);</span><br><span class="line">    process.<span class="title function_">exit</span>(<span class="number">0</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> fileName = args[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">let</span> customQuery = args.<span class="title function_">slice</span>(<span class="number">1</span>).<span class="title function_">join</span>(<span class="string">" "</span>).<span class="title function_">trim</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„å»ºæ–‡ä»¶è·¯å¾„</span></span><br><span class="line">  <span class="keyword">const</span> postPath = path.<span class="title function_">join</span>(process.<span class="title function_">cwd</span>(), <span class="string">"source"</span>, <span class="string">"_posts"</span>, fileName);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç¡®å®šæœç´¢å…³é”®è¯ï¼šä¼˜å…ˆä½¿ç”¨è‡ªå®šä¹‰ï¼Œå…¶æ¬¡ç”¨æ–‡ä»¶åæ„å»º</span></span><br><span class="line">  <span class="keyword">const</span> query = customQuery || <span class="title function_">buildQueryFromFilename</span>(fileName);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç”Ÿæˆå›¾ç‰‡æ–‡ä»¶å</span></span><br><span class="line">  <span class="keyword">const</span> slug = path.<span class="title function_">basename</span>(fileName, <span class="string">".md"</span>);</span><br><span class="line">  <span class="keyword">const</span> bannerFileName = <span class="string">`<span class="subst">${slug}</span>.jpg`</span>;</span><br><span class="line">  <span class="keyword">const</span> bannerPath = path.<span class="title function_">join</span>(</span><br><span class="line">    process.<span class="title function_">cwd</span>(),</span><br><span class="line">    <span class="string">"source"</span>,</span><br><span class="line">    <span class="string">"img"</span>,</span><br><span class="line">    <span class="string">"banners"</span>,</span><br><span class="line">    bannerFileName</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç¡®ä¿ç›®å½•å­˜åœ¨</span></span><br><span class="line">  <span class="keyword">const</span> bannerDir = path.<span class="title function_">dirname</span>(bannerPath);</span><br><span class="line">  <span class="keyword">if</span> (!fs.<span class="title function_">existsSync</span>(bannerDir)) {</span><br><span class="line">    fs.<span class="title function_">mkdirSync</span>(bannerDir, { <span class="attr">recursive</span>: <span class="literal">true</span> });</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"\nğŸ“¸ å¼€å§‹ä¸‹è½½é¢˜å¤´å›¾..."</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   æ–‡ç« : <span class="subst">${fileName}</span>`</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   æ£€ç´¢: <span class="subst">${query}</span>`</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> success = <span class="keyword">await</span> <span class="title function_">downloadBanner</span>(query, bannerPath);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (success) {</span><br><span class="line">    <span class="keyword">const</span> topImgPath = <span class="string">`/img/banners/<span class="subst">${bannerFileName}</span>`</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°è¯•è‡ªåŠ¨å†™å…¥/æ›¿æ¢ front-matter çš„ top_img ä¸ coverï¼ˆé¦–é¡µå¡ç‰‡ç”¨ï¼‰</span></span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">      <span class="keyword">let</span> content = fs.<span class="title function_">readFileSync</span>(postPath, <span class="string">"utf8"</span>);</span><br><span class="line">      <span class="keyword">if</span> (<span class="regexp">/^---[\s\S]*?---/m</span>.<span class="title function_">test</span>(content)) {</span><br><span class="line">        <span class="comment">// ä»…åœ¨ Front-matter åŒºåŸŸå†…ä¿®æ”¹ï¼Œé¿å…è¯¯æ”¹æ­£æ–‡/ä»£ç å—</span></span><br><span class="line">        <span class="keyword">const</span> openMatch = content.<span class="title function_">match</span>(<span class="regexp">/^---\s*\r?\n/</span>);</span><br><span class="line">        <span class="keyword">const</span> openIndex = openMatch ? <span class="number">0</span> : content.<span class="title function_">indexOf</span>(<span class="string">"\n---\n"</span>);</span><br><span class="line">        <span class="comment">// æ›´ä¸¥è°¨åœ°æŸ¥æ‰¾å…³é—­åˆ†éš”ç¬¦ï¼ˆä»å¼€å¤´ä¹‹åèµ·ç®—çš„ç¬¬ä¸€ä¸ªè¡Œé¦– ---ï¼‰</span></span><br><span class="line">        <span class="keyword">const</span> fmOpen = content.<span class="title function_">search</span>(<span class="regexp">/^---\s*\r?\n/m</span>);</span><br><span class="line">        <span class="keyword">if</span> (fmOpen === -<span class="number">1</span>) {</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">"Front-matter èµ·å§‹åˆ†éš”ç¬¦æœªæ‰¾åˆ°"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">const</span> rest = content.<span class="title function_">slice</span>(</span><br><span class="line">          fmOpen + content.<span class="title function_">match</span>(<span class="regexp">/^---\s*\r?\n/m</span>)[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">const</span> closeRel = rest.<span class="title function_">search</span>(<span class="regexp">/^---\s*\r?\n/m</span>);</span><br><span class="line">        <span class="keyword">if</span> (closeRel === -<span class="number">1</span>) {</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">"Front-matter ç»“æŸåˆ†éš”ç¬¦æœªæ‰¾åˆ°"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">const</span> fmStart = fmOpen;</span><br><span class="line">        <span class="keyword">const</span> fmOpenEnd = fmOpen + content.<span class="title function_">match</span>(<span class="regexp">/^---\s*\r?\n/m</span>)[<span class="number">0</span>].<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">const</span> fmCloseStart = fmOpenEnd + closeRel;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> before = content.<span class="title function_">slice</span>(<span class="number">0</span>, fmOpenEnd);</span><br><span class="line">        <span class="keyword">const</span> fmBody = content.<span class="title function_">slice</span>(fmOpenEnd, fmCloseStart);</span><br><span class="line">        <span class="keyword">const</span> after = content.<span class="title function_">slice</span>(fmCloseStart);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åœ¨ fmBody å†…éƒ¨æ›¿æ¢/æ’å…¥</span></span><br><span class="line">        <span class="keyword">let</span> newFm = fmBody</span><br><span class="line">          <span class="comment">// å»æ‰å·²æœ‰çš„ top_img/top_image/cover è¡Œ</span></span><br><span class="line">          .<span class="title function_">replace</span>(<span class="regexp">/^(?:top_img|top_image|cover)\s*:\s*.*\r?\n/gm</span>, <span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¡®ä¿ä»¥æ¢è¡Œç»“æŸï¼Œä¾¿äºæ’å…¥</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="regexp">/\r?\n$/</span>.<span class="title function_">test</span>(newFm)) newFm += <span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ’å…¥æ–°çš„å­—æ®µï¼ˆé å‰ä½ç½®ä¾¿äºæŸ¥çœ‹ï¼‰</span></span><br><span class="line">        newFm = <span class="string">`top_img: <span class="subst">${topImgPath}</span>\ncover: <span class="subst">${topImgPath}</span>\n`</span> + newFm;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> newContent = before + newFm + after;</span><br><span class="line">        fs.<span class="title function_">writeFileSync</span>(postPath, newContent, <span class="string">"utf8"</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"\nâœ… å·²è‡ªåŠ¨å†™å…¥ front-matter:"</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   top_img: <span class="subst">${topImgPath}</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   cover:   <span class="subst">${topImgPath}</span>`</span>);</span><br><span class="line">      } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">// ä¸å« front-matterï¼Œä¸ä¸»åŠ¨å†™å…¥ï¼Œæç¤ºæ‰‹åŠ¨æ·»åŠ </span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"\nâš ï¸ æœªæ£€æµ‹åˆ° front-matterï¼Œè¯·æ‰‹åŠ¨åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ ï¼š"</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"---"</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`top_img: <span class="subst">${topImgPath}</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`cover:   <span class="subst">${topImgPath}</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"---"</span>);</span><br><span class="line">      }</span><br><span class="line">    } <span class="keyword">catch</span> (e) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"\nâš ï¸ å†™å…¥ front-matter å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ ï¼š"</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   top_img: <span class="subst">${topImgPath}</span>`</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   cover:   <span class="subst">${topImgPath}</span>`</span>);</span><br><span class="line">    }</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"\nâŒ ä¸‹è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•æˆ–æ‰‹åŠ¨æ·»åŠ é¢˜å¤´å›¾\n"</span>);</span><br><span class="line">    process.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="title function_">main</span>();</span><br></pre></td></tr></tbody></table></figure>

<p>scripts/auto-banner.js</p>
<figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Hexo è‡ªåŠ¨é¢˜å¤´å›¾ç”Ÿæˆè„šæœ¬</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨ Unsplash API æ ¹æ®æ–‡ç« åˆ†ç±»è‡ªåŠ¨ä¸‹è½½ç›¸å…³å›¾ç‰‡ä½œä¸ºé¢˜å¤´å›¾</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">"axios"</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">"dotenv"</span>).<span class="title function_">config</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹ä¸ºæŒ‰æ ‡é¢˜/æ–‡ä»¶åæ£€ç´¢ï¼›è‹¥æœªå‘½ä¸­åˆ™é€€å›é»˜è®¤é£æ™¯</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">DEFAULT_QUERY</span> = <span class="string">"landscape,nature,scenery,mountains"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">buildQueryFromTitleOrSlug</span>(<span class="params">title, slug</span>) {</span><br><span class="line">  <span class="keyword">const</span> base = (title &amp;&amp; title.<span class="title function_">trim</span>()) || (slug &amp;&amp; slug.<span class="title function_">trim</span>()) || <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">const</span> normalized = base</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/[\-_]+/g</span>, <span class="string">" "</span>)</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/\s+/g</span>, <span class="string">", "</span>)</span><br><span class="line">    .<span class="title function_">trim</span>();</span><br><span class="line">  <span class="keyword">return</span> normalized || <span class="variable constant_">DEFAULT_QUERY</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä» Unsplash ä¸‹è½½å›¾ç‰‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> {<span class="type">string</span>} <span class="variable">query</span> - æœç´¢å…³é”®è¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> {<span class="type">string</span>} <span class="variable">outputPath</span> - è¾“å‡ºè·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">downloadBanner</span>(<span class="params">query, outputPath</span>) {</span><br><span class="line">  <span class="keyword">const</span> accessKey = process.<span class="property">env</span>.<span class="property">UNSPLASH_ACCESS_KEY</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!accessKey || accessKey === <span class="string">"YOUR_ACCESS_KEY_HERE"</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">"âš ï¸  æœªé…ç½® Unsplash API Keyï¼Œè·³è¿‡é¢˜å¤´å›¾ä¸‹è½½"</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">"è¯·åœ¨ .env æ–‡ä»¶ä¸­é…ç½® UNSPLASH_ACCESS_KEY"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetchOnce</span>(<span class="params">q</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ” æœç´¢å…³é”®è¯: <span class="subst">${q}</span>`</span>);</span><br><span class="line">    <span class="keyword">const</span> searchRes = <span class="keyword">await</span> axios.<span class="title function_">get</span>(</span><br><span class="line">      <span class="string">"https://api.unsplash.com/photos/random"</span>,</span><br><span class="line">      {</span><br><span class="line">        <span class="attr">params</span>: { <span class="attr">query</span>: q, <span class="attr">orientation</span>: <span class="string">"landscape"</span>, <span class="attr">client_id</span>: accessKey },</span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">10000</span>,</span><br><span class="line">      }</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">const</span> imageUrl = searchRes.<span class="property">data</span>.<span class="property">urls</span>.<span class="property">regular</span>; <span class="comment">// 1080px å®½åº¦</span></span><br><span class="line">    <span class="keyword">const</span> imageRes = <span class="keyword">await</span> axios.<span class="title function_">get</span>(imageUrl, {</span><br><span class="line">      <span class="attr">responseType</span>: <span class="string">"arraybuffer"</span>,</span><br><span class="line">      <span class="attr">timeout</span>: <span class="number">15000</span>,</span><br><span class="line">    });</span><br><span class="line">    fs.<span class="title function_">writeFileSync</span>(outputPath, imageRes.<span class="property">data</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`âœ… é¢˜å¤´å›¾å·²ä¿å­˜: <span class="subst">${path.basename(outputPath)}</span>`</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   æ¥æº: <span class="subst">${searchRes.data.user.name}</span> on Unsplash`</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> {</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">fetchOnce</span>(query);</span><br><span class="line">    } <span class="keyword">catch</span> (e) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">"âš ï¸ æŒ‰æ ‡é¢˜/æ–‡ä»¶åæ£€ç´¢æœªå‘½ä¸­ï¼Œæ”¹ç”¨é»˜è®¤éšæœºé£æ™¯å›¾"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">fetchOnce</span>(<span class="variable constant_">DEFAULT_QUERY</span>);</span><br><span class="line">    }</span><br><span class="line">  } <span class="keyword">catch</span> (error) {</span><br><span class="line">    <span class="keyword">if</span> (error.<span class="property">response</span> &amp;&amp; error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">401</span>) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(</span><br><span class="line">        <span class="string">"âŒ API Key æ— æ•ˆï¼Œè¯·æ£€æŸ¥ .env æ–‡ä»¶ä¸­çš„ UNSPLASH_ACCESS_KEY"</span></span><br><span class="line">      );</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (error.<span class="property">code</span> === <span class="string">"ECONNABORTED"</span>) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">"âŒ ç½‘ç»œè¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">"âŒ ä¸‹è½½é¢˜å¤´å›¾å¤±è´¥:"</span>, error.<span class="property">message</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Hexo æ–°å»ºæ–‡ç« æ—¶çš„é’©å­</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">hexo.<span class="title function_">on</span>(<span class="string">"new"</span>, <span class="keyword">async</span> <span class="keyword">function</span> (<span class="params">data</span>) {</span><br><span class="line">  <span class="comment">// ä½¿ç”¨æ ‡é¢˜æˆ– slug æ„å»ºæ£€ç´¢è¯</span></span><br><span class="line">  <span class="keyword">const</span> query = <span class="title function_">buildQueryFromTitleOrSlug</span>(data.<span class="property">title</span>, data.<span class="property">slug</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç”Ÿæˆæ–‡ä»¶å</span></span><br><span class="line">  <span class="keyword">const</span> slug = data.<span class="property">slug</span> || path.<span class="title function_">basename</span>(data.<span class="property">path</span>, <span class="string">".md"</span>);</span><br><span class="line">  <span class="keyword">const</span> bannerFileName = <span class="string">`<span class="subst">${slug}</span>.jpg`</span>;</span><br><span class="line">  <span class="keyword">const</span> bannerPath = path.<span class="title function_">join</span>(</span><br><span class="line">    hexo.<span class="property">source_dir</span>,</span><br><span class="line">    <span class="string">"img"</span>,</span><br><span class="line">    <span class="string">"banners"</span>,</span><br><span class="line">    bannerFileName</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç¡®ä¿ç›®å½•å­˜åœ¨</span></span><br><span class="line">  <span class="keyword">const</span> bannerDir = path.<span class="title function_">dirname</span>(bannerPath);</span><br><span class="line">  <span class="keyword">if</span> (!fs.<span class="title function_">existsSync</span>(bannerDir)) {</span><br><span class="line">    fs.<span class="title function_">mkdirSync</span>(bannerDir, { <span class="attr">recursive</span>: <span class="literal">true</span> });</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`\nğŸ“¸ æ­£åœ¨ä¸ºæ–‡ç«  "<span class="subst">${data.title}</span>" ä¸‹è½½é¢˜å¤´å›¾...`</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   å…³é”®è¯: <span class="subst">${query}</span>`</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> success = <span class="keyword">await</span> <span class="title function_">downloadBanner</span>(query, bannerPath);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (success) {</span><br><span class="line">    <span class="comment">// åœ¨æ–‡ç«  front-matter ä¸­æ·»åŠ é¢˜å¤´å›¾è·¯å¾„</span></span><br><span class="line">    <span class="keyword">const</span> topImgPath = <span class="string">`/img/banners/<span class="subst">${bannerFileName}</span>`</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`   è·¯å¾„: <span class="subst">${topImgPath}</span>\n`</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯»å–å¹¶ä¿®æ”¹æ–‡ç« å†…å®¹</span></span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">      <span class="keyword">let</span> content = fs.<span class="title function_">readFileSync</span>(data.<span class="property">path</span>, <span class="string">"utf8"</span>);</span><br><span class="line">      <span class="comment">// åœ¨ front-matter ä¸­æ’å…¥/æ›¿æ¢ top_img ä¸ coverï¼ˆé¦–é¡µå¡ç‰‡ä½¿ç”¨ coverï¼‰</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="regexp">/^---[\s\S]*?---/m</span>.<span class="title function_">test</span>(content)) {</span><br><span class="line">        <span class="comment">// å·²æœ‰ front-matterï¼šå¤„ç† top_img</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="regexp">/(?:^|\r?\n)top_img\s*:/m</span>.<span class="title function_">test</span>(content)) {</span><br><span class="line">          content = content.<span class="title function_">replace</span>(</span><br><span class="line">            <span class="regexp">/(?:^|\r?\n)top_img\s*:\s*.*/m</span>,</span><br><span class="line">            <span class="string">`\ntop_img: <span class="subst">${topImgPath}</span>`</span></span><br><span class="line">          );</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">          content = content.<span class="title function_">replace</span>(</span><br><span class="line">            <span class="regexp">/---\s*\r?\n/</span>,</span><br><span class="line">            <span class="string">`---\n`</span> + <span class="string">`top_img: <span class="subst">${topImgPath}</span>\n`</span></span><br><span class="line">          );</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤„ç† coverï¼ˆç”¨äºé¦–é¡µå¡ç‰‡ï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="regexp">/(?:^|\r?\n)cover\s*:/m</span>.<span class="title function_">test</span>(content)) {</span><br><span class="line">          content = content.<span class="title function_">replace</span>(</span><br><span class="line">            <span class="regexp">/(?:^|\r?\n)cover\s*:\s*.*/m</span>,</span><br><span class="line">            <span class="string">`\ncover: <span class="subst">${topImgPath}</span>`</span></span><br><span class="line">          );</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">          content = content.<span class="title function_">replace</span>(</span><br><span class="line">            <span class="regexp">/---\s*\r?\n/</span>,</span><br><span class="line">            <span class="string">`---\n`</span> + <span class="string">`cover: <span class="subst">${topImgPath}</span>\n`</span></span><br><span class="line">          );</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        fs.<span class="title function_">writeFileSync</span>(data.<span class="property">path</span>, content, <span class="string">"utf8"</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"âœ… å·²è‡ªåŠ¨æ›´æ–° front-matter: top_img ä¸ cover\n"</span>);</span><br><span class="line">      }</span><br><span class="line">    } <span class="keyword">catch</span> (err) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">"âš ï¸  æ— æ³•è‡ªåŠ¨ä¿®æ”¹æ–‡ç« ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ ä»¥ä¸‹å­—æ®µåˆ° front-matter:"</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">`   top_img: <span class="subst">${topImgPath}</span>`</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">`   cover:   <span class="subst">${topImgPath}</span>`</span>);</span><br><span class="line">    }</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"ğŸ’¡ æç¤º: ä½ å¯ä»¥ç¨åæ‰‹åŠ¨ä¸‹è½½æˆ–ä½¿ç”¨é»˜è®¤é¢˜å¤´å›¾\n"</span>);</span><br><span class="line">  }</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºå‡½æ•°ä¾›æ‰‹åŠ¨ä½¿ç”¨</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = {</span><br><span class="line">  downloadBanner,</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><h3 id="A-æ‰‹åŠ¨ï¼ˆæ¨èç»™ç°æœ‰æ–‡ç« ï¼‰"><a href="#A-æ‰‹åŠ¨ï¼ˆæ¨èç»™ç°æœ‰æ–‡ç« ï¼‰" class="headerlink" title="A. æ‰‹åŠ¨ï¼ˆæ¨èç»™ç°æœ‰æ–‡ç« ï¼‰"></a>A. æ‰‹åŠ¨ï¼ˆæ¨èç»™ç°æœ‰æ–‡ç« ï¼‰</h3><p>å°†æ–‡ç« å¤åˆ¶åˆ° <code>source/_posts/</code> åï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight powershell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‰æ–‡ä»¶åæ£€ç´¢ï¼Œè‡ªåŠ¨å†™å…¥ top_img &amp; cover</span></span><br><span class="line">node tools/<span class="built_in">add-banner</span>.js <span class="string">"ä½ çš„æ–‡ç« .md"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šè‡ªå®šä¹‰æ£€ç´¢è¯ï¼ˆæ›´å®¹æ˜“å‘½ä¸­å¯¹åº”é£æ ¼ï¼‰</span></span><br><span class="line">node tools/<span class="built_in">add-banner</span>.js <span class="string">"ä½ çš„æ–‡ç« .md"</span> <span class="string">"maximum flow, graph"</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¿è¡Œåè„šæœ¬ä¼šï¼š</p>
<ul>
<li>ä¸‹è½½å›¾ç‰‡åˆ° <code>source/img/banners/ä½ çš„æ–‡ç« .jpg</code>ï¼›</li>
<li>åœ¨è¯¥æ–‡ç« çš„ frontâ€‘matter ä¸­å†™å…¥æˆ–æ›¿æ¢ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">top_img: /img/banners/Auto-Generate-Banners.jpg</span><br><span class="line">cover: /img/banners/Auto-Generate-Banners.jpg</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ–‡ç« æ²¡æœ‰ frontâ€‘matterï¼Œä¼šåœ¨æ§åˆ¶å°æç¤ºä½ è¦ç²˜è´´çš„å­—æ®µã€‚</p>
<h3 id="B-è‡ªåŠ¨ï¼ˆé…åˆ-hexo-newï¼‰"><a href="#B-è‡ªåŠ¨ï¼ˆé…åˆ-hexo-newï¼‰" class="headerlink" title="B. è‡ªåŠ¨ï¼ˆé…åˆ hexo newï¼‰"></a>B. è‡ªåŠ¨ï¼ˆé…åˆ hexo newï¼‰</h3><p>ä½¿ç”¨ Hexo æ–°å»ºæ–‡ç« ï¼š</p>
<figure class="highlight powershell"><table><tbody><tr><td class="code"><pre><span class="line">hexo new <span class="string">"æˆ‘çš„æ–°æ–‡ç« "</span></span><br></pre></td></tr></tbody></table></figure>

<p>è§¦å‘ <code>scripts/auto-banner.js</code>ï¼š</p>
<ul>
<li>æŒ‰æ ‡é¢˜ /slug æ£€ç´¢å¹¶ä¸‹è½½åˆ° <code>source/img/banners/æˆ‘çš„æ–°æ–‡ç« .jpg</code>ï¼›</li>
<li>è‡ªåŠ¨åœ¨æ–°æ–‡ç«  frontâ€‘matter å†™å…¥ <code>top_img</code> ä¸ <code>cover</code>ã€‚</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä¸Šé¢çš„ä»£ç å¦‚æœä¸é€‚ç”¨çš„è¯å¯ä»¥ç”¨ ai ä¿®æ”¹ä¸€ä¸‹ï¼Œæˆ‘ä¸æ•¢æ‰“åŒ…ç¥¨ä¸€å®šæˆåŠŸï¼Œä¸»è¦æ˜¯æå‡ºè¿™ä¸ªæ–¹æ¡ˆï¼Œä»…ä¾›å‚è€ƒã€‚</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Unsplash</tag>
        <tag>é¢˜å¤´å›¾</tag>
        <tag>è„šæœ¬</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>Cpp æ™ºèƒ½æŒ‡é’ˆ</title>
    <url>/2024/09/28/Cpp-Smart-Pointer/</url>
    <content><![CDATA[<h2 id="lambda-è¡¨è¾¾å¼"><a href="#lambda-è¡¨è¾¾å¼" class="headerlink" title="lambda è¡¨è¾¾å¼"></a>lambda è¡¨è¾¾å¼</h2><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">[OuterVar](<span class="type">int</span> x, <span class="type">int</span> y) -&gt; <span class="type">int</span> {</span><br><span class="line">	<span class="keyword">return</span> OuterVar + x + y;</span><br><span class="line">};</span><br><span class="line"><span class="comment">//example</span></span><br><span class="line"><span class="keyword">auto</span> f = [](<span class="type">int</span> a, <span class="type">int</span> b) -&gt; <span class="type">int</span> {</span><br><span class="line">	<span class="keyword">return</span>  + B;</span><br><span class="line">};</span><br><span class="line"><span class="comment">//è¿”å›ç±»å‹ -&gt; int å¯ä»¥çœç•¥ï¼Œç¼–è¯‘å™¨ä¼šè‡ªè¡Œæ¨æ–­å…¶ç±»å‹</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="å˜é‡æ•è·-Capture-clause"><a href="#å˜é‡æ•è·-Capture-clause" class="headerlink" title="å˜é‡æ•è·(Capture clause)"></a>å˜é‡æ•è· (Capture clause)</h3><p>ç‰¹æ®Šï¼š<code>[&amp;] [=] [&amp;, =N]</code><br>å¯ä»¥åœ¨æ•è·è¯­å¥ä¸­å®šä¹‰æ–°çš„å˜é‡å¹¶åˆå§‹åŒ–ï¼š<code>[n, &amp;m, k = 4]</code><br>è¿˜æ”¯æŒ <code>[](auto a, auto b) { return a + b }</code></p>
<h2 id="å…±äº«æŒ‡é’ˆ-shared-ptr"><a href="#å…±äº«æŒ‡é’ˆ-shared-ptr" class="headerlink" title="å…±äº«æŒ‡é’ˆ(shared_ptr)"></a>å…±äº«æŒ‡é’ˆ (shared_ptr)</h2><p>é¦–å…ˆ <code>include &lt;memory&gt;</code></p>
<h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">shared_ptr&lt;<span class="type">int</span>&gt; p {<span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">100</span>)};</span><br><span class="line">shared_ptr&lt;<span class="type">int</span>&gt; p {<span class="built_in">make_shared</span>&lt;<span class="type">int</span>&gt;(<span class="number">100</span>)};<span class="comment">//æ•ˆç‡æ›´é«˜æ›´å®‰å…¨</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="è‡ªåŠ¨ç®¡ç†å†…å­˜"><a href="#è‡ªåŠ¨ç®¡ç†å†…å­˜" class="headerlink" title="è‡ªåŠ¨ç®¡ç†å†…å­˜"></a>è‡ªåŠ¨ç®¡ç†å†…å­˜</h3><h4 id="å¼•ç”¨è®¡æ•°"><a href="#å¼•ç”¨è®¡æ•°" class="headerlink" title="å¼•ç”¨è®¡æ•°"></a>å¼•ç”¨è®¡æ•°</h4><p>æŒ‡å‘æŸä¸ª item çš„å…±äº«æŒ‡é’ˆä¸ªæ•°ï¼Œå½“è¿™ä¸ª item çš„å¼•ç”¨è®¡æ•°ä¸º 0 æ—¶ï¼Œç¨‹åºå°±ä¼šè‡ªåŠ¨é‡Šæ”¾è¿™ä¸ª itemã€‚<br>è€ƒè™‘ä¸€ä¸‹è¿™ç§æƒ…å†µï¼šå½“ä½ å‡½æ•°å‚æ•°å¿…é¡»è¦ä¼ ä¸€ä¸ªè£¸æŒ‡é’ˆæ—¶ï¼Œä½ ä½¿ç”¨ <code>T* rp = p.get()</code> æ¥è·å–ï¼Œå…¶ä¸­ p æ˜¯å…±äº«æŒ‡é’ˆã€‚<br>å¦‚æœæœ‰ä¸€å—èµ„æºï¼ŒåŒæ—¶æœ‰è£¸æŒ‡é’ˆå’Œå…±äº«æŒ‡é’ˆæŒ‡å‘å®ƒï¼Œå½“æ‰€æœ‰å…±äº«æŒ‡é’ˆè¢«æ‘§æ¯ï¼Œä½†æ˜¯è£¸æŒ‡é’ˆä»ç„¶å­˜åœ¨æ—¶ï¼Œè¿™å—èµ„æºä»ç„¶ä¼šè¢«é‡Šæ”¾ï¼Œè¿™ä¸ªæ—¶å€™å†ç”¨è£¸æŒ‡é’ˆå»è®¿é—®é‚£å—èµ„æºå°±ä¼šå‘ç”Ÿæœªå®šä¹‰è¡Œä¸ºï¼Œå› æ­¤ï¼Œç”¨å…±äº«æŒ‡é’ˆçš„æ—¶å€™æœ€å¥½é¿å…è·Ÿè£¸æŒ‡é’ˆæ··ç”¨ã€‚</p>
<h4 id="æ‚è¯†"><a href="#æ‚è¯†" class="headerlink" title="æ‚è¯†"></a>æ‚è¯†</h4><ul>
<li>æˆ‘ä»¬å¸¸è§çš„ <code>p.reset()</code> æ˜¯æ— å‚æ—¶é‡Šæ”¾ï¼Œ<code>reset</code> å…¶å®è¿˜å¯ä»¥æ¥å—å‚æ•° <code>eg:p.reset(new T)</code>ï¼Œé‚£ä¹ˆæ—§çš„ item T çš„å¼•ç”¨è®¡æ•°å‡ 1ï¼Œp åˆ™æŒ‡å‘æ–°çš„ Tã€‚</li>
<li>é»˜è®¤æƒ…å†µä¸‹å…±äº«æŒ‡é’ˆä½¿ç”¨ <code>delete</code> é‡Šæ”¾èµ„æºï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰åˆ é™¤å‡½æ•°ï¼Œä¾‹å¦‚ï¼š</li>
</ul>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">close_file</span><span class="params">(FILE* fp)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">nullptr</span>) <span class="keyword">return</span>;</span><br><span class="line">	<span class="built_in">fclose</span>(fp);</span><br><span class="line">	cout &lt;&lt; <span class="string">"File closed."</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">mian</span><span class="params">()</span> </span>{</span><br><span class="line">	FILE* fp = <span class="built_in">fopen</span>(<span class="string">"data.txt"</span>, <span class="string">"w"</span>);</span><br><span class="line">	shared_ptr&lt;FILE&gt; sfp {fp, close_file};</span><br><span class="line">	<span class="keyword">if</span> (sfp == <span class="literal">nullptr</span>)</span><br><span class="line">		cerr &lt;&lt; <span class="string">"Error opening file."</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span> cout &lt;&lt; <span class="string">"File opened."</span> &lt;&lt; endl;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>åˆ«å (Aliasing)ï¼š<br>ä¸‹é¢ä»£ç  <code>b</code> çš„å‘½åå°±æ˜¯åˆ«åï¼Œæ³¨æ„åˆ° <code>f</code> æŒ‡å‘çš„ item çš„å¼•ç”¨è®¡æ•°åŠ äº† 1ï¼Œé‚£ä¹ˆæ„å‘³ç€åªè¦ <code>b</code> è¿˜åœ¨ï¼Œ<code>f</code> æŒ‡å‘çš„èµ„æºå°±ä¸ä¼šè¢«åˆ é™¤ã€‚ä½†æ˜¯è¿™é‡Œ <code>b</code> çš„æ•°æ®æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ <code>bar</code>(ä»£ç æœ€åä¸€è¡Œä¹Ÿèƒ½çœ‹å‡º)ï¼Œä»…æ˜¯ <code>f</code> çš„ä¸€ä¸ªæˆå‘˜ï¼Œé€šå¸¸è¿™ä¸ªæŠ€å·§ç”¨äºè®¿é—®ç±»çš„æˆå‘˜å˜é‡ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨è®¿é—®å®ä¾‹çš„æˆå‘˜æ—¶ï¼Œä¸å¸Œæœ›å®ä¾‹æœ¬èº«è¢«åˆ é™¤ã€‚</li>
</ul>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Bar</span> { <span class="type">int</span> i = <span class="number">123</span>; };</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Foo</span> { Bar bar; };</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	shared_ptr&lt;Foo&gt; f = <span class="built_in">make_shared</span>&lt;Foo&gt;();</span><br><span class="line">	cout &lt;&lt; f.<span class="built_in">use_count</span>() &lt;&lt; endl;  <span class="comment">// prints 1</span></span><br><span class="line">	<span class="function">shared_ptr&lt;Bar&gt; <span class="title">b</span><span class="params">(f, &amp;(f-&gt;bar))</span></span>;</span><br><span class="line">	cout &lt;&lt; f.<span class="built_in">use_count</span>() &lt;&lt; endl; <span class="comment">// prints 2</span></span><br><span class="line">	cout &lt;&lt; b-&gt;i &lt;&lt; endl;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>Undefined Behavior<ul>
<li> æ‰‹åŠ¨ delete</li>
</ul>
</li>
<li> é¢å¤–æ€§èƒ½å¼€é”€</li>
</ul>
<h2 id="ç‹¬äº«æŒ‡é’ˆ-unique-ptr"><a href="#ç‹¬äº«æŒ‡é’ˆ-unique-ptr" class="headerlink" title="ç‹¬äº«æŒ‡é’ˆ(unique_ptr)"></a>ç‹¬äº«æŒ‡é’ˆ (unique_ptr)</h2><blockquote>
<p>é›¶å¼€é”€ï¼Œä¸èƒ½æœ‰ä¸¤ä¸ªç‹¬äº«æŒ‡é’ˆåŒæ—¶æŒ‡å‘åŒä¸€å—èµ„æºï¼Œå½“ç‹¬äº«æŒ‡é’ˆè¢«é”€æ¯ï¼Œå…¶ç»‘å®šçš„èµ„æºå°±ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚</p>
</blockquote>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func1</span><span class="params">()</span> </span>{</span><br><span class="line">	Object* p = <span class="keyword">new</span> Object;</span><br><span class="line">	p-&gt;<span class="built_in">foo</span>();</span><br><span class="line">	<span class="keyword">delete</span> p;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func2</span><span class="params">()</span> </span>{</span><br><span class="line">	unique_ptr&lt;Object&gt; up { <span class="built_in">make_unique</span>&lt;Object&gt;() };</span><br><span class="line">	up-&gt;<span class="built_in">foo</span>();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è€ƒè™‘ <code>func1</code>ï¼Œå¯èƒ½ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œæ¯”å¦‚å¦‚æœ <code>p-&gt;foo()</code> æŠ›å‡ºå¼‚å¸¸ï¼Œ<code>delete p</code> å°±ä¸ä¼šè¢«æ‰§è¡Œï¼Œä»è€Œé€ æˆå†…å­˜æ³„æ¼ã€‚è€Œ <code>func2</code> å°±ä¸ç”¨æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ï¼Œå³ä¾¿æŠ›å‡ºå¼‚å¸¸ï¼Œèµ„æºæœ€åä¹Ÿä¼šé‡Šæ”¾ã€‚</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">up.<span class="built_in">reset</span>(); <span class="comment">//é‡Šæ”¾upä¸‹çš„èµ„æºï¼ŒæŠŠupè®¾ç½®ä¸ºnullptr</span></span><br><span class="line">up.<span class="built_in">reset</span>(<span class="keyword">new</span> Object{}); <span class="comment">//é‡Šæ”¾çš„åŒæ—¶æŒ‡å‘å¦å¤–ä¸€ä»½èµ„æº</span></span><br><span class="line"></span><br><span class="line">Object* object = up.<span class="built_in">release</span>(); <span class="comment">//æŠŠupå’Œèµ„æºè§£ç»‘ï¼Œè¿”å›èµ„æºçš„è£¸æŒ‡é’ˆï¼ŒåŒæ—¶æŠŠupè®¾ç½®ä¸ºnullptr</span></span><br><span class="line">up = <span class="literal">nullptr</span>; <span class="comment">//ä¹Ÿä¼šé‡Šæ”¾upä¸‹çš„èµ„æº</span></span><br><span class="line"></span><br><span class="line"><span class="function">unique_ptr&lt;<span class="type">int</span>&gt; <span class="title">up2</span><span class="params">(up1)</span></span>; <span class="comment">//error</span></span><br><span class="line">up2 = up1; <span class="comment">//error</span></span><br><span class="line"><span class="comment">//è¿™ä¸¤è¡Œä¼šæŠ¥é”™æ˜¯å› ä¸ºunique_ptrç‹¬å ä¸€æ®µå†…å­˜çš„æ§åˆ¶æƒ</span></span><br><span class="line"><span class="comment">//æˆ‘ä»¬ä¸èƒ½å¤åˆ¶æ§åˆ¶æƒï¼Œä½†æ˜¯å¯ä»¥è½¬ç§»æ§åˆ¶æƒï¼Œå¦‚ä¸‹ï¼š</span></span><br><span class="line">unique_ptr&lt;<span class="type">int</span>&gt; up1 = <span class="built_in">make_unique</span>&lt;<span class="type">int</span>&gt;(<span class="number">100</span>);</span><br><span class="line"><span class="function">unique_ptr&lt;<span class="type">int</span>&gt; <span class="title">up2</span><span class="params">(up1.release())</span></span>;</span><br><span class="line">unique_ptr&lt;<span class="type">int</span>&gt; up2 = <span class="built_in">move</span>(up1); <span class="comment">//ä¸ä¸Šå¥ç›¸åŒçš„è½¬ç§»æ•ˆæœ</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç‹¬äº«æŒ‡é’ˆä¹Ÿå¯ä»¥è‡ªå®šä¹‰åˆ é™¤å‡½æ•°ï¼Œä½†æ˜¯æ¯”å…±äº«æŒ‡é’ˆå¤æ‚ï¼š</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span>* <span class="title">my_alloc</span><span class="params">(<span class="type">int</span> v)</span> </span>{}</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">my_dealloc</span><span class="params">(<span class="type">int</span> *p)</span> </span>{}</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	unique_ptr&lt;<span class="type">int</span>, <span class="keyword">decltype</span>(&amp;my_dealloc)&gt; cup {<span class="built_in">my_alloc</span>(<span class="number">100</span>), my_dealloc};</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¤æ‚æ€§æ˜¯ç”±äºç‹¬äº«æŒ‡é’ˆç»‘å®šé‡Šæ”¾å‡½æ•°åœ¨ç¼–è¯‘æœŸï¼Œé¿å…äº†è¿è¡Œæ—¶ç»‘å®šçš„æ—¶é—´æŸè€—ï¼Œè¿™ä¸å…¶é›¶å¼€é”€ç‰¹æ€§æœ‰å…³ï¼›è€Œå…±äº«æŒ‡é’ˆåœ¨è¿è¡Œæ—¶ç»‘å®šï¼Œç”±äºå…±äº«æŒ‡é’ˆåœ¨å¼•ç”¨è®¡æ•°ä¸Šçš„æ€§èƒ½å¼€é”€ï¼Œé‚£ä¹ˆå†å¢åŠ ä¸€ç‚¹ä¹Ÿå°±æ— æ‰€è°“äº†ã€‚</p>
<p>ç”±äº <code>unique_ptr</code> ç¦æ­¢å¤åˆ¶æ“ä½œï¼Œå› æ­¤åœ¨å‡½æ•°é—´ä¼ é€’çš„æ—¶å€™éœ€è¦æ³¨æ„æ–¹æ³•ï¼š</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">pass_up</span><span class="params">(unique_ptr&lt;<span class="type">int</span>&gt; up)</span> </span>{}</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pass_up1</span><span class="params">(<span class="type">int</span>&amp; value)</span> </span>{}</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pass_up2</span><span class="params">(<span class="type">int</span>* p)</span> </span>{}</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pass_up3</span><span class="params">(unique_ptr&lt;<span class="type">int</span>&gt;&amp; up)</span> </span>{}</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pass_up4</span><span class="params">(unique_ptr&lt;<span class="type">int</span>&gt; up)</span> </span>{}</span><br><span class="line"><span class="comment">//è¿”å›up</span></span><br><span class="line"><span class="function">unique_ptr&lt;<span class="type">int</span>&gt; <span class="title">return_uptr</span><span class="params">(<span class="type">int</span> value)</span> </span>{</span><br><span class="line">	unique_ptr&lt;<span class="type">int</span>&gt; up = <span class="built_in">make_unique</span>&lt;<span class="type">int</span>&gt;(value);</span><br><span class="line">	<span class="keyword">return</span> up;</span><br><span class="line">	<span class="comment">//return move(up);</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mian</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">auto</span> up = <span class="built_in">make_unique</span>&lt;<span class="type">int</span>&gt;(<span class="number">123</span>);</span><br><span class="line">	<span class="built_in">pass_up</span>(up); <span class="comment">//ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">	<span class="built_in">pass_up1</span>(*up);</span><br><span class="line">	<span class="built_in">pass_up2</span>(up.<span class="built_in">get</span>());</span><br><span class="line">	<span class="comment">//æ”¹å˜upæœ¬èº«</span></span><br><span class="line">	<span class="built_in">pass_up3</span>(up);</span><br><span class="line">	<span class="built_in">pass_up4</span>(<span class="built_in">move</span>(up));</span><br><span class="line">	unique_ptr&lt;<span class="type">int</span>&gt; up = <span class="built_in">return_uptr</span>(<span class="number">321</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å¼±æŒ‡é’ˆ-weak-ptr"><a href="#å¼±æŒ‡é’ˆ-weak-ptr" class="headerlink" title="å¼±æŒ‡é’ˆ(weak_ptr)"></a>å¼±æŒ‡é’ˆ (weak_ptr)</h2><h3 id="What"><a href="#What" class="headerlink" title="What"></a>What</h3><p>weak_ptr æ˜¯ä¸€ç§ä¼´éšç€ shared_ptr è€Œç”Ÿçš„æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒå¯ä»¥å»ºæ¨¡å¯¹è±¡çš„ä¸´æ—¶ç®¡ç†æƒï¼Œå¯ä»¥ç”¨æ¥è§£å†³ç¯å½¢ä¾èµ–çš„é—®é¢˜ã€‚<br>åœ¨ä¸æƒ³é¢å¤–æ§åˆ¶èµ„æºï¼Œä½†åˆæƒ³æ£€æŸ¥èµ„æºæ˜¯å¦å­˜åœ¨çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨å¼±æŒ‡é’ˆã€‚</p>
<ul>
<li><code>std::weak_ptr</code> ä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œä¸ä¼šå‚ä¸å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ã€‚</li>
<li>å®ƒåªæ˜¯ä¸€ç§å¼±å¼•ç”¨ï¼Œä¸å½±å“ <code>shared_ptr</code> çš„å¼•ç”¨è®¡æ•°ã€‚</li>
<li>åªæœ‰å½“æˆ‘ä»¬éœ€è¦è®¿é—®å¯¹è±¡æ—¶ï¼Œå¯ä»¥é€šè¿‡ <code>weak_ptr.lock()</code> ä¸´æ—¶è·å–ä¸€ä¸ª <code>shared_ptr</code>ï¼Œä»¥ç¡®ä¿å¯¹è±¡æ²¡æœ‰è¢«é”€æ¯ã€‚</li>
</ul>
<h3 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h3><h4 id="ç¯å½¢ä¾èµ–"><a href="#ç¯å½¢ä¾èµ–" class="headerlink" title="ç¯å½¢ä¾èµ–"></a>ç¯å½¢ä¾èµ–</h4><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>;  <span class="comment">// å‰å‘å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    std::shared_ptr&lt;B&gt; bPtr;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    std::shared_ptr&lt;A&gt; aPtr;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    std::shared_ptr&lt;A&gt; a = std::<span class="built_in">make_shared</span>&lt;A&gt;();</span><br><span class="line">    std::shared_ptr&lt;B&gt; b = std::<span class="built_in">make_shared</span>&lt;B&gt;();</span><br><span class="line">    a-&gt;bPtr = b;</span><br><span class="line">    b-&gt;aPtr = a;</span><br><span class="line">    <span class="comment">// åˆ°æ­¤ï¼Œa å’Œ b éƒ½è¶…å‡ºäº†ä½œç”¨åŸŸï¼Œä½†å®ƒä»¬æ— æ³•è¢«é‡Šæ”¾ï¼Œå› ä¸ºå­˜åœ¨ç¯å½¢å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ­¤æ—¶ï¼Œä¸¤ä¸ªå¯¹è±¡é—´å½¢æˆäº†ä¸€ä¸ª<strong>å¾ªç¯å¼•ç”¨</strong>ï¼š</p>
<ol>
<li><code>a</code> æŒæœ‰ <code>b</code> çš„ <code>shared_ptr</code>ï¼Œ<code>b</code> çš„å¼•ç”¨è®¡æ•°å¢åŠ åˆ° 2ã€‚</li>
<li><code>b</code> æŒæœ‰ <code>a</code> çš„ <code>shared_ptr</code>ï¼Œ<code>a</code> çš„å¼•ç”¨è®¡æ•°ä¹Ÿå¢åŠ åˆ° 2ã€‚<br>å½“ <code>main</code> å‡½æ•°ç»“æŸæ—¶ï¼Œ<code>a</code> å’Œ <code>b</code> è¶…å‡ºäº†ä½œç”¨åŸŸï¼Œ<code>shared_ptr</code> åº”è¯¥å¼€å§‹ææ„ã€‚ç„¶è€Œï¼š</li>
</ol>
<ul>
<li>å½“ <code>a</code> è¶…å‡ºä½œç”¨åŸŸæ—¶ï¼Œ<code>a</code> çš„ <code>shared_ptr</code> ä¼šè¢«é”€æ¯ï¼Œ<code>a</code> çš„å¼•ç”¨è®¡æ•°å‡ 1ï¼Œå˜ä¸º 1ï¼ˆå› ä¸º <code>b</code> è¿˜æŒæœ‰ <code>a</code> çš„ <code>shared_ptr</code>ï¼‰ã€‚</li>
<li>åŒæ ·åœ°ï¼Œå½“ <code>b</code> è¶…å‡ºä½œç”¨åŸŸæ—¶ï¼Œ<code>b</code> çš„å¼•ç”¨è®¡æ•°å‡ 1ï¼Œå˜ä¸º 1ï¼ˆå› ä¸º <code>a</code> è¿˜æŒæœ‰ <code>b</code> çš„ <code>shared_ptr</code>ï¼‰ã€‚<br>ç»“æœæ˜¯ï¼š</li>
<li><code>a</code> å’Œ <code>b</code> éƒ½æ— æ³•è¢«é”€æ¯ï¼Œå› ä¸ºå®ƒä»¬çš„å¼•ç”¨è®¡æ•°éƒ½ä¸æ˜¯ 0ã€‚</li>
<li><strong>å¾ªç¯å¼•ç”¨</strong>å¯¼è‡´å®ƒä»¬çš„å¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šå½’é›¶ï¼Œå†…å­˜æ— æ³•é‡Šæ”¾ï¼Œå½¢æˆäº†<strong>å†…å­˜æ³„æ¼</strong>ã€‚</li>
</ul>
<h3 id="How"><a href="#How" class="headerlink" title="How"></a>How</h3><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	std::weak_ptr&lt;A&gt; aPtr; <span class="comment">// B æŒæœ‰ A çš„ weak_ptr</span></span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šé€šè¿‡ä½¿ç”¨ <code>std::weak_ptr</code> æ‰“ç ´å…¶ä¸­ä¸€ä¸ªå¼•ç”¨é“¾ï¼Œä¸å†å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œä»è€Œé¿å…å¾ªç¯å¼•ç”¨çš„å‘ç”Ÿï¼Œç¡®ä¿å¯¹è±¡èƒ½å¤Ÿè¢«æ­£å¸¸é‡Šæ”¾ã€‚<br><strong>åˆ†æ</strong>ï¼š</p>
<ol>
<li>**<code>a</code> æŒæœ‰ <code>b</code> çš„ <code>shared_ptr</code>**ï¼šå½“ <code>a</code> å¯¹è±¡æŒæœ‰ <code>b</code> çš„ <code>shared_ptr</code> æ—¶ï¼Œ<code>b</code> çš„å¼•ç”¨è®¡æ•°ä» 1 å¢åŠ åˆ° 2ï¼Œå› ä¸º <code>a-&gt;bPtr</code> æ˜¯ä¸€ä¸ª <code>shared_ptr</code>ã€‚</li>
<li><strong><code>b</code> æŒæœ‰ <code>a</code> çš„ <code>weak_ptr</code><strong>ï¼š<code>b</code> æŒæœ‰çš„ <code>a-&gt;aPtr</code> æ˜¯ä¸€ä¸ª <code>weak_ptr</code>ï¼Œ</strong>ä¸ä¼šå¢åŠ  <code>a</code> çš„å¼•ç”¨è®¡æ•°</strong>ï¼Œå› æ­¤ <code>a</code> çš„å¼•ç”¨è®¡æ•°ä¿æŒä¸º 1ã€‚<br><strong>ç»“æŸæ—¶çš„ææ„è¡Œä¸º</strong>ï¼š</li>
</ol>
<ul>
<li><strong>å½“ <code>a</code> è¶…å‡ºä½œç”¨åŸŸæ—¶</strong>ï¼š<ul>
<li><code>a</code> çš„ <code>shared_ptr</code> è¢«é”€æ¯ï¼Œ<code>a</code> çš„å¼•ç”¨è®¡æ•°å‡å°‘ 1ï¼Œå˜ä¸º 0ï¼Œå› ä¸ºæ­¤æ—¶æ²¡æœ‰å…¶ä»– <code>shared_ptr</code> æŒ‡å‘ <code>a</code>ã€‚</li>
<li>ç”±äº <code>a</code> çš„å¼•ç”¨è®¡æ•°å½’é›¶ï¼Œ<code>a</code> å¯¹è±¡è¢«é”€æ¯ï¼Œ<code>a</code> æŒæœ‰çš„ <code>bPtr</code> ä¹Ÿè¢«é”€æ¯ï¼Œ<code>b</code> çš„å¼•ç”¨è®¡æ•°å‡ 1ï¼Œå˜ä¸º 1ã€‚</li>
</ul>
</li>
<li><strong>å½“ <code>b</code> è¶…å‡ºä½œç”¨åŸŸæ—¶</strong>ï¼š<ul>
<li><code>b</code> çš„ <code>shared_ptr</code> è¢«é”€æ¯ï¼Œ<code>b</code> çš„å¼•ç”¨è®¡æ•°å‡ 1ï¼Œå˜ä¸º 0ï¼Œå› ä¸ºæ­¤æ—¶æ²¡æœ‰å…¶ä»– <code>shared_ptr</code> æŒ‡å‘ <code>b</code>ã€‚</li>
<li>ç”±äº <code>b</code> çš„å¼•ç”¨è®¡æ•°å½’é›¶ï¼Œ<code>b</code> å¯¹è±¡ä¹Ÿè¢«é”€æ¯ã€‚</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>æ™ºèƒ½æŒ‡é’ˆ</tag>
        <tag>lambda</tag>
        <tag>ç¼–ç¨‹</tag>
        <tag>å†…å­˜ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>Git Command è‡ªç”¨</title>
    <url>/2025/08/06/Git-Command/</url>
    <content><![CDATA[<h2 id="é¡¹ç›®æ¨¡æ‹Ÿåœºæ™¯"><a href="#é¡¹ç›®æ¨¡æ‹Ÿåœºæ™¯" class="headerlink" title="é¡¹ç›®æ¨¡æ‹Ÿåœºæ™¯"></a>é¡¹ç›®æ¨¡æ‹Ÿåœºæ™¯</h2><h3 id="é¡¹ç›®åˆå§‹åŒ–é˜¶æ®µ"><a href="#é¡¹ç›®åˆå§‹åŒ–é˜¶æ®µ" class="headerlink" title="é¡¹ç›®åˆå§‹åŒ–é˜¶æ®µ"></a>é¡¹ç›®åˆå§‹åŒ–é˜¶æ®µ</h3><h4 id="1-åˆ›å»ºè¿œç¨‹ä»“åº“"><a href="#1-åˆ›å»ºè¿œç¨‹ä»“åº“" class="headerlink" title="1. åˆ›å»ºè¿œç¨‹ä»“åº“"></a>1. åˆ›å»ºè¿œç¨‹ä»“åº“</h4><ul>
<li>åœ¨ GitHub åˆ›å»º private ä»“åº“</li>
<li>é‚€è¯·åä½œè€…</li>
</ul>
<h4 id="2-åˆå§‹åŒ–æœ¬åœ°é¡¹ç›®"><a href="#2-åˆå§‹åŒ–æœ¬åœ°é¡¹ç›®" class="headerlink" title="2. åˆå§‹åŒ–æœ¬åœ°é¡¹ç›®"></a>2. åˆå§‹åŒ–æœ¬åœ°é¡¹ç›®</h4><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mkdir ProjectName &amp;&amp; cd ProjectName</span><br><span class="line">echo "# ProjectName - é¡¹ç›®æè¿°" &gt; README.md</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m "chore: initial project setup"</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºåŸºç¡€åˆ†æ”¯ç»“æ„</span></span><br><span class="line">git switch -c develop</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºåˆå§‹ç›®å½•ç»“æ„</span></span><br><span class="line">mkdir -p backend frontend docs</span><br><span class="line">echo "åç«¯æœåŠ¡" &gt; backend/README.md</span><br><span class="line">echo "å‰ç«¯åº”ç”¨" &gt; frontend/README.md</span><br><span class="line">echo "é¡¹ç›®æ–‡æ¡£" &gt; docs/README.md</span><br><span class="line">git add .</span><br><span class="line">git commit -m "build: create project structure"</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¨é€åˆ°è¿œç¨‹</span></span><br><span class="line">git remote add origin https://github.com/username/ProjectName.git</span><br><span class="line">git push -u origin main develop</span><br></pre></td></tr></tbody></table></figure>

<h4 id="3-è®¾ç½®åˆ†æ”¯ä¿æŠ¤-ä»“åº“-settings"><a href="#3-è®¾ç½®åˆ†æ”¯ä¿æŠ¤-ä»“åº“-settings" class="headerlink" title="3. è®¾ç½®åˆ†æ”¯ä¿æŠ¤(ä»“åº“ settings)"></a>3. è®¾ç½®åˆ†æ”¯ä¿æŠ¤ (ä»“åº“ settings)</h4><ul>
<li><code>main</code> åˆ†æ”¯ï¼šRequire pull request, Require 1 approval, Require status checks</li>
<li><code>develop</code> åˆ†æ”¯ï¼šRequire pull request, Require status checks</li>
</ul>
<h3 id="å¼€å‘ç¯å¢ƒé…ç½®"><a href="#å¼€å‘ç¯å¢ƒé…ç½®" class="headerlink" title="å¼€å‘ç¯å¢ƒé…ç½®"></a>å¼€å‘ç¯å¢ƒé…ç½®</h3><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰€æœ‰å›¢é˜Ÿæˆå‘˜å…‹éš†ä»“åº“</span></span><br><span class="line">git clone https://github.com/username/ProjectName.git</span><br><span class="line">cd ProjectName</span><br><span class="line">git switch develop</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆå§‹åŒ–åç«¯é¡¹ç›®</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># åç«¯æˆå‘˜æ“ä½œ</span></span></span><br><span class="line">git pull origin develop</span><br><span class="line">cd backend</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…·ä½“æŠ€æœ¯æ ˆåˆå§‹åŒ–å‘½ä»¤ç¤ºä¾‹:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">spring init --dependencies=web,data-jpa,mysql,security --build=gradle -n BackendProject</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> BackendProject/* . &amp;&amp; <span class="built_in">rmdir</span> BackendProject</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m "build: initialize backend"</span><br><span class="line">git push origin develop</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆå§‹åŒ–å‰ç«¯é¡¹ç›®</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># å‰ç«¯æˆå‘˜æ“ä½œ</span></span></span><br><span class="line">git pull origin develop</span><br><span class="line">cd frontend</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…·ä½“æŠ€æœ¯æ ˆåˆå§‹åŒ–å‘½ä»¤ç¤ºä¾‹:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">npm init vue@latest -- --projectName=<span class="string">"FrontendProject"</span> --typescript --pinia --vitest</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mv</span> FrontendProject/* . &amp;&amp; <span class="built_in">rmdir</span> FrontendProject</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m "build: initialize frontend"</span><br><span class="line">git push origin develop</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœdevelopè®¾ç½®äº†åˆ†æ”¯ä¿æŠ¤ï¼Œè¯¥pushä¼šå¤±è´¥ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</span></span><br><span class="line">git pull origin develop</span><br><span class="line">git switch -c feature/init-frontend</span><br><span class="line">cd frontend</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰§è¡Œå‰ç«¯åˆå§‹åŒ–å‘½ä»¤</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m "build: initialize frontend"</span><br><span class="line">git push -u origin feature/init-frontend</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‰ç«¯æˆå‘˜å»githubç½‘é¡µåˆ›å»ºPRï¼Œrevieweråœ¨ç½‘é¡µå¤„ç†PRï¼Œæ¥ç€å‰ç«¯æˆå‘˜åŒæ­¥æœ€æ–°çš„develop</span></span><br><span class="line">git switch develop</span><br><span class="line">git pull origin develop</span><br><span class="line">git branch -d feature/init-frontend   # åˆ æ‰æœ¬åœ°åŠŸèƒ½åˆ†æ”¯</span><br></pre></td></tr></tbody></table></figure>

<h2 id="é¡¹ç›®å¼€å‘é˜¶æ®µ"><a href="#é¡¹ç›®å¼€å‘é˜¶æ®µ" class="headerlink" title="é¡¹ç›®å¼€å‘é˜¶æ®µ"></a>é¡¹ç›®å¼€å‘é˜¶æ®µ</h2><h3 id="è¿­ä»£-1ï¼šç”¨æˆ·è®¤è¯ç³»ç»Ÿ"><a href="#è¿­ä»£-1ï¼šç”¨æˆ·è®¤è¯ç³»ç»Ÿ" class="headerlink" title="è¿­ä»£ 1ï¼šç”¨æˆ·è®¤è¯ç³»ç»Ÿ"></a>è¿­ä»£ 1ï¼šç”¨æˆ·è®¤è¯ç³»ç»Ÿ</h3><h4 id="åç«¯æˆå‘˜å¼€å‘è®¤è¯-API"><a href="#åç«¯æˆå‘˜å¼€å‘è®¤è¯-API" class="headerlink" title="åç«¯æˆå‘˜å¼€å‘è®¤è¯ API"></a>åç«¯æˆå‘˜å¼€å‘è®¤è¯ API</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git switch develop</span><br><span class="line">git pull origin develop</span><br><span class="line">git switch -c feature/backend-auth</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å‘è®¤è¯åŠŸèƒ½</span></span><br><span class="line"><span class="comment"># ... ç¼–å†™JWTè®¤è¯é€»è¾‘ ...</span></span><br><span class="line">git add backend/src/main/java/com/project/auth/**</span><br><span class="line">git commit -m <span class="string">"feat(auth): implement JWT authentication"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å‘APIæ–‡æ¡£</span></span><br><span class="line"><span class="comment"># ... æ·»åŠ Swaggeræ³¨è§£ ...</span></span><br><span class="line">git add backend/src/main/java/com/project/controller/AuthController.java</span><br><span class="line">git commit -m <span class="string">"docs(auth): add swagger API documentation"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨é€åˆ°è¿œç¨‹</span></span><br><span class="line">git push -u origin feature/backend-auth</span><br></pre></td></tr></tbody></table></figure>

<h4 id="å‰ç«¯æˆå‘˜å¼€å‘ç™»å½•ç•Œé¢"><a href="#å‰ç«¯æˆå‘˜å¼€å‘ç™»å½•ç•Œé¢" class="headerlink" title="å‰ç«¯æˆå‘˜å¼€å‘ç™»å½•ç•Œé¢"></a>å‰ç«¯æˆå‘˜å¼€å‘ç™»å½•ç•Œé¢</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git switch develop</span><br><span class="line">git pull origin develop</span><br><span class="line">git switch -c feature/frontend-login</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸºäºåç«¯Swaggerç”ŸæˆTSç±»å‹</span></span><br><span class="line">npx openapi-typescript http://localhost:8080/v3/api-docs -o src/api-types.d.ts</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å‘ç™»å½•ç»„ä»¶</span></span><br><span class="line"><span class="comment"># ... åˆ›å»ºLogin.vue ...</span></span><br><span class="line">git add frontend/src/views/Login.vue</span><br><span class="line">git commit -m <span class="string">"feat(login): implement login page UI"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å‘è®¤è¯é€»è¾‘</span></span><br><span class="line"><span class="comment"># ... å®ç°axiosæ‹¦æˆªå™¨ ...</span></span><br><span class="line">git add frontend/src/services/auth.ts</span><br><span class="line">git commit -m <span class="string">"feat(auth): implement token management"</span></span><br><span class="line"></span><br><span class="line">git push -u origin feature/frontend-login</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä»£ç å®¡æŸ¥ä¸åˆå¹¶"><a href="#ä»£ç å®¡æŸ¥ä¸åˆå¹¶" class="headerlink" title="ä»£ç å®¡æŸ¥ä¸åˆå¹¶"></a>ä»£ç å®¡æŸ¥ä¸åˆå¹¶</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># åç«¯æˆå‘˜åˆ›å»ºPR: feature/backend-auth â†’ develop</span></span><br><span class="line"><span class="comment"># å‰ç«¯æˆå‘˜åˆ›å»ºPR: feature/frontend-login â†’ develop</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¡æŸ¥è¿‡ç¨‹ï¼š</span></span><br><span class="line"><span class="comment">## 1. å‰ç«¯æˆå‘˜éªŒè¯åç«¯APIæ–‡æ¡£</span></span><br><span class="line"><span class="comment">## 2. åç«¯æˆå‘˜æ£€æŸ¥å‰ç«¯tokenå¤„ç†é€»è¾‘</span></span><br><span class="line"><span class="comment">## 3. é¡¹ç›®ç»ç†æ‰¹å‡†åˆå¹¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶åæ“ä½œï¼ˆé¡¹ç›®ç»ç†ï¼‰ï¼š</span></span><br><span class="line">git switch develop</span><br><span class="line">git pull origin develop</span><br><span class="line"><span class="comment"># å¦‚æœä¸èµ°ç½‘é¡µPRï¼Œå¯åœ¨æœ¬åœ°åˆå¹¶</span></span><br><span class="line">git merge --no-ff feature/backend-auth</span><br><span class="line">git merge --no-ff feature/frontend-login</span><br><span class="line">git push origin develop</span><br></pre></td></tr></tbody></table></figure>

<h3 id="è¿­ä»£-2ï¼šæ•°æ®åˆ†æçœ‹æ¿"><a href="#è¿­ä»£-2ï¼šæ•°æ®åˆ†æçœ‹æ¿" class="headerlink" title="è¿­ä»£ 2ï¼šæ•°æ®åˆ†æçœ‹æ¿"></a>è¿­ä»£ 2ï¼šæ•°æ®åˆ†æçœ‹æ¿</h3><h4 id="åç«¯æˆå‘˜å¼€å‘åˆ†æ-API"><a href="#åç«¯æˆå‘˜å¼€å‘åˆ†æ-API" class="headerlink" title="åç«¯æˆå‘˜å¼€å‘åˆ†æ API"></a>åç«¯æˆå‘˜å¼€å‘åˆ†æ API</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git switch develop</span><br><span class="line">git pull origin develop</span><br><span class="line">git switch -c feature/backend-analysis</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®åº“è¿ç§»è„šæœ¬</span></span><br><span class="line"><span class="comment"># ... ä½¿ç”¨Liquibase/Flywayç­‰ ...</span></span><br><span class="line">git add backend/src/main/resources/db/changelog/v1.1__analysis_tables.xml</span><br><span class="line">git commit -m <span class="string">"db: add analysis tables"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å‘åˆ†æç®—æ³•</span></span><br><span class="line"><span class="comment"># ... é›†æˆæ•°æ®åˆ†ææ¨¡å‹ ...</span></span><br><span class="line">git add backend/src/main/java/com/project/service/AnalysisService.java</span><br><span class="line">git commit -m <span class="string">"feat(analysis): implement data analysis model"</span></span><br><span class="line"></span><br><span class="line">git push -u origin feature/backend-analysis</span><br></pre></td></tr></tbody></table></figure>

<h4 id="å‰ç«¯æˆå‘˜å¼€å‘å¯è§†åŒ–çœ‹æ¿"><a href="#å‰ç«¯æˆå‘˜å¼€å‘å¯è§†åŒ–çœ‹æ¿" class="headerlink" title="å‰ç«¯æˆå‘˜å¼€å‘å¯è§†åŒ–çœ‹æ¿"></a>å‰ç«¯æˆå‘˜å¼€å‘å¯è§†åŒ–çœ‹æ¿</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git switch develop</span><br><span class="line">git pull origin develop</span><br><span class="line">git switch -c feature/frontend-dashboard</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…å¯è§†åŒ–åº“</span></span><br><span class="line">npm install echarts vue-echarts</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å‘çœ‹æ¿ç»„ä»¶</span></span><br><span class="line"><span class="comment"># ... åˆ›å»ºDashboard.vue ...</span></span><br><span class="line">git add frontend/src/views/Dashboard.vue</span><br><span class="line">git commit -m <span class="string">"feat(dashboard): implement analysis charts"</span></span><br><span class="line"></span><br><span class="line">git push -u origin feature/frontend-dashboard</span><br></pre></td></tr></tbody></table></figure>

<h4 id="é‡åˆ°é—®é¢˜ï¼šAPI-å˜æ›´å†²çª"><a href="#é‡åˆ°é—®é¢˜ï¼šAPI-å˜æ›´å†²çª" class="headerlink" title="é‡åˆ°é—®é¢˜ï¼šAPI å˜æ›´å†²çª"></a>é‡åˆ°é—®é¢˜ï¼šAPI å˜æ›´å†²çª</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># åç«¯æˆå‘˜ä¿®æ”¹äº†APIå“åº”æ ¼å¼</span></span><br><span class="line">git add backend/src/main/java/com/project/controller/DataController.java</span><br><span class="line">git commit -m <span class="string">"refactor(api): update response format for frontend"</span></span><br><span class="line">git push origin feature/backend-analysis --force</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‰ç«¯æˆå‘˜éœ€è¦åŒæ­¥å˜æ›´</span></span><br><span class="line">git switch feature/frontend-dashboard</span><br><span class="line">git fetch origin</span><br><span class="line">git rebase origin/develop  <span class="comment"># è·å–æœ€æ–°APIå˜æ›´</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å†³å‰ç«¯é€‚é…é—®é¢˜</span></span><br><span class="line"><span class="comment"># ... æ›´æ–°æ•°æ®å¤„ç†é€»è¾‘ ...</span></span><br><span class="line">git add frontend/src/views/Dashboard.vue</span><br><span class="line">git commit -m <span class="string">"fix(dashboard): adapt to new API response format"</span></span><br><span class="line">git push origin feature/frontend-dashboard --force</span><br></pre></td></tr></tbody></table></figure>

<h3 id="è¿­ä»£-3ï¼šæ¨èç³»ç»Ÿ"><a href="#è¿­ä»£-3ï¼šæ¨èç³»ç»Ÿ" class="headerlink" title="è¿­ä»£ 3ï¼šæ¨èç³»ç»Ÿ"></a>è¿­ä»£ 3ï¼šæ¨èç³»ç»Ÿ</h3><h4 id="å¤šäººåä½œå¼€å‘"><a href="#å¤šäººåä½œå¼€å‘" class="headerlink" title="å¤šäººåä½œå¼€å‘"></a>å¤šäººåä½œå¼€å‘</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># åç«¯æˆå‘˜Aå¼€å‘æ•°æ®ç®¡ç†</span></span><br><span class="line">git switch develop</span><br><span class="line">git switch -c feature/backend-data-mgmt</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‰ç«¯æˆå‘˜å¼€å‘æ¨èç•Œé¢</span></span><br><span class="line">git switch develop</span><br><span class="line">git switch -c feature/frontend-recommendation</span><br><span class="line"></span><br><span class="line"><span class="comment"># åç«¯æˆå‘˜Bå¼€å‘æ¨èç®—æ³•</span></span><br><span class="line">git switch develop</span><br><span class="line">git switch -c feature/backend-recommend-engine</span><br></pre></td></tr></tbody></table></figure>

<h4 id="é‡åˆ°æ•°æ®åº“å†²çª"><a href="#é‡åˆ°æ•°æ®åº“å†²çª" class="headerlink" title="é‡åˆ°æ•°æ®åº“å†²çª"></a>é‡åˆ°æ•°æ®åº“å†²çª</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># åç«¯æˆå‘˜Aæäº¤äº†æ•°æ®è¡¨å˜æ›´</span></span><br><span class="line">git add backend/src/main/resources/db/changelog/v1.2__data_tables.xml</span><br><span class="line">git commit -m <span class="string">"db: add data tables"</span></span><br><span class="line">git push origin feature/backend-data-mgmt</span><br><span class="line"></span><br><span class="line"><span class="comment"># åç«¯æˆå‘˜Bä¹Ÿéœ€è¦ä¿®æ”¹æ•°æ®åº“</span></span><br><span class="line">git switch feature/backend-recommend-engine</span><br><span class="line">git fetch origin</span><br><span class="line">git rebase origin/develop</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡åˆ°å†²çªï¼šdb/changelog/changelog-master.yaml</span></span><br><span class="line"><span class="comment"># è§£å†³å†²çªå</span></span><br><span class="line">git add backend/src/main/resources/db/changelog/</span><br><span class="line">git rebase --<span class="built_in">continue</span></span><br><span class="line">git push origin feature/backend-recommend-engine --force</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æµ‹è¯•ä¸å‘å¸ƒé˜¶æ®µ"><a href="#æµ‹è¯•ä¸å‘å¸ƒé˜¶æ®µ" class="headerlink" title="æµ‹è¯•ä¸å‘å¸ƒé˜¶æ®µ"></a>æµ‹è¯•ä¸å‘å¸ƒé˜¶æ®µ</h2><h3 id="é¢„å‘å¸ƒå‡†å¤‡"><a href="#é¢„å‘å¸ƒå‡†å¤‡" class="headerlink" title="é¢„å‘å¸ƒå‡†å¤‡"></a>é¢„å‘å¸ƒå‡†å¤‡</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºå‘å¸ƒåˆ†æ”¯</span></span><br><span class="line">git switch develop</span><br><span class="line">git pull origin develop</span><br><span class="line">git switch -c release/v1.0.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°ç‰ˆæœ¬å·</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"1.0.0"</span> &gt; VERSION</span><br><span class="line">git add VERSION</span><br><span class="line">git commit -m <span class="string">"chore: prepare release v1.0.0"</span></span><br><span class="line">git push -u origin release/v1.0.0</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æµ‹è¯•é—®é¢˜ä¿®å¤"><a href="#æµ‹è¯•é—®é¢˜ä¿®å¤" class="headerlink" title="æµ‹è¯•é—®é¢˜ä¿®å¤"></a>æµ‹è¯•é—®é¢˜ä¿®å¤</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># å‘ç°æƒé™é—®é¢˜</span></span><br><span class="line">git switch release/v1.0.0</span><br><span class="line">git switch -c fix/permission-issue</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®å¤åç«¯æƒé™éªŒè¯</span></span><br><span class="line"><span class="comment"># ... ä¿®æ”¹SecurityConfigç­‰ ...</span></span><br><span class="line">git add backend/src/main/java/com/project/config/SecurityConfig.java</span><br><span class="line">git commit -m <span class="string">"fix(auth): correct role permissions"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶å›å‘å¸ƒåˆ†æ”¯</span></span><br><span class="line">git switch release/v1.0.0</span><br><span class="line">git merge --no-ff fix/permission-issue</span><br><span class="line">git push origin release/v1.0.0</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ­£å¼å‘å¸ƒ"><a href="#æ­£å¼å‘å¸ƒ" class="headerlink" title="æ­£å¼å‘å¸ƒ"></a>æ­£å¼å‘å¸ƒ</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># åˆå¹¶åˆ°mainåˆ†æ”¯</span></span><br><span class="line">git switch main</span><br><span class="line">git pull origin main</span><br><span class="line">git merge --no-ff release/v1.0.0</span><br><span class="line">git tag -a v1.0.0 -m <span class="string">"Initial release with core features"</span></span><br><span class="line">git push origin main --tags</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°developåˆ†æ”¯</span></span><br><span class="line">git switch develop</span><br><span class="line">git merge release/v1.0.0</span><br><span class="line">git push origin develop</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å‘å¸ƒåˆ†æ”¯</span></span><br><span class="line">git branch -d release/v1.0.0</span><br><span class="line">git push origin --delete release/v1.0.0</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ç”Ÿäº§ç¯å¢ƒé—®é¢˜å¤„ç†"><a href="#ç”Ÿäº§ç¯å¢ƒé—®é¢˜å¤„ç†" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒé—®é¢˜å¤„ç†"></a>ç”Ÿäº§ç¯å¢ƒé—®é¢˜å¤„ç†</h2><h3 id="ç´§æ€¥ä¿®å¤ç¤ºä¾‹"><a href="#ç´§æ€¥ä¿®å¤ç¤ºä¾‹" class="headerlink" title="ç´§æ€¥ä¿®å¤ç¤ºä¾‹"></a>ç´§æ€¥ä¿®å¤ç¤ºä¾‹</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># ä»mainåˆ›å»ºçƒ­ä¿®å¤åˆ†æ”¯</span></span><br><span class="line">git switch main</span><br><span class="line">git pull origin main</span><br><span class="line">git switch -c hotfix/critical-bug-fix</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®å¤é—®é¢˜</span></span><br><span class="line"><span class="comment"># ... ä¿®æ”¹ç›¸å…³æœåŠ¡ ...</span></span><br><span class="line">git add backend/src/main/java/com/project/service/DataService.java</span><br><span class="line">git commit -m <span class="string">"fix(service): handle large dataset processing"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶åˆ°mainå’Œdevelop</span></span><br><span class="line">git switch main</span><br><span class="line">git merge --no-ff hotfix/critical-bug-fix</span><br><span class="line">git tag -a v1.0.1 -m <span class="string">"Hotfix for critical bug"</span></span><br><span class="line">git push origin main --tags</span><br><span class="line"></span><br><span class="line">git switch develop</span><br><span class="line">git merge hotfix/critical-bug-fix</span><br><span class="line">git push origin develop</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤çƒ­ä¿®å¤åˆ†æ”¯</span></span><br><span class="line">git branch -d hotfix/critical-bug-fix</span><br></pre></td></tr></tbody></table></figure>

<h2 id="checkout-å’Œ-switch-çš„åŒºåˆ«"><a href="#checkout-å’Œ-switch-çš„åŒºåˆ«" class="headerlink" title="checkout å’Œ switch çš„åŒºåˆ«"></a>checkout å’Œ switch çš„åŒºåˆ«</h2><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ†æ”¯åˆ‡æ¢</span></span><br><span class="line">git checkout existing-branch</span><br><span class="line">git switch existing-branch</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</span></span><br><span class="line">git checkout -b feature/new-feature</span><br><span class="line">git switch -c feature/new-feature</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–‡ä»¶æ¢å¤</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ ¸å¿ƒåœºæ™¯ï¼šä½ è¿˜æ²¡æäº¤ï¼Œä½†æŠŠæŸä¸ªæ–‡ä»¶æ”¹åäº†ï¼Œæƒ³æ’¤é”€æ‰€æœ‰æœªæš‚å­˜çš„æœ¬åœ°ä¿®æ”¹ï¼Œè®©å®ƒç«‹åˆ»å›åˆ°ä¸Šä¸€æ¬¡æäº¤æ—¶çš„æ ·å­ï¼ˆè¯¯åˆ ä¹Ÿç”¨è¿™ä¸ªï¼‰</span></span><br><span class="line">git checkout -- src/components/Component.vue</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœå·²æš‚å­˜ï¼Œå…ˆç”¨`git reset HEAD &lt;file&gt;`å–æ¶ˆæš‚å­˜ï¼Œå†ç”¨checkout</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹å†å²æäº¤ï¼ˆåªè¯»æ¨¡å¼ï¼‰</span></span><br><span class="line">git checkout HEAD~3</span><br><span class="line">git switch --detach HEAD~3</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰å…¨æœºåˆ¶</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å½“æœ‰æœªæäº¤æ›´æ”¹æ—¶å°è¯•åˆ‡æ¢åˆ†æ”¯ï¼Œswitchä¼šæŠ¥é”™ï¼Œè€Œcheckoutä¼šå°è¯•è‡ªåŠ¨åˆå¹¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="pull-fetch-çš„åŒºåˆ«"><a href="#pull-fetch-çš„åŒºåˆ«" class="headerlink" title="pull &amp; fetch çš„åŒºåˆ«"></a>pull &amp; fetch çš„åŒºåˆ«</h2><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pull = fetch + merge</span></span><br><span class="line">git pull origin develop</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ†æ­¥æ“ä½œæ›´å®‰å…¨</span></span><br><span class="line">git fetch origin           # è·å–è¿œç¨‹æ›´æ–°ä½†ä¸åˆå¹¶</span><br><span class="line">git log origin/develop..HEAD  # æŸ¥çœ‹å·®å¼‚</span><br><span class="line">git merge origin/develop    # æ‰‹åŠ¨åˆå¹¶</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rebaseæ–¹å¼æ‹‰å–ï¼ˆä¿æŒçº¿æ€§å†å²ï¼‰</span></span><br><span class="line">git pull --rebase origin develop</span><br></pre></td></tr></tbody></table></figure>

<h2 id="rebase-merge-çš„åŒºåˆ«"><a href="#rebase-merge-çš„åŒºåˆ«" class="headerlink" title="rebase &amp; merge çš„åŒºåˆ«"></a>rebase &amp; merge çš„åŒºåˆ«</h2><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mergeæ–¹å¼ï¼šä¿ç•™åˆ†æ”¯å†å²</span></span><br><span class="line">git switch main</span><br><span class="line">git merge feature/login     # åˆ›å»ºåˆå¹¶æäº¤</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rebaseæ–¹å¼ï¼šçº¿æ€§å†å²æ›´æ•´æ´</span></span><br><span class="line">git switch feature/login</span><br><span class="line">git rebase main            # é‡æ–°åº”ç”¨æäº¤</span><br><span class="line">git switch main</span><br><span class="line">git merge feature/login    # å¿«è¿›åˆå¹¶</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥"><a href="#å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥" class="headerlink" title="å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥"></a>å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥</h2><h3 id="åˆ†æ”¯æ“ä½œ"><a href="#åˆ†æ”¯æ“ä½œ" class="headerlink" title="åˆ†æ”¯æ“ä½œ"></a>åˆ†æ”¯æ“ä½œ</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æŸ¥çœ‹åˆ†æ”¯</td>
<td><code>git branch -a</code></td>
<td>æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯</td>
</tr>
<tr>
<td>åˆ‡æ¢åˆ†æ”¯</td>
<td><code>git switch branch-name</code></td>
<td>æ¨èç”¨æ³•</td>
</tr>
<tr>
<td>åˆ›å»ºåˆ‡æ¢</td>
<td><code>git switch -c new-branch</code></td>
<td>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</td>
</tr>
<tr>
<td>åˆ é™¤åˆ†æ”¯</td>
<td><code>git branch -d branch-name</code></td>
<td>åˆ é™¤å·²åˆå¹¶åˆ†æ”¯</td>
</tr>
<tr>
<td>å¼ºåˆ¶åˆ é™¤</td>
<td><code>git branch -D branch-name</code></td>
<td>å¼ºåˆ¶åˆ é™¤åˆ†æ”¯</td>
</tr>
</tbody></table>
<h3 id="åŒæ­¥æ“ä½œ"><a href="#åŒæ­¥æ“ä½œ" class="headerlink" title="åŒæ­¥æ“ä½œ"></a>åŒæ­¥æ“ä½œ</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æ‹‰å–æ›´æ–°</td>
<td><code>git pull origin main</code></td>
<td>æ‹‰å–å¹¶åˆå¹¶</td>
</tr>
<tr>
<td>è·å–æ›´æ–°</td>
<td><code>git fetch origin</code></td>
<td>åªè·å–ä¸åˆå¹¶</td>
</tr>
<tr>
<td>æ¨é€åˆ†æ”¯</td>
<td><code>git push -u origin HEAD</code></td>
<td>æ¨é€å½“å‰åˆ†æ”¯</td>
</tr>
<tr>
<td>å¼ºåˆ¶æ¨é€</td>
<td><code>git push --force-with-lease</code></td>
<td>å®‰å…¨å¼ºæ¨</td>
</tr>
</tbody></table>
<h3 id="æäº¤ç®¡ç†"><a href="#æäº¤ç®¡ç†" class="headerlink" title="æäº¤ç®¡ç†"></a>æäº¤ç®¡ç†</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æŸ¥çœ‹çŠ¶æ€</td>
<td><code>git status</code></td>
<td>æ£€æŸ¥å·¥ä½œåŒºçŠ¶æ€</td>
</tr>
<tr>
<td>æš‚å­˜æ–‡ä»¶</td>
<td><code>git add .</code></td>
<td>æš‚å­˜æ‰€æœ‰å˜æ›´</td>
</tr>
<tr>
<td>æäº¤å˜æ›´</td>
<td><code>git commit -m "message"</code></td>
<td>æäº¤æš‚å­˜åŒº</td>
</tr>
<tr>
<td>ä¿®æ”¹æäº¤</td>
<td><code>git commit --amend</code></td>
<td>ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤</td>
</tr>
<tr>
<td>æ’¤é”€æäº¤</td>
<td><code>git reset --soft HEAD~1</code></td>
<td>æ’¤é”€ä½†ä¿ç•™æ›´æ”¹</td>
</tr>
</tbody></table>
<h3 id="å†å²æŸ¥çœ‹"><a href="#å†å²æŸ¥çœ‹" class="headerlink" title="å†å²æŸ¥çœ‹"></a>å†å²æŸ¥çœ‹</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æŸ¥çœ‹å†å²</td>
<td><code>git log --oneline</code></td>
<td>ç®€æ´å†å²</td>
</tr>
<tr>
<td>å›¾å½¢åŒ–å†å²</td>
<td><code>git log --graph --all</code></td>
<td>åˆ†æ”¯å›¾</td>
</tr>
<tr>
<td>æ–‡ä»¶å†å²</td>
<td><code>git log -p filename</code></td>
<td>æ–‡ä»¶å˜æ›´å†å²</td>
</tr>
<tr>
<td>æŸ¥çœ‹å·®å¼‚</td>
<td><code>git diff HEAD~1</code></td>
<td>ä¸ä¸Šæ¬¡æäº¤æ¯”è¾ƒ</td>
</tr>
</tbody></table>
<h2 id="å…³é”®-git-å‘½ä»¤é€ŸæŸ¥è¡¨"><a href="#å…³é”®-git-å‘½ä»¤é€ŸæŸ¥è¡¨" class="headerlink" title="å…³é”® git å‘½ä»¤é€ŸæŸ¥è¡¨"></a>å…³é”® git å‘½ä»¤é€ŸæŸ¥è¡¨</h2><table>
<thead>
<tr>
<th align="center">åœºæ™¯</th>
<th align="center">å‘½ä»¤</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">å¼€å§‹æ–°åŠŸèƒ½</td>
<td align="center"> git switch develop &amp;&amp; git pull &amp;&amp; git switch -c feature/[name]</td>
<td align="center"> ä» develop åˆ›å»ºæ–°åŠŸèƒ½åˆ†æ”¯</td>
</tr>
<tr>
<td align="center">æ¯æ—¥åŒæ­¥</td>
<td align="center"> git fetch origin &amp;&amp; git rebase origin/develop</td>
<td align="center"> ä¿æŒä¸ develop åŒæ­¥</td>
</tr>
<tr>
<td align="center">æäº¤å˜æ›´</td>
<td align="center"> git add . &amp;&amp; git commit -m â€œâ€¦â€ &amp;&amp; git push -u origin HEAD</td>
<td align="center"> æ¨é€å½“å‰åˆ†æ”¯</td>
</tr>
<tr>
<td align="center">è§£å†³å†²çª</td>
<td align="center"> git rebase â€“continue æˆ– git rebase â€“abort</td>
<td align="center"> å˜åŸºæ“ä½œæ§åˆ¶</td>
</tr>
<tr>
<td align="center">æ’¤é”€é”™è¯¯æäº¤</td>
<td align="center"> git reset â€“soft HEAD~1</td>
<td align="center"> æ’¤é”€æœ€åä¸€æ¬¡æäº¤</td>
</tr>
<tr>
<td align="center">æŸ¥çœ‹åˆ†æ”¯å…³ç³»</td>
<td align="center"> git log â€“all â€“graph â€“oneline</td>
<td align="center"> å¯è§†åŒ–åˆ†æ”¯å†å²</td>
</tr>
</tbody></table>
<h2 id="git-æäº¤è§„èŒƒ"><a href="#git-æäº¤è§„èŒƒ" class="headerlink" title="git æäº¤è§„èŒƒ"></a>git æäº¤è§„èŒƒ</h2><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line">feat: æ·»åŠ æ–°åŠŸèƒ½</span><br><span class="line">fix: ä¿®å¤ bug</span><br><span class="line">docs: æ–‡æ¡£å˜æ›´</span><br><span class="line">style: ä»£ç æ ¼å¼/æ ·å¼è°ƒæ•´</span><br><span class="line">refactor: ä»£ç é‡æ„</span><br><span class="line">test: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•</span><br><span class="line">chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å˜æ›´</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å¸¸ç”¨åœºæ™¯è¡¥å……"><a href="#å¸¸ç”¨åœºæ™¯è¡¥å……" class="headerlink" title="å¸¸ç”¨åœºæ™¯è¡¥å……"></a>å¸¸ç”¨åœºæ™¯è¡¥å……</h2><h3 id="å‚¨è—å·¥ä½œè¿›åº¦"><a href="#å‚¨è—å·¥ä½œè¿›åº¦" class="headerlink" title="å‚¨è—å·¥ä½œè¿›åº¦"></a>å‚¨è—å·¥ä½œè¿›åº¦</h3><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸´æ—¶ä¿å­˜å½“å‰å·¥ä½œ</span></span><br><span class="line">git stash push -m "work in progress"</span><br><span class="line">git stash list               # æŸ¥çœ‹å‚¨è—åˆ—è¡¨</span><br><span class="line">git stash pop               # æ¢å¤æœ€æ–°å‚¨è—</span><br><span class="line">git stash apply stash@{1}   # æ¢å¤æŒ‡å®šå‚¨è—</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h3><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ’¤é”€å·²æš‚å­˜çš„æ–‡ä»¶</span></span><br><span class="line">git reset HEAD filename</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ’¤é”€æœ¬åœ°ä¿®æ”¹</span></span><br><span class="line">git checkout -- filename</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹è€…</span></span><br><span class="line">git blame filename</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¢å¤å·²åˆ é™¤çš„æ–‡ä»¶</span></span><br><span class="line">git checkout HEAD~1 -- deleted-file.js</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å†å²æŸ¥çœ‹-1"><a href="#å†å²æŸ¥çœ‹-1" class="headerlink" title="å†å²æŸ¥çœ‹"></a>å†å²æŸ¥çœ‹</h3><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹ç®€æ´å†å²</span></span><br><span class="line">git log --oneline</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹åˆ†æ”¯å›¾</span></span><br><span class="line">git log --all --graph --oneline</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ–‡ä»¶å˜æ›´å†å²</span></span><br><span class="line">git log -p -- filename</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æœç´¢æäº¤ä¿¡æ¯</span></span><br><span class="line">git log --grep="fix"</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>ç‰ˆæœ¬æ§åˆ¶</tag>
        <tag>å‘½ä»¤ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>Elementary Graph Algorithms</title>
    <url>/2024/04/21/Elementary-Graph-Algorithms/</url>
    <content><![CDATA[<h1 id="Elementary-Graph-Algorithms"><a href="#Elementary-Graph-Algorithms" class="headerlink" title="Elementary Graph Algorithms"></a>Elementary Graph Algorithms</h1><h2 id="Representations-of-graphs"><a href="#Representations-of-graphs" class="headerlink" title="Representations of graphs"></a>Representations of graphs</h2><p>$$<br>G = (V, E)<br>$$</p>
<p>$G \to Graph, V \to Vertex, E \to Edge$, å¼å­è¯´æ˜å›¾æ˜¯ç”±é¡¶ç‚¹å’Œè¾¹è¿™ä¸¤ä¸ªå…ƒç´ ç»„æˆï¼Œé‚£ä¹ˆåªè¦æŠŠé¡¶ç‚¹å’Œè¾¹è¡¨ç¤ºå‡ºæ¥ï¼Œå›¾å°±è¡¨ç¤ºå‡ºæ¥äº†ã€‚å…¶ä¸­æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯é‚»æ¥è¡¨è¡¨ç¤ºï¼Œä¸€ç§æ˜¯ç”¨çŸ©é˜µè¡¨ç¤ºï¼Œæ ¹æ®ä¸åŒçš„æƒ…æ™¯éœ€è¦ä¼šé€‰å–ä¸åŒçš„è¡¨ç¤ºæ–¹æ³•ã€‚</p>
<h3 id="adjacency-list"><a href="#adjacency-list" class="headerlink" title="adjacency-list"></a>adjacency-list</h3><p><img src="https://www.hello-algo.com/chapter_graph/graph.assets/adjacency_list.png" alt="list"><br>// é‚»æ¥è¡¨å¯ç”¨é“¾è¡¨ï¼Œä¹Ÿå¯ç”¨å“ˆå¸Œè¡¨</p>
<blockquote>
<p>If $G$ is a directed graph, the sum of the lengths of all the adjacency lists is |E|.<br>If $G$ is an undirected graph, the sum of the lengths of all the adjacency lists is 2|E|.</p>
</blockquote>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸‹é¢æ˜¯æ— å‘å›¾çš„ç¤ºä¾‹ï¼Œæœ‰å‘å›¾éœ€è¦ä¿®æ”¹éƒ¨åˆ†methodä»£ç </span></span><br><span class="line"><span class="comment">//ä¸ºäº†æ–¹ä¾¿æ·»åŠ ä¸åˆ é™¤é¡¶ç‚¹ï¼Œä»¥åŠç®€åŒ–ä»£ç ï¼Œè¿™é‡Œä½¿ç”¨åˆ—è¡¨ï¼ˆåŠ¨æ€æ•°ç»„ï¼‰æ¥ä»£æ›¿é“¾è¡¨ã€‚</span></span><br><span class="line"><span class="comment">//ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨é‚»æ¥è¡¨ï¼Œkeyä¸ºé¡¶ç‚¹å®ä¾‹ï¼Œvalueä¸ºè¯¥é¡¶ç‚¹çš„é‚»æ¥é¡¶ç‚¹åˆ—è¡¨ï¼ˆé“¾è¡¨ï¼‰ã€‚</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vertex</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    <span class="built_in">Vertex</span>(<span class="type">int</span> value) : <span class="built_in">val</span>(value) {}</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GraphAdjList</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    std::unordered_map&lt;Vertex *, std::vector&lt;Vertex *&gt;&gt; adjList;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(std::vector&lt;Vertex *&gt; &amp;vec, Vertex *vet)</span> </span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vec.<span class="built_in">size</span>(); i++) {</span><br><span class="line">            <span class="keyword">if</span> (vec[i] == vet) {</span><br><span class="line">                vec.<span class="built_in">erase</span>(vec.<span class="built_in">begin</span>() + i);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">GraphAdjList</span>(<span class="type">const</span> std::vector&lt;std::vector&lt;Vertex *&gt;&gt; &amp;edges) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> std::vector&lt;Vertex *&gt; &amp;edge : edges) {</span><br><span class="line">            <span class="built_in">addVertex</span>(edge[<span class="number">0</span>]);</span><br><span class="line">            <span class="built_in">addVertex</span>(edge[<span class="number">1</span>]);</span><br><span class="line">            <span class="built_in">addEdge</span>(edge[<span class="number">0</span>], edge[<span class="number">1</span>]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> adjList.<span class="built_in">size</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">addEdge</span><span class="params">(Vertex *vet1, Vertex *vet2)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (!adjList.<span class="built_in">count</span>(vet1) || !adjList.<span class="built_in">count</span>(vet2) || vet1 == vet2)</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">invalid_argument</span>(<span class="string">"ä¸å­˜åœ¨é¡¶ç‚¹"</span>);</span><br><span class="line">        adjList[vet1].<span class="built_in">push_back</span>(vet2);</span><br><span class="line">        adjList[vet2].<span class="built_in">push_back</span>(vet1);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">removeEdge</span><span class="params">(Vertex *vet1, Vertex *vet2)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (!adjList.<span class="built_in">count</span>(vet1) || !adjList.<span class="built_in">count</span>(vet2) || vet1 == vet2)</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">invalid_argument</span>(<span class="string">"ä¸å­˜åœ¨é¡¶ç‚¹"</span>);</span><br><span class="line">        <span class="built_in">remove</span>(adjList[vet1], vet2);</span><br><span class="line">        <span class="built_in">remove</span>(adjList[vet2], vet1);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">addVertex</span><span class="params">(Vertex *vet)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (adjList.<span class="built_in">count</span>(vet))</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        adjList[vet] = std::<span class="built_in">vector</span>&lt;Vertex *&gt;();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">removeVertex</span><span class="params">(Vertex *vet)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (!adjList.<span class="built_in">count</span>(vet))</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">invalid_argument</span>(<span class="string">"ä¸å­˜åœ¨é¡¶ç‚¹"</span>);</span><br><span class="line">        adjList.<span class="built_in">erase</span>(vet);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;adj : adjList) {</span><br><span class="line">            <span class="built_in">remove</span>(adj.second, vet);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>{</span><br><span class="line">        std::cout &lt;&lt; <span class="string">"é‚»æ¥è¡¨ ="</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;adj : adjList) {</span><br><span class="line">            <span class="type">const</span> <span class="keyword">auto</span> &amp;key = adj.first;</span><br><span class="line">            <span class="type">const</span> <span class="keyword">auto</span> &amp;vec = adj.second;</span><br><span class="line">            std::cout &lt;&lt; key-&gt;val &lt;&lt; <span class="string">": "</span>;</span><br><span class="line">            <span class="built_in">printVector</span>(<span class="built_in">vetsToVals</span>(vec));</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">vetsToVals</span><span class="params">(<span class="type">const</span> std::vector&lt;Vertex *&gt; &amp;vec)</span> </span>{</span><br><span class="line">        std::vector&lt;<span class="type">int</span>&gt; vals;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> Vertex *vet : vec) {</span><br><span class="line">            vals.<span class="built_in">push_back</span>(vet-&gt;val);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> vals;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printVector</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> val : vec) {</span><br><span class="line">            std::cout &lt;&lt; val &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        }</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<h4 id="åŠ æƒå›¾"><a href="#åŠ æƒå›¾" class="headerlink" title="åŠ æƒå›¾"></a>åŠ æƒå›¾</h4><blockquote>
<p>åŠ æƒå›¾å³è¾¹æ˜¯æœ‰æƒå€¼çš„ï¼Œå¯æ·»åŠ  Edge ç±»æ¥å®ç°</p>
</blockquote>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Edge</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	Vertex *destination;</span><br><span class="line">	<span class="type">int</span> weight;</span><br><span class="line">	<span class="built_in">Edge</span>(Vertex *dest, <span class="type">int</span> w) : <span class="built_in">destination</span>(dest), <span class="built_in">weight</span>(w) {}</span><br><span class="line">};</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vertex</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> val; <span class="comment">// é¡¶ç‚¹çš„å€¼</span></span><br><span class="line">	std::vector&lt;Edge*&gt; adjList; <span class="comment">// é‚»æ¥åˆ—è¡¨</span></span><br><span class="line">	<span class="built_in">Vertex</span>(<span class="type">int</span> v) : <span class="built_in">val</span>(v) {}</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>The adjacency-list representation is quite robust in that you can modify it to support many other graph variants.<br>// ä¸Šæ–¹çš„ä»£ç é¡¶ç‚¹éƒ½æ˜¯å”¯ä¸€çš„å®ä¾‹ï¼Œè¿˜å¯ä»¥å¾€å…¶æ·»åŠ å±æ€§ï¼Œè¿™å°±ä½“ç°äº†é‚»æ¥è¡¨çš„çµæ´»æ€§ï¼ŒåŠ ä¸Šå®ƒçš„åŠ¨æ€æ€§ä»¥åŠå†…å­˜æ•ˆç‡ç­‰çš„ä¼˜åŠ¿ï¼Œå…±åŒæ„å»ºäº†å…¶å¥å£®æ€§ï¼Œä½¿å…¶èƒ½å¤Ÿæ”¯æŒå¾ˆå¤šå…¶å®ƒçš„å›¾å˜ä½“ã€‚</p>
</blockquote>
<blockquote>
<p>é‚»æ¥è¡¨æŸ¥è¯¢è¾¹çš„å­˜åœ¨æ€§è¾ƒæ…¢ï¼Œé‚»æ¥çŸ©é˜µè¡¨ç¤ºè¾ƒå¿«</p>
</blockquote>
<h3 id="adjacency-matrix"><a href="#adjacency-matrix" class="headerlink" title="adjacency-matrix"></a>adjacency-matrix</h3><p><img src="https://www.hello-algo.com/chapter_graph/graph.assets/adjacency_matrix.png" alt="matrix"></p>
<blockquote>
<p>in an undirected graph, the adjacency matrix A of an undirected graph is its own transpose: $A = A^T$<br>// æ­£æ˜¯å› ä¸ºæœ‰è¿™ä¸€æ€§è´¨ï¼Œåœ¨ä¸€äº›åº”ç”¨ä¸­ï¼Œåªé€‰æ‹©å­˜å‚¨å¯¹è§’çº¿ä»¥ä¸Šçš„å…ƒç´ æ¥æé«˜å†…å­˜æ•ˆç‡ã€‚</p>
</blockquote>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GraphAdjMat</span> {</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; vertices;</span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; adjMat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">GraphAdjMat</span>(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;vertices, <span class="type">const</span> std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;edges) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> val : vertices) {</span><br><span class="line">            <span class="built_in">addVertex</span>(val);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;edge : edges) {</span><br><span class="line">            <span class="built_in">addEdge</span>(edge[<span class="number">0</span>], edge[<span class="number">1</span>]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> <span class="type">const</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> vertices.<span class="built_in">size</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">addVertex</span><span class="params">(<span class="type">int</span> val)</span> </span>{</span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">size</span>();</span><br><span class="line">        vertices.<span class="built_in">push_back</span>(val);</span><br><span class="line">        adjMat.<span class="built_in">emplace_back</span>(std::<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span> (std::vector&lt;<span class="type">int</span>&gt; &amp;row : adjMat) {</span><br><span class="line">            row.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">removeVertex</span><span class="params">(<span class="type">int</span> index)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (index &gt;= <span class="built_in">size</span>()) {</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">out_of_range</span>(<span class="string">"é¡¶ç‚¹ä¸å­˜åœ¨"</span>);</span><br><span class="line">        }</span><br><span class="line">        vertices.<span class="built_in">erase</span>(vertices.<span class="built_in">begin</span>() + index);</span><br><span class="line">        adjMat.<span class="built_in">erase</span>(adjMat.<span class="built_in">begin</span>() + index);</span><br><span class="line">        <span class="keyword">for</span> (std::vector&lt;<span class="type">int</span>&gt; &amp;row : adjMat) {</span><br><span class="line">            row.<span class="built_in">erase</span>(row.<span class="built_in">begin</span>() + index);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">addEdge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span> || i &gt;= <span class="built_in">size</span>() || j &gt;= <span class="built_in">size</span>() || i == j) {</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">out_of_range</span>(<span class="string">"é¡¶ç‚¹ä¸å­˜åœ¨"</span>);</span><br><span class="line">        }</span><br><span class="line">        adjMat[i][j] = <span class="number">1</span>;</span><br><span class="line">        adjMat[j][i] = <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">removeEdge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span> || i &gt;= <span class="built_in">size</span>() || j &gt;= <span class="built_in">size</span>() || i == j) {</span><br><span class="line">            <span class="keyword">throw</span> std::<span class="built_in">out_of_range</span>(<span class="string">"é¡¶ç‚¹ä¸å­˜åœ¨"</span>);</span><br><span class="line">        }</span><br><span class="line">        adjMat[i][j] = <span class="number">0</span>;</span><br><span class="line">        adjMat[j][i] = <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>{</span><br><span class="line">        std::cout &lt;&lt; <span class="string">"é¡¶ç‚¹åˆ—è¡¨ = "</span>;</span><br><span class="line">        <span class="built_in">printVector</span>(vertices);</span><br><span class="line">        std::cout &lt;&lt; <span class="string">"é‚»æ¥çŸ©é˜µ ="</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="built_in">printVectorMatrix</span>(adjMat);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printVector</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;vec)</span> </span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> val : vec) {</span><br><span class="line">            std::cout &lt;&lt; val &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        }</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printVectorMatrix</span><span class="params">(<span class="type">const</span> std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; &amp;matrix)</span> </span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; &amp;row : matrix) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> val : row) {</span><br><span class="line">                std::cout &lt;&lt; val &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">            }</span><br><span class="line">            std::cout &lt;&lt; std::endl;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>é‚»æ¥çŸ©é˜µä¹Ÿå¯è¡¨ç¤ºæœ‰æƒå›¾ï¼Œä½†ç©ºé—´æµªè´¹æ˜æ˜¾ï¼Œæ— è®ºç¨€ç–è¿˜æ˜¯å¯†é›†ï¼š<br>åœ¨ç¨€ç–å›¾ä¸­ï¼Œå°½ç®¡è¾¹çš„æ•°é‡å¾ˆå°‘ï¼Œä½†é‚»æ¥çŸ©é˜µä»ç„¶éœ€è¦ä¸ºæ¯ä¸ªå¯èƒ½çš„é¡¶ç‚¹å¯¹ï¼ˆå³çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ ï¼‰åˆ†é…ç©ºé—´ã€‚å¤§å¤šæ•°è¿™äº›é¡¶ç‚¹å¯¹ä¹‹é—´å®é™…ä¸Šæ˜¯æ²¡æœ‰è¾¹çš„ï¼Œå› æ­¤è¿™äº›ç©ºé—´æ˜¯æµªè´¹çš„ã€‚<br>åœ¨å¯†é›†å›¾ä¸­ï¼Œè™½ç„¶è¾¹çš„æ•°é‡å¾ˆå¤šï¼Œä½†é‚»æ¥çŸ©é˜µä»ç„¶éœ€è¦ä¸ºæ¯ä¸ªé¡¶ç‚¹å¯¹åˆ†é…ç©ºé—´ï¼Œå³ä½¿æŸäº›é¡¶ç‚¹å¯¹ä¹‹é—´å¯èƒ½æœ‰å¤šä¸ªè¾¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå›¾ä¸­æœ‰ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´æœ‰ 5 æ¡è¾¹ï¼Œé‚»æ¥çŸ©é˜µä¸­çš„å¯¹åº”å…ƒç´ å°±éœ€è¦å­˜å‚¨è¿™ 5 æ¡è¾¹çš„æƒé‡ä¿¡æ¯ï¼Œè€Œå®é™…ä¸Šåªéœ€è¦å­˜å‚¨ä¸€ä¸ªæƒé‡ä¿¡æ¯å°±è¶³å¤Ÿäº†ã€‚</p>
</blockquote>
<blockquote>
<p>å›¾è§„æ¨¡è¾ƒå°æ—¶å€¾å‘äºä½¿ç”¨é‚»æ¥çŸ©é˜µ</p>
</blockquote>
<h3 id="æ•ˆç‡å¯¹æ¯”"><a href="#æ•ˆç‡å¯¹æ¯”" class="headerlink" title="æ•ˆç‡å¯¹æ¯”"></a>æ•ˆç‡å¯¹æ¯”</h3><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">adjacency-matrix</th>
<th align="center">adjacency-list(ll)</th>
<th align="center">adjacency-list(hash)</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> è¾¹çš„å­˜åœ¨æ€§</td>
<td align="center"> $O(1)$</td>
<td align="center">$O(E)$</td>
<td align="center">$O(1)$</td>
</tr>
<tr>
<td align="center"> æ·»åŠ è¾¹</td>
<td align="center"> $O(1)$</td>
<td align="center">$O(1)$</td>
<td align="center">$O(1)$</td>
</tr>
<tr>
<td align="center"> åˆ é™¤è¾¹</td>
<td align="center"> $O(1)$</td>
<td align="center">$O(E)$</td>
<td align="center">$O(1)$</td>
</tr>
<tr>
<td align="center"> æ·»åŠ é¡¶ç‚¹</td>
<td align="center"> $O(V)$</td>
<td align="center">$O(1)$</td>
<td align="center">$O(1)$</td>
</tr>
<tr>
<td align="center"> åˆ é™¤é¡¶ç‚¹</td>
<td align="center"> $O(V^2)$</td>
<td align="center">$O(V+E)$</td>
<td align="center">$O(V)$</td>
</tr>
<tr>
<td align="center"> å†…å­˜ç©ºé—´å ç”¨</td>
<td align="center"> $O(V^2)$</td>
<td align="center">$O(V+E)$</td>
<td align="center">$O(V+E)$</td>
</tr>
</tbody></table>
<h3 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h3><div class="callout question">
  Given an adjacency-list representation of a directed graph, how long does it take
  to compute the out-degree of every vertex? How long does it take to compute the
  in-degrees?
</div>
   
<blockquote>
<p>é¢˜ç›®æ˜¯æ±‚åŸºäºé‚»æ¥è¡¨è¡¨ç¤ºçš„æœ‰å‘å›¾ï¼Œè®¡ç®—æ¯ä¸ªé¡¶ç‚¹çš„å‡ºåº¦ï¼Œå…¥åº¦çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯å¤šå°‘ã€‚<br>   é¡¶ç‚¹çš„å‡ºåº¦å¾ˆå®¹æ˜“ï¼Œæ¯ä¸ªé¡¶ç‚¹çš„é‚»æ¥è¡¨å­˜å‚¨çš„å°±æ˜¯å…¶æŒ‡å‘çš„é¡¶ç‚¹ï¼Œæ•…ç›´æ¥è®¡ç®—æ¯ä¸ªé¡¶ç‚¹çš„é‚»æ¥è¡¨<br>   é•¿åº¦å³ä¸ºå…¶å‡ºåº¦ï¼Œå¯çŸ¥è¦éå†æ•´ä¸ªå›¾ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º O (V+E)ã€‚<br>é¡¶ç‚¹çš„å…¥åº¦çš„è¯ï¼Œé‚»æ¥è¡¨é‡Œå­˜å‚¨çš„æ¯ä¸ªé¡¶ç‚¹éƒ½æ˜¯è¢«æŒ‡å‘çš„é¡¶ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨é‚»æ¥è¡¨é‡Œçš„é¡¶ç‚¹æ¯å‡ºç°ä¸€æ¬¡å°±è¡¨æ˜å…¶è¢«æŒ‡å‘ä¸€æ¬¡ï¼Œå³å…¥åº¦ + 1ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¹Ÿä¸º O (V+E)ã€‚</p>
</blockquote>
<div class="callout question">
  The transpose of a directed graph $G = (V, E)$ is the graph $G^T = (V, E^T)$, where $E^T = \{(v, u) \in V \times V : (u, v) \in E\}$. That is, $G^T$ is $G$ with all its edges reversed.
   Describe efficient algorithms for computing $G^T$ from $G$, for both the adjacency-
   list and adjacency-matrix representations of $G$. Analyze the running times of your
   algorithms.
</div>

<blockquote>
<p>è¿™é¢˜è¯´çš„æ˜¯æœ‰å‘å›¾çš„è½¬ç½®ï¼Œå³æŠŠè¾¹çš„æ–¹å‘éƒ½åè¿‡æ¥ï¼Œæè¿°è®¡ç®— $G^T$ çš„ç®—æ³•ã€‚<br>ä¼ªä»£ç å¦‚ä¸‹</p>
</blockquote>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">function <span class="title">transposeAdjList</span><span class="params">(G)</span>:  //æ—¶é—´å¤æ‚åº¦ï¼šO(V+E)</span></span><br><span class="line"><span class="function">    GT =</span> empty adjacency list <span class="keyword">for</span> each vertex in G</span><br><span class="line">    <span class="keyword">for</span> each vertex u in G:</span><br><span class="line">        <span class="keyword">for</span> each vertex v in adjacency list of u:</span><br><span class="line">            <span class="function">add u to adjacency list of v in GT</span></span><br><span class="line"><span class="function">    <span class="keyword">return</span> GT</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">function <span class="title">transposeAdjMatrix</span><span class="params">(G)</span>:  //æ—¶é—´å¤æ‚åº¦ï¼šO(V^<span class="number">2</span>)</span></span><br><span class="line"><span class="function">    GT =</span> empty matrix of same size as G</span><br><span class="line">    <span class="keyword">for</span> each vertex u in G:</span><br><span class="line">        <span class="keyword">for</span> each vertex v in G:</span><br><span class="line">            <span class="keyword">if</span> G[u][v] == <span class="number">1</span>:</span><br><span class="line">                GT[v][u] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> GT</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>equivalent undirected graph ç­‰æ•ˆæ— å‘å›¾</p>
</blockquote>
<blockquote>
<p>å¤§æ¦‚å°±æ˜¯ä¿ç•™åŸæœ‰å‘å›¾æ‰€æœ‰é¡¶ç‚¹ï¼Œè¾¹çš„æ–¹å‘è¢«å¿½ç•¥ï¼Œä¸åŒ…å«ä»»ä½•è‡ªç¯</p>
</blockquote>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">function <span class="title">convertToUndirectedGraph</span><span class="params">(G)</span>:</span></span><br><span class="line"><span class="function">    G0 =</span> <span class="keyword">new</span> adjacency list <span class="keyword">for</span> each vertex in G</span><br><span class="line">    <span class="keyword">for</span> each vertex u in G:</span><br><span class="line">        <span class="keyword">for</span> each vertex v in adjacency list of u:</span><br><span class="line">            <span class="keyword">if</span> u â‰  v <span class="built_in">and</span> (u, v) <span class="keyword">not</span> in G0 <span class="built_in">and</span> (v, u) <span class="keyword">not</span> in G0:<span class="comment">//å¿½ç•¥æ–¹å‘</span></span><br><span class="line">                <span class="built_in">add</span> (u, v) to G0</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> u = v:<span class="comment">//æ’é™¤è‡ªç¯</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">return</span> G0</span><br></pre></td></tr></tbody></table></figure>

<div class="callout question">
  The square of a directed graph $G = (V, E)$ is the graph $G^2 = (V, E)$ such that
   $(u, v) \in E^2$ if and only if $G$ contains a path with at most two edges between
   u and v. Describe efficient algorithms for computing $G^2$ from $G$ for both the
   adjacency-list and adjacency-matrix representations of $G$. Analyze the running
   times of your algorithms.
</div>

<p>// è¿™é¢˜æå‡ºäº†å¹³æ–¹æœ‰å‘å›¾çš„å®šä¹‰ï¼Œå°±æ˜¯è¾¹ (u, v) åœ¨ $G^2$ ä¸­å½“ä¸”ä»…å½“åœ¨ $G$ ä¸­åŒ…å«äº† $u \to v$ ä¸è¶…è¿‡ä¸¤æ¡è¾¹çš„è·¯å¾„ï¼Œæ¢å¥è¯è¯´ï¼Œ$G^2$ åŒ…å«äº† $G$ ä¸­æ‰€æœ‰é¡¶ç‚¹å¯¹ä¹‹é—´é•¿åº¦ä¸è¶…è¿‡ 2 çš„è·¯å¾„ï¼Œè¦æ±‚æè¿°è®¡ç®— $G^2$ çš„ç®—æ³•ã€‚(åŸå›¾ä¸­æœ‰è‡ªç¯çš„è¯å¹³æ–¹å›¾ä¹Ÿä¼šæœ‰ï¼Œå¦‚æœæƒ³æ’é™¤è‡ªç¯å°±æ·»åŠ æ§åˆ¶æ¡ä»¶çº¦æŸå³å¯)</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//æ—¶é—´å¤æ‚åº¦ï¼šO(|V|^2+|V|E).</span></span><br><span class="line"><span class="function">Algorithm <span class="title">computeSquareAdjList</span><span class="params">(G)</span>:</span></span><br><span class="line"><span class="function">    // Initialize the adjacency list for the square graph G^<span class="number">2</span></span></span><br><span class="line"><span class="function">    G2 =</span> empty adjacency list <span class="keyword">for</span> each node in V</span><br><span class="line">    <span class="comment">// Iterate over each node u in the graph</span></span><br><span class="line">    <span class="keyword">for</span> each u in V:</span><br><span class="line">        <span class="comment">// Set of nodes reachable from u within one step</span></span><br><span class="line">        direct_neighbors = <span class="built_in">set</span>(G[u])</span><br><span class="line">        <span class="comment">// Set of nodes reachable from u within two steps</span></span><br><span class="line">        two_step_neighbors = <span class="built_in">set</span>()</span><br><span class="line">        <span class="comment">// Iterate over each direct neighbor v of u</span></span><br><span class="line">        <span class="keyword">for</span> each v in direct_neighbors:</span><br><span class="line">            <span class="comment">// Add direct neighbors to G^2</span></span><br><span class="line">            <span class="keyword">if</span> v <span class="keyword">not</span> in G2[u]:</span><br><span class="line">                G2[u].<span class="built_in">append</span>(v)</span><br><span class="line">            <span class="comment">// Iterate over each neighbor w of v</span></span><br><span class="line">            <span class="keyword">for</span> each w in G[v]:</span><br><span class="line">                <span class="comment">// Add w as a two-step neighbor of u if not already added</span></span><br><span class="line">                <span class="keyword">if</span> w != u <span class="keyword">and</span> w <span class="keyword">not</span> in direct_neighbors <span class="keyword">and</span> w <span class="keyword">not</span> in two_step_neighbors:</span><br><span class="line">                    two_step_neighbors.<span class="built_in">add</span>(w)</span><br><span class="line">                    G2[u].<span class="built_in">append</span>(w)</span><br><span class="line">    <span class="keyword">return</span> G2</span><br><span class="line"><span class="comment">//æ—¶é—´å¤æ‚åº¦ï¼š(|V|^3)</span></span><br><span class="line">Algorithm <span class="built_in">computeSquareAdjMatrix</span>(G):</span><br><span class="line">    <span class="comment">// Initialize the adjacency matrix for the square graph G^2</span></span><br><span class="line">    n = number of nodes in V</span><br><span class="line">    A2 = <span class="keyword">new</span> matrix of size n x n filled with <span class="number">0</span>s</span><br><span class="line">    <span class="comment">// Calculate the square of the adjacency matrix</span></span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">0</span> to n - <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">for</span> j = <span class="number">0</span> to n - <span class="number">1</span>:</span><br><span class="line">            <span class="comment">// A2[i][j] is 1 if there is a path of length at most 2 from i to j</span></span><br><span class="line">            <span class="keyword">if</span> A[i][j] == <span class="number">1</span>:</span><br><span class="line">                A2[i][j] = <span class="number">1</span>  <span class="comment">// Direct edge (i, j)</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">for</span> k = <span class="number">0</span> to n - <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">if</span> A[i][k] == <span class="number">1</span> <span class="keyword">and</span> A[k][j] == <span class="number">1</span>:</span><br><span class="line">                        A2[i][j] = <span class="number">1</span>  <span class="comment">// Path of length 2 from i to j</span></span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> A2</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>æ­¤é¢˜æ‹“å±•ï¼š$G^k$ åŒ…å«äº† $G$ ä¸­æ‰€æœ‰é¡¶ç‚¹å¯¹ä¹‹é—´é•¿åº¦ä¸è¶…è¿‡ $k$ çš„è·¯å¾„</p>
</blockquote>
<div class="callout question">
  Most graph algorithms that take an adjacency-matrix representation as input require $\Omega (V^2)$ time, but there are some exceptions. Show how to determine whether a directed graph $G$ contains a universal sink--a vertex with in-degree |V| - 1 and out-degree 0--in $O(V)$ time, given an adjacency matrix for $G$.
</div>

<p>// è¿™é¢˜è¯´çš„æ˜¯å¾ˆå¤šåŸºäºé‚»æ¥çŸ©é˜µçš„å›¾ç®—æ³•éƒ½éœ€è¦ $\Omega (V^2)$ çš„æ—¶é—´å¤æ‚åº¦ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ä¾‹å¤–ï¼Œæ¯”å¦‚æŸ¥çœ‹ä¸€ä¸ªæœ‰å‘å›¾æ˜¯å¦å«æœ‰å…¨å±€æ±‡ç‚¹ï¼ˆå…¥åº¦ä¸º | V| - 1ï¼Œå‡ºåº¦ä¸º 0ï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function">function <span class="title">findUniversalSink</span><span class="params">(G)</span>:</span></span><br><span class="line"><span class="function">    candidate =</span> <span class="number">1</span>  <span class="comment">//è¿™é‡Œç´¢å¼•ä»1å¼€å§‹ï¼Œcandidateä¸ºå€™é€‰å…¨å±€æ±‡ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> v from <span class="number">2</span> to |V|:</span><br><span class="line">        <span class="keyword">if</span> G[candidate][v] == <span class="number">1</span>: <span class="comment">//æ‰¾åˆ°ç¬¬ä¸€ä¸ªå‡ºåº¦ä¸º0çš„ç‚¹ä½œä¸ºæœ€ç»ˆçš„å€™é€‰ç‚¹</span></span><br><span class="line">            candidate = v</span><br><span class="line"></span><br><span class="line">    inDegree = <span class="number">0</span></span><br><span class="line">    outDegree = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> u from <span class="number">1</span> to |V|:</span><br><span class="line">        inDegree += G[u][candidate]</span><br><span class="line">        outDegree += G[candidate][u]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> inDegree == |V| - <span class="number">1</span> <span class="keyword">and</span> outDegree == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> candidate</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"No universal sink found"</span></span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>è¿™é‡Œç¡®å®šå€™é€‰æ±‡ç‚¹çš„å½¢å¼å¾ˆè®²ç©¶ï¼Œé¦–å…ˆä¸»å¯¹è§’çº¿ä¸Šå…ƒç´ éƒ½ä¸º 0ï¼Œå› æ­¤æ— å‚è€ƒä»·å€¼ï¼Œæ•…åªåœ¨å…¶ä¸Šæ–¹æŸ¥æ‰¾ã€‚åªè¦é‡åˆ°ä¸€ä¸ª 1ï¼Œå°±æ¢åˆ°ä¸‹ä¸€è¡Œï¼ˆå³ä¸‹ä¸€ä¸ªé¡¶ç‚¹ï¼‰ï¼Œå› ä¸ºå…¨å±€æ±‡ç‚¹æ²¡æœ‰å‡ºè¾¹ï¼Œåªè¦æ˜¯ 0ï¼Œå°±åœ¨è¯¥è¡Œä¸€ç›´å¾€åéªŒè¯ã€‚åˆ°è¿™é‡Œå¯èƒ½å°±æœ‰ç–‘é—®ï¼ˆå…¶å®å°±æ˜¯æˆ‘çš„ç–‘é—®ç½¢äº†ï¼‰ï¼šå‡è®¾å€™é€‰æ±‡ç‚¹ä¸€ç›´éƒ½æ˜¯ 1ï¼Œé‚£ä¹ˆå°±åªæ£€æŸ¥äº†ç¬¬ä¸€è¡Œï¼Œå…¶å®ƒè¡Œéƒ½æ²¡æ£€æŸ¥å‘¢ï¼Œä¸ºå•¥åªè¦è¿™å€™é€‰æ±‡ç‚¹ä¸æ˜¯çœŸçš„å…¨å±€æ±‡ç‚¹ï¼Œæ•´ä¸ªå›¾å°±æ²¡æœ‰å…¨å±€æ±‡ç‚¹ã€‚å…¶å®æ¯æ£€æŸ¥ä¸€æ¡è¾¹å°±ç›¸å½“äºæ£€æŸ¥äº†ä¸€ä¸ªé¡¶ç‚¹ï¼Œæ¯”å¦‚ï¼Œå¦‚æœ $G [1][2] == 0$ çš„è¯ï¼Œå°±è¯´æ˜ç¬¬äºŒä¸ªé¡¶ç‚¹æ²¡æœ‰æ¥å—ç¬¬ä¸€ä¸ªé¡¶ç‚¹çš„å…¥è¾¹ï¼Œè¿™åŒæ ·æ˜¯ä¸ç¬¦åˆå…¨å±€æ±‡ç‚¹å®šä¹‰çš„ï¼Œå› ä¸ºå…¨å±€æ±‡ç‚¹æ˜¯é™¤äº†å®ƒè‡ªèº«ï¼Œå…¶å®ƒé¡¶ç‚¹éƒ½ä¼šæŒ‡å‘å®ƒï¼Œå› æ­¤è¯¥æ¬¡æ£€æŸ¥æ’é™¤äº†ç¬¬äºŒä¸ªé¡¶ç‚¹ã€‚å¦‚æœ $G [1][3]$ ä¹Ÿ == 0 çš„è¯ï¼Œé‚£å°±æ’é™¤äº†ç¬¬ä¸‰ä¸ªé¡¶ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ‰€ä»¥æ— è®º $G [candidate][v]$ ç­‰äº 0 è¿˜æ˜¯ 1ï¼Œéƒ½æ˜¯æœ‰ä»·å€¼çš„ï¼Œè¿™ä½¿å¾—å®šä½å€™é€‰æ±‡ç‚¹æ˜¯å›ºå®šåœ°æ£€æŸ¥ | V| - 1 éå³å¯ã€‚</p>
</blockquote>
<div class="callout question">
 The incidence matrix of a directed graph $G = (V, E)$ with no self-loops is a $|V| \times |E|$ matrix $B = (b_{ij})$ such that
 $$
 b_{ij} = 
 \begin{cases} 
 -1, &amp; \text{ if edge j leaves vertex i}  \\ 
 1, &amp; \text{ if edge j enters vertex i} \\
 0, &amp; \text{ otherwise}  
 \end{cases} 
 $$
   Describe what the entries of the matrix product $B B^T$ represent, where $B^T$ is the
   transpose of B.
</div>

<blockquote>
<p>è¿™é¢˜è¯´çš„æ˜¯æœ‰å‘æ— ç¯å›¾çš„å…³è”çŸ©é˜µï¼Œç›´æ¥å»ºç«‹é¡¶ç‚¹ä¸æ¯æ¡è¾¹çš„å¯¹åº”å…³ç³»ï¼Œå‡ºè¾¹å°±æ˜¯ - 1ï¼Œå…¥è¾¹å°±æ˜¯ 1ï¼Œæ²¡æœ‰å…³ç³»å°±æ˜¯ 0ã€‚é¢˜ç›®è¦æ±‚æè¿° $B B^T$ çŸ©é˜µçš„å…ƒç´ éƒ½ä»£è¡¨ä»€ä¹ˆã€‚</p>
</blockquote>
<ol>
<li>å¯¹è§’çº¿å…ƒç´  $c_{ii}$â€‹ è¡¨ç¤ºé¡¶ç‚¹ i çš„åº¦æ•°ï¼Œå³ä¸è¯¥é¡¶ç‚¹ç›¸å…³è”çš„è¾¹çš„æ•°é‡ï¼ŒåŒ…æ‹¬å…¥åº¦å’Œå‡ºåº¦çš„è¾¹ã€‚<blockquote>
<ol start="2">
<li>éå¯¹è§’çº¿å…ƒç´  $c_{ij}$â€‹ï¼ˆå…¶ä¸­ iâ‰ jï¼‰è¡¨ç¤ºé¡¶ç‚¹ i å’Œ j ä¹‹é—´å…±äº«çš„è¾¹çš„æ•°é‡ï¼Œç»è®¡ç®—æˆ‘ä»¬å¯ä»¥å‘ç° $B B^T$ çŸ©é˜µçš„å…ƒç´ è¦ä¹ˆæ˜¯ 0ï¼Œè¦ä¹ˆæ˜¯è´Ÿæ•°ï¼Œæ²¡æœ‰æ­£æ•°ã€‚æ‰€ä»¥å¦‚æœ $c_{ij}â€‹=0$ï¼Œåˆ™è¡¨ç¤ºé¡¶ç‚¹ i å’Œ j ä¹‹é—´æ²¡æœ‰å…±äº«çš„è¾¹ï¼Œè€Œéé›¶å€¼åˆ™è¡¨ç¤ºå®ƒä»¬ä¹‹é—´å­˜åœ¨å…±äº«çš„è¾¹ï¼Œå¦‚æœæ˜¯æœ‰å¤šé‡è¾¹ (multiple edges) çš„è¯ï¼Œè¿™ä¸ªéé›¶å€¼å°±ä¸åªæ˜¯ - 1 äº†ã€‚è¿™é‡Œæ²¡ç›´æ¥è¯´å¤šé‡å›¾ (multigraphs)ï¼Œæ˜¯å› ä¸ºå¤šé‡å›¾æ˜¯åŒ…æ‹¬äº†è‡ªç¯å’Œå¤šé‡è¾¹çš„ï¼Œä½†é¢˜ç›®è¯´çš„æ˜¯æœ‰å‘æ— ç¯å›¾ã€‚</li>
</ol>
</blockquote>
</li>
</ol>
<h2 id="Breadth-first-search"><a href="#Breadth-first-search" class="headerlink" title="Breadth-first search"></a>Breadth-first search</h2><blockquote>
<p>// æ—¶é—´å¤æ‚åº¦ï¼šO (V + E)<br>$BFS(G, s)$</p>
</blockquote>
<pre><code>for each vertex u $\in G.V - \{s\}$      //åˆå§‹åŒ–
    u.color = WHITE
    $u.d = \infty$                              //dæ˜¯è·ç¦»
    u.$\pi$ = NIL                            //$\pi$æ˜¯å‰é©±
s.color = $GRAY$
s.d = 0
s.$\pi$ = NIL
$Q = \not 0$                                        //åˆå§‹åŒ–é˜Ÿåˆ—
ENQUEUE(Q, s)
while Q $\not = \not 0$
    u = DEQUEUE(Q)
    for each vertex v in $G$.Adj[u]
        if v.color = WHITE
            v.color = $GRAY$
            v.d = u.d + 1
            v.$\pi$ = u
            ENQUEUE(Q, v)      //å¯ä»¥å‘ç°é˜Ÿåˆ—é‡Œçš„é¡¶ç‚¹éƒ½æ˜¯ç°è‰²çš„
    u.color = BLACK
</code></pre>
<p>// å›¾çš„å¹¿æœä½¿ç”¨äº†é¢œè‰²æ ‡è®°æ–¹æ³•ï¼Œç™½è‰²è¡¨ç¤ºé¡¶ç‚¹æœªè¢«å‘ç°ï¼Œç°è‰²è¡¨ç¤ºè¯¥é¡¶ç‚¹å·²è¢«å‘ç°ï¼Œä½†å…¶é‚»æ¥é¡¶ç‚¹å¯èƒ½è¿˜æœ‰æœªè¢«å‘ç°çš„é¡¶ç‚¹ï¼Œé»‘è‰²åˆ™è¡¨ç¤ºå…¶é‚»æ¥é¡¶ç‚¹å…¨è¢«å‘ç°ã€‚<br><img src="https://telegraph-image-eja.pages.dev/file/68170db1c351c1c1154fb.png" alt="bfs"><br>// è¯¥å›¾å±•ç¤ºäº†å¹¿æœå…¨è¿‡ç¨‹ï¼Œå¹¿æœçš„ç»“æœå¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™å–å†³äº for each vertex v in $G$.Adj [u] çš„éå†é¡ºåºã€‚</p>
<h3 id="Shortest-paths"><a href="#Shortest-paths" class="headerlink" title="Shortest paths"></a>Shortest paths</h3><blockquote>
<p>å®šä¹‰ $\delta (s, v)$ ä¸ºä» s åˆ° v çš„æ‰€æœ‰è·¯å¾„ä¸­çš„æœ€å°‘çš„è¾¹æ•°</p>
</blockquote>
<h4 id="Lemma"><a href="#Lemma" class="headerlink" title="Lemma"></a>Lemma</h4><ul>
<li><p>(1) Let $G = (V, E)$ be a directed or undirected graph, and let $s \in V$ be an arbitrary<br>vertex. Then, for any edge $(u, v) \in E$,</p>
<p>$$<br>\delta(s, v) \leq \delta(s, u) + 1<br>$$</p>
<p><img src="https://telegraph-image-eja.pages.dev/file/40f16ccf9c4b758354fd3.png" alt="image"></p>
<blockquote>
<p>å¯¹äºè¯¥å¼•ç†æœ‰ä¸ªæ–¹ä¾¿è®°å¿†çš„æè¿°ï¼Œå³ä¸‰è§’å½¢ä¸¤è¾¹ä¹‹å’Œå¤§äºç¬¬ä¸‰è¾¹ï¼Œè§ A å›¾ï¼Œå…¬å¼ä¸­çš„ 1 å°±æ˜¯ (u, v) è¿™æ¡ç¡®å®šçš„è¾¹ã€‚</p>
<p>æˆ‘ä¸€å¼€å§‹çš„æƒ³æ³•æ˜¯ï¼Œ(u, v) è¿™æ¡è¾¹æœ‰ A, B, C ä¸‰ç§æƒ…å†µ (ä¸ä¸¥è°¨)ï¼ŒA è¡¨ç¤ºé¡¶ç‚¹ u, v æ˜¯åŒçº§çš„ï¼Œå¯¹åº” $\delta (s, v) = \delta (s, u)$ çš„æƒ…å†µï¼›B è¡¨ç¤ºé¡¶ç‚¹ u ç›¸å¯¹äº s çš„ä½ç½®æ¥è¯´åœ¨ v å‰é¢ï¼Œå¯¹åº” $\delta (s, v) = \delta (s, u) + 1$ çš„æƒ…å†µï¼›C è¡¨ç¤ºé¡¶ç‚¹ v ç›¸å¯¹äº s çš„ä½ç½®æ¥è¯´åœ¨ u å‰é¢ï¼Œå¯¹åº” $\delta (s, v) &lt; \delta (s, u)$ çš„æƒ…å†µï¼Œç‰¹åˆ«åœ°ï¼ŒC ä¸­çš„è“è‰²æ›²çº¿ä»£è¡¨äº† s åˆ° u çš„å…¶ä»–è·¯å¾„ï¼Œæ‰€ä»¥è¯´ A æ˜¯ C çš„ç‰¹æ®Šæƒ…å†µï¼Œå› æ­¤ä¹Ÿå¯ä»¥åˆ†æˆä¸¤ç§æƒ…å†µï¼Œä¸Šé¢éƒ½æ˜¯å»ºç«‹åœ¨ u æ˜¯ä» s å¯ä»¥åˆ°è¾¾çš„æƒ…å†µï¼Œä¸å¯ä»¥åˆ°è¾¾çš„æƒ…å†µå‚ç…§ä¸‹é¢çš„è§£é‡Šã€‚<br>// ä¸Šé¢çº¯å±ä¸»è§‚æƒ³æ³•æè¿°ï¼Œå¯èƒ½å­˜åœ¨çº°æ¼ä»¥åŠè¯´æ³•ä¸ä¸¥è°¨çš„åœ°æ–¹ã€‚</p>
<p>CLRS é‡Œé¢çš„è§£é‡Šï¼š<br>â‘  å¦‚æœ u æ˜¯ä» s å¯ä»¥åˆ°è¾¾çš„é¡¶ç‚¹ï¼Œé‚£ä¹ˆ v ä¹Ÿæ˜¯å¯è¾¾çš„ï¼Œè¿™ç§æƒ…å†µä¸‹ä» $s \to v$ çš„æœ€çŸ­è·¯å¾„ä¸å¯èƒ½æ¯”ä» $s \to u$ çš„æœ€çŸ­è·¯å¾„å†åŠ ä¸Šè¾¹ (u, v) æ›´é•¿ï¼Œå› æ­¤ä¸ç­‰å¼æˆç«‹ã€‚// è¿™æ˜¯åŸè¯ï¼Œçœ‹åˆ°è¿™å¥æˆ‘è§‰å¾—æˆ‘ä¸Šé¢çš„æƒ³æ³•è²Œä¼¼å°±æ˜¯æƒ³è¡¨è¾¾è¿™ä¸ªæ„æ€ã€‚åæ­£å°±æ˜¯å› ä¸º $\delta (s, u)$ æœ¬èº«å°±æ˜¯æœ€çŸ­çš„ï¼Œç„¶åä¸é¡¶ç‚¹ v å†è¿ä¸€æ¡è¾¹çš„è¯ï¼Œé‚£ä¹ˆ $\delta (s, v)$ çš„è·¯å¾„è¦ä¹ˆä¸ç»è¿‡ uï¼Œè¦ä¹ˆç»è¿‡ uã€‚ä¸ç»è¿‡çš„è¯å°±å¿…å®šæœ‰ $\delta (s, v) \leq \delta (s, u) + 1$ï¼Œå› ä¸ºå¦‚æœä¸ç­‰å·ä¸º &gt;ï¼Œé‚£ä¹ˆ $\delta (s, u) + 1$ è¿™æ¡è·¯å¾„æ‰åº”è¯¥æ˜¯ $\delta (s, v)$ çœŸæ­£çš„è·¯å¾„ï¼Œå› ä¸ºå®ƒæ›´çŸ­ï¼›ç»è¿‡ u çš„è¯å°±è¯´æ˜ u æ˜¯ $\delta (s, v)$ è·¯å¾„çš„ä¸€éƒ¨åˆ†ï¼Œæ­¤æ—¶åœ¨æ— å‘å›¾ä¸­ $\delta (s, v)$ ä¸ä»…æœ‰ä¸Šé™ $\delta (s, u) + 1$ï¼Œè¿˜æœ‰ $\delta (s, u) - 1$ è¿™ä¸ªä¸‹é™ã€‚<br>â‘¡ å¦‚æœ u æ˜¯ä» s ä¸å¯ä»¥åˆ°è¾¾çš„é¡¶ç‚¹ï¼Œé‚£ä¹ˆåœ¨ä¸Šé¢ä¼ªä»£ç ç®—æ³•ä¸­å¯çŸ¥ï¼Œ$\delta (s, u) = \infty$ï¼Œç­‰å¼æ˜¾ç„¶æˆç«‹ã€‚</p>
</blockquote>
</li>
<li><p>(2) Let $G = (V, E)$ be a directed or undirected graph, and suppose that BFS is run<br>on $G$ from a given source vertex $s \in V$ . Then, for each vertex $v \in V$ , the value v.d<br>computed by BFS satisfies $v.d \geq \delta (s, v)$ at all times, including at termination.</p>
</li>
</ul>
<blockquote>
<p>è¿™é‡Œæ˜¯ç”¨å½’çº³æ³•è¿›è¡Œè¯æ˜ï¼šå½’çº³å‡è®¾å³ä¸º $v.d \geq \delta (s, v)$ å¯¹äºæ‰€æœ‰ $v \in V$ éƒ½æˆç«‹<br>â‘  åŸºæœ¬æƒ…å†µï¼šåœ¨æŠŠæºç‚¹ s å…¥é˜Ÿåï¼Œ$s.d = 0 = \delta (s, s)$ å¹¶ä¸”å¯¹äºæ‰€æœ‰é™¤ s å¤–çš„é¡¶ç‚¹ v éƒ½æœ‰ $v.d = \infty \geq \delta (s, v)$ï¼Œå› æ­¤ç­‰å¼æˆç«‹ã€‚<br>â‘¡ å½’çº³ï¼šè€ƒè™‘åˆ°ä¸€ä¸ªç™½è‰²é¡¶ç‚¹ v æ˜¯åœ¨å¯¹é¡¶ç‚¹ u çš„é‚»æ¥è¡¨æœç´¢ä¸­è¢«å‘ç°çš„ï¼Œå› æ­¤ $v.d = u.d + 1$ï¼ˆå¯è§ä¼ªä»£ç ï¼‰ï¼ŒåŸºäºå½’çº³å‡è®¾ï¼Œæœ‰ $v.d \geq \delta (s, u) + 1$ï¼Œç”±å¼•ç† (1) å¯çŸ¥ $\delta (s, u) + 1 \geq \delta (s,v)$ï¼Œå› æ­¤ç­‰å¼æˆç«‹ã€‚</p>
</blockquote>
<ul>
<li>(3) Suppose that during the execution of BFS on a graph $G = (V, E)$, the queue Q<br>contains the vertices $&lt;v_1, v_2, . . . , v_r&gt;$, where $v_1$ is the head of Q and $v_r$ is the tail.<br>Then, $v_r.d \leq v_1.d + 1$ and $v_i.d \leq v_{i + 1}.d$ for i = 1, 2, . . . , r - 1.</li>
</ul>
<blockquote>
<p>è¿™é‡Œä¹Ÿæ˜¯ç”¨å½’çº³æ³•è¿›è¡Œè¯æ˜ï¼Œä½†ç›´æ¥ç†è§£å¥½åƒæ›´å®¹æ˜“ã€‚é¦–å…ˆï¼Œå‡è®¾é˜Ÿåˆ—é‡Œåªèƒ½æœ‰ä¸è¶…è¿‡ä¸¤ç§è·ç¦»ä¸åŒçš„é¡¶ç‚¹ï¼Œå¦‚æœæ˜¯åªæœ‰ä¸€ç§è·ç¦»ï¼Œå‡è®¾ä¸º dï¼Œé‚£ä¹ˆé˜Ÿåˆ—é‡Œè‚¯å®šéƒ½æ˜¯ä¸Šä¸€æ¬¡å‡ºé˜Ÿçš„é‚£ä¸ªé¡¶ç‚¹ (è·ç¦»ä¸º d - 1) çš„é‚»æ¥è¡¨ (å‡è®¾ä¸º u) é‡Œçš„ï¼Œå‡è®¾è¿˜æ²¡éå†å®Œï¼Œé‚£å°±ç»§ç»­æ·»åŠ ï¼Œæ­¤æ—¶é˜Ÿåˆ—é‡Œé¡¶ç‚¹è·ç¦»éƒ½æ˜¯ dã€‚éå†å®Œåå°±åˆè¦æŠŠå½“å‰é˜Ÿåˆ—ç¬¬ä¸€ä¸ªé¡¶ç‚¹å‡ºé˜Ÿï¼Œå¦‚æœå…¶é‚»æ¥è¡¨ä¸ºç©ºï¼Œé‚£å°±ä¸‹ä¸€ä¸ªç»§ç»­å‡ºé˜Ÿæ“ä½œï¼Œæ­¤æ—¶é˜Ÿåˆ—è¿˜æ˜¯ä¸€ç§è·ç¦»çš„æƒ…å†µï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œé‚£å°±å¼€å§‹éå†å…¶é‚»æ¥è¡¨ï¼Œåªè¦æ˜¯å¯¹é‚»æ¥è¡¨ u é‡Œé¢çš„å…ƒç´ æ‰§è¡Œå‡ºé˜Ÿï¼Œä¹‹åå…¥é˜Ÿçš„é¡¶ç‚¹çš„è·ç¦»éƒ½ä¼šæ˜¯ d+1ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­è·ç¦»å°±æœ‰ä¸¤ç§æƒ…å†µï¼Œè¿™ç§æƒ…å†µæŒç»­åˆ° u çš„æ‰€æœ‰é¡¶ç‚¹éƒ½å‡ºé˜Ÿäº†ï¼Œé‚£ä¹ˆæ­¤æ—¶é˜Ÿåˆ—é‡Œå°±åªæœ‰ d+1 çš„é¡¶ç‚¹äº†ï¼Œå°±åˆå˜å›ä¸€ç§è·ç¦»çš„æƒ…å†µäº†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå› æ­¤é˜Ÿåˆ—é‡Œä¸å¯èƒ½æœ‰è¶…è¿‡ä¸¤ç§è·ç¦»ï¼Œä¸”ä»è¿‡ç¨‹å¯çŸ¥ï¼Œè·¨åº¦ä¸è¶…è¿‡ 1ï¼Œå› æ­¤ $v_r.d \leq v_1.d + 1$ æˆç«‹ï¼Œåˆå› ä¸ºä»£ç ä¸­ d çš„è®¡ç®—åªæœ‰åŠ æ²¡æœ‰å‡ï¼Œå› æ­¤åœ¨åé¢å…¥é˜Ÿçš„è‚¯å®š $\geq$ åœ¨å‰é¢å…¥é˜Ÿçš„ï¼Œå› æ­¤ï¼Œ$v_i.d \leq v_{i + 1}.d$ ä¹Ÿæˆç«‹ã€‚</p>
</blockquote>
<h4 id="Corollary"><a href="#Corollary" class="headerlink" title="Corollary"></a>Corollary</h4><ul>
<li>Suppose that vertices $v_i$ and $v_j$ are enqueued during the execution of BFS, and that $v_i$ is enqueued before $v_j$. Then $v_i.d \leq v_j.d$ at the time that $v_j$ is enqueued.</li>
</ul>
<h4 id="Theorem"><a href="#Theorem" class="headerlink" title="Theorem"></a>Theorem</h4><ul>
<li>Let $G = (V, E)$ be a directed or undirected graph, and suppose that BFS is run<br>on $G$ from a given source vertex $s \in V$ . Then, during its execution, BFS discovers<br>every vertex $v \in V$ that is reachable from the source s, and upon termination,<br>$v.d = \delta (s, v)$ for all $v \in V$ . Moreover, for any vertex $v \not = s$ that is reachable from s, one of the shortest paths from s to v is a shortest path from s to $v.\pi$ followed by the edge $(v.\pi, v)$.</li>
</ul>
<blockquote>
<p>è¿™é‡Œå®šç†å…¶å®ä¸»è¦è¡¨è¾¾çš„å°±æ˜¯ $v.d = \delta (s, v)$ï¼Œè¿™å°±ä½¿å¾—å¹¿æœå¯ä»¥ç”¨æ¥æ±‚æœ€çŸ­è·¯å¾„é—®é¢˜ã€‚<br>è¿™ä¸ªå®šç†çš„è¯æ˜é‡‡ç”¨åè¯æ³•ï¼š<br>å‡è®¾å­˜åœ¨é¡¶ç‚¹çš„ d å€¼ä¸ç­‰äºå®ƒæœ€çŸ­è·¯å¾„çš„è·ç¦»ã€‚å¯¹äºæ‰€æœ‰çš„è¿™ç§é¡¶ç‚¹ï¼Œè®¾é¡¶ç‚¹ v çš„æœ€çŸ­è·ç¦»ä¸º $\delta (s, v)$ï¼Œé€šè¿‡å¼•ç† (2) å¯çŸ¥ï¼Œ$v.d \geq \delta (s, v)$ï¼Œå› æ­¤åœ¨è¿™é‡Œçš„é¡¶ç‚¹ v æœ‰ $v.d &gt; \delta (s, v)$â‘ ï¼Œå½“ç„¶ä¸èƒ½æœ‰ $v \not = s$ï¼Œå› ä¸º s.d = 0 å¹¶ä¸” $\delta (s, s) = 0$ã€‚è€Œä¸”ï¼Œé¡¶ç‚¹ v å¿…é¡»æ˜¯ä» s å¯è¾¾çš„ï¼Œå¦åˆ™æˆ‘ä»¬å°†æœ‰ $\delta (s, v) = \infty \geq v.d$ã€‚è®¾ u æ˜¯ä» s åˆ° v çš„æœ€çŸ­è·¯å¾„ä¸Šç´§é‚» v å‰é¢çš„é¡¶ç‚¹ (å› ä¸º $v \not = s$ï¼Œæ‰€ä»¥é¡¶ç‚¹ u å¿…é¡»å­˜åœ¨)ï¼Œè¿™æ ·å°±æœ‰ $\delta (s, v) = \delta (s, u) + 1$â‘¡ äº†ã€‚å› æ­¤ $\delta (s, u) &lt; \delta (s, v)$ï¼Œåˆå› ä¸ºæˆ‘ä»¬è®¾ u çš„æ–¹å¼ï¼Œæ‰€ä»¥æœ‰ $u.d = \delta (s, u)$â‘¢ã€‚<br>ç»“åˆ â‘ â‘¡â‘¢ï¼Œå°±æœ‰äº†ä¸‹å›¾çš„å…¬å¼ï¼Œç„¶åå¯¹ v çš„æ‰€æœ‰æƒ…å†µè¿›è¡Œè®¨è®ºï¼Œæ¨å‡ºçŸ›ç›¾ï¼Œè¯æ˜ $v.d = \delta (s, v)$ æˆç«‹ã€‚å…·ä½“çœ‹ä¸‹å›¾ï¼š</p>
</blockquote>
<p><img src="https://telegraph-image-eja.pages.dev/file/a9bfbbf9fc07d7969e851.png" alt="?"></p>
<h3 id="Breadth-first-trees"><a href="#Breadth-first-trees" class="headerlink" title="Breadth-first trees"></a>Breadth-first trees</h3><p>ä¸Šé¢å¹¿æœå…¨è¿‡ç¨‹å›¾ç‰‡ä¸­çš„è“è‰²è¾¹æ­£å±•ç¤ºäº†å¹¿åº¦ä¼˜å…ˆæ ‘åœ¨ BFS è¿‡ç¨‹ä¸­è¢«å»ºç«‹ï¼Œè¿™ä¸ªæ ‘å¯¹åº”ç€ $\pi$ å±æ€§ã€‚<br>å½¢å¼åŒ–çš„å®šä¹‰å³æ˜¯ï¼šå¯¹äºæœ‰æºç‚¹ s çš„å›¾ $G = (V, E)$ï¼Œå®šä¹‰ $G$ çš„å‰é©±å­å›¾ (predecessor subgraph) $G_\pi = (V_\pi, E_\pi)$ï¼Œå…¶ä¸­ $V_\pi = {v \in V: v.\pi \not = NIL} \cup {s}$ï¼Œ$E_\pi = {(v.\pi, v): v \in V_\pi - {s}}$ã€‚è¿™æ ·çš„ $G_\pi$ å°±æ˜¯å¹¿åº¦ä¼˜å…ˆæ ‘ï¼Œ$E_\pi$ ä¸ºæ ‘è¾¹ã€‚</p>
<h2 id="Depth-first-search"><a href="#Depth-first-search" class="headerlink" title="Depth-first search"></a>Depth-first search</h2><ul>
<li>ä¸å¹¿æœä¸åŒï¼Œæ·±æœçš„å‰é©±å­å›¾å¯èƒ½åŒ…å«å¤šä¸ªæ ‘ï¼Œå› ä¸ºæ·±æœå¯èƒ½ä»å¤šä¸ªæºç‚¹è¿›è¡Œã€‚<br>å®ƒå¯¹ $G_\pi$ çš„å®šä¹‰æ˜¯ï¼š$G_\pi = (V, E_\pi)$ï¼Œå…¶ä¸­ $E_\pi = {(v.\pi, v): v \in V \wedge v.\pi \not = NIL}$ã€‚<br>æ·±åº¦ä¼˜å…ˆæœç´¢çš„å‰é©±å­å›¾å½¢æˆäº†åŒ…å«å¤šä¸ªæ·±åº¦ä¼˜å…ˆæ ‘çš„æ·±åº¦ä¼˜å…ˆæ£®æ—ã€‚</li>
<li>æ·±åº¦ä¼˜å…ˆæœç´¢ç€è‰²æ–¹æ³•ä¸å¹¿æœä¸€æ ·ï¼Œè¯¥æ–¹æ³•åœ¨è¿™é‡Œä¿è¯äº†æ¯ä¸ªé¡¶ç‚¹åªåœ¨ä¸€æ£µæ·±åº¦ä¼˜å…ˆæ ‘ä¸­å‡ºç°ï¼Œå› æ­¤è¿™äº›æ ‘éƒ½æ˜¯ä¸ç›¸äº¤çš„ã€‚</li>
<li>ä¸å¹¿æœä¸ä¸€æ ·çš„æ˜¯ï¼Œæ·±æœè¿‡ç¨‹è¿˜æä¾›äº†æ—¶é—´æˆ³ï¼Œæ¯ä¸ªé¡¶ç‚¹æœ‰ä¸¤ä¸ªæ—¶é—´æˆ³ï¼Œç¬¬ä¸€ä¸ªæ—¶é—´æˆ³ v.d è®°å½•äº† v ä»€ä¹ˆæ—¶å€™ç¬¬ä¸€æ¬¡è¢«å‘ç°ï¼Œç¬¬äºŒä¸ªæ—¶é—´æˆ³ v.f è®°å½•äº†ä»€ä¹ˆæ—¶å€™å®Œæˆäº†å¯¹ v çš„é‚»æ¥è¡¨çš„éå†ã€‚å› ä¸ºæ¯ä¸ªé¡¶ç‚¹éƒ½æœ‰ä¸¤ä¸ªæ—¶é—´æˆ³ï¼Œå› æ­¤æ—¶é—´æˆ³èŒƒå›´æ˜¯ $1 \to 2|V|$ çš„æ•´æ•°ï¼Œå¹¶ä¸” $v.d &lt; v.f$ã€‚v åœ¨ v.d ä¹‹å‰ä¸ºç™½è‰²ï¼Œåœ¨ v.d åˆ° v.f ä¹‹é—´ä¸ºç°è‰²ï¼Œåœ¨ v.f ä¹‹åä¸ºé»‘è‰²ã€‚ä¸‹é¢æ˜¯æ·±æœä¼ªä»£ç ï¼š</li>
</ul>
<blockquote>
<p>// æ—¶é—´å¤æ‚åº¦ï¼šO (V + E)<br>$DFS(G)$</p>
</blockquote>
<pre><code>   for each vertex $u \in G.V$                  //åˆå§‹åŒ–
       u.color = WHITE
       u.$\pi$ = NIL
   time  = 0
   for each vertex $u \in G.V$
       if u.color == WHITE
           DFS-VISIT $(G, u)$
</code></pre>
<blockquote>
<p>DFS-VISIT $(G, u)$</p>
</blockquote>
<pre><code>   time = time + 1
   u.d = time
   u.color =$GRAY$
   for each vertex v in $G.Adj[u]$
       if v.color == WHITE
           v.$\pi$ = u
           DFS-VISIT $(G, v)$               //ä½“ç°äº†æ·±åº¦ä¼˜å…ˆ
   time = time + 1
   u.f = time
   u.color = BLACK
</code></pre>
<p><img src="https://telegraph-image-eja.pages.dev/file/275c9f0fa7b28c8b16770.png" alt="dfs"><br>// è¿™æ˜¯æ·±æœå…¨è¿‡ç¨‹å›¾</p>
<h3 id="Properties-of-depth-first-search"><a href="#Properties-of-depth-first-search" class="headerlink" title="Properties of depth-first search"></a>Properties of depth-first search</h3><ul>
<li>(1) æ·±åº¦ä¼˜å…ˆæœç´¢ç”Ÿæˆçš„å‰é©±å­å›¾ $G_\pi$ ä¸ºä¸€ä¸ªæœ‰è‹¥å¹²æ£µæ ‘çš„æ£®æ—ï¼Œå› ä¸ºæ·±åº¦ä¼˜å…ˆæ ‘çš„ç»“æ„ä¸ &nbsp;DFS-VISIT&nbsp; é€’å½’è°ƒç”¨çš„ç»“æ„å®Œå…¨å¯¹åº”ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ$u = v.\pi$ å½“ä¸”ä»…å½“ &nbsp;DFS-VISIT (G, v)&nbsp; åœ¨æœç´¢ &nbsp;u&nbsp; çš„é‚»æ¥è¡¨æ—¶è¢«è°ƒç”¨ï¼Œæ­¤å¤–ï¼Œåœ¨æ·±åº¦ä¼˜å…ˆæ£®æ—ä¸­ï¼Œé¡¶ç‚¹ v æ˜¯é¡¶ç‚¹ u çš„åä»£å½“ä¸”ä»…å½“é¡¶ç‚¹ v åœ¨é¡¶ç‚¹ u ä¸ºç°è‰²çš„æ—¶é—´æ®µé‡Œè¢«å‘ç°ã€‚<br><img src="https://telegraph-image-eja.pages.dev/file/b2b7493044770da13ffa1.png" alt="image"></li>
<li>(2) é¡¶ç‚¹çš„å‘ç°æ—¶é—´å’Œå®Œæˆçš„æ—¶é—´å…·æœ‰æ‹¬å·åŒ–ç»“æ„ï¼Œä¸æ­¤å¯¹åº”çš„æ˜¯æ‹¬å·åŒ–å®šç†ã€‚</li>
</ul>
<h3 id="Parenthesis-theorem"><a href="#Parenthesis-theorem" class="headerlink" title="Parenthesis theorem"></a>Parenthesis theorem</h3><p>åœ¨å¯¹æœ‰å‘å›¾æˆ–æ— å‘å›¾ &nbsp;$G=(V, E)$ çš„æ·±åº¦ä¼˜å…ˆæœç´¢ä¸­ï¼Œå¯¹äºä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ &nbsp;u&nbsp; å’Œ &nbsp;v&nbsp;ï¼Œä»¥ä¸‹ä¸‰ç§æƒ…å†µåªæœ‰ä¸€ç§æˆç«‹ï¼š</p>
<ul>
<li>è‹¥ &nbsp;$[u.d, u.f]âˆ©[v.d, v.f] = âˆ…$&nbsp;ï¼Œåˆ™åœ¨æ·±åº¦ä¼˜å…ˆæ£®æ—ä¸­ï¼Œu ä¸æ˜¯ v çš„åä»£ï¼Œv ä¹Ÿä¸æ˜¯ u çš„åä»£ã€‚</li>
<li>è‹¥ $[u.d, u.f]âŠ‚[v.d, v.f]$ï¼Œåˆ™åœ¨æ·±åº¦ä¼˜å…ˆæ£®æ—ä¸­ï¼Œu æ˜¯ v çš„åä»£ã€‚</li>
<li>è‹¥ $[v.d, v.f]âŠ‚[u.d, u.f]$ï¼Œåˆ™åœ¨æ·±åº¦ä¼˜å…ˆæ£®æ—ä¸­ï¼Œv æ˜¯ u æ˜¯åä»£ã€‚<br><img src="https://telegraph-image-eja.pages.dev/file/26624ae22bfd773c415fa.png" alt="image"></li>
</ul>
<h3 id="Corollary-Nesting-of-descendantsâ€™-intervals"><a href="#Corollary-Nesting-of-descendantsâ€™-intervals" class="headerlink" title="Corollary(Nesting of descendantsâ€™ intervals)"></a>Corollary(Nesting of descendantsâ€™ intervals)</h3><p>åœ¨æœ‰å‘å›¾æˆ–æ— å‘å›¾ $G = (V, E)$ çš„æ·±åº¦ä¼˜å…ˆæ£®æ—ä¸­ï¼Œé¡¶ç‚¹ v æ˜¯é¡¶ç‚¹ u çš„çœŸåä»£å½“ä¸”ä»…å½“ $u.d &lt; v.d &lt; v.f &lt; u.f$ã€‚</p>
<h3 id="White-path-theorem"><a href="#White-path-theorem" class="headerlink" title="White-path theorem"></a>White-path theorem</h3><p>åœ¨æœ‰å‘å›¾æˆ–æ— å‘å›¾ $G=(V, E)$ çš„æ·±åº¦ä¼˜å…ˆæ£®æ—ä¸­ï¼Œé¡¶ç‚¹ v æ˜¯é¡¶ç‚¹ u çš„åä»£å½“ä¸”ä»…å½“åœ¨æœç´¢å‘ç° u çš„æ—¶åˆ» u.d&nbsp;ï¼Œå­˜åœ¨ä¸€æ¡ä» u åˆ° v çš„å…¨éƒ¨ç”±ç™½è‰²é¡¶ç‚¹æ„æˆçš„è·¯å¾„ã€‚</p>
<ul>
<li>$\Rightarrow$ï¼šå¦‚æœ v = uï¼Œé‚£ä¹ˆä» u åˆ° v è·¯å¾„ä¸Šåªæœ‰ä¸€ä¸ªé¡¶ç‚¹ uï¼Œå½“ u.d = time æ—¶åˆ»ï¼Œu è¿˜æ˜¯ç™½è‰²ï¼›å¦‚æœ v æ˜¯ u çš„çœŸåä»£ï¼Œæ ¹æ®æ¨è®ºï¼Œæœ‰ $u.d &lt; v.d$ï¼Œ å› æ­¤ v æ˜¯ç™½è‰²ã€‚ç”±äº v å¯ä»¥æ˜¯ u çš„ä»»æ„åä»£ï¼Œæ‰€ä»¥åœ¨æ·±åº¦ä¼˜å…ˆæ£®æ—ä¸­ä» u åˆ° v çš„å”¯ä¸€ç®€å•è·¯å¾„ä¸Šçš„æ‰€æœ‰é¡¶ç‚¹åœ¨æ—¶é—´ u.d æ—¶ä¸ºç™½è‰²ã€‚</li>
<li>$\Leftarrow$ï¼šè‹¥åœ¨æ—¶åˆ» u.dï¼Œå­˜åœ¨ä¸€æ¡ä» u åˆ° v çš„å…¨éƒ¨ç”±ç™½è‰²é¡¶ç‚¹æ„æˆçš„è·¯å¾„ï¼Œå…ˆå‡è®¾åœ¨æ·±åº¦ä¼˜å…ˆæ£®æ—ä¸­ v ä¸æ˜¯ u çš„åä»£ã€‚ä¸å¤±ä¸€èˆ¬æ€§ï¼Œå‡è®¾è·¯å¾„ä¸Šé™¤ v ä»¥å¤–çš„æ¯ä¸ªé¡¶ç‚¹éƒ½æˆä¸º u çš„åä»£ã€‚(å¦åˆ™ï¼Œå‡è®¾ v æ˜¯åœ¨æ²¡æœ‰æˆä¸º u çš„åä»£çš„è·¯å¾„ä¸Šç¦» u æœ€è¿‘çš„é¡¶ç‚¹ã€‚) è®¾ w æ˜¯ v åœ¨è·¯å¾„ä¸Šçš„å‰é©±ï¼Œé‚£ä¹ˆ w å°±æ˜¯ u çš„åä»£ (w å’Œ u å®é™…ä¸Šå¯èƒ½æ˜¯åŒä¸€ä¸ªé¡¶ç‚¹)ã€‚ç”±æ¨è®ºå¯çŸ¥ï¼Œ$w.f  \leq u.f$ã€‚åˆå› ä¸º v å¿…é¡»åœ¨ u è¢«å‘ç°ä¹‹åè¢«å‘ç°ï¼Œä½†åœ¨ w å®Œæˆçš„æ—¶é—´æˆ³ä¹‹å‰ï¼Œåˆ™æœ‰ $u.d &lt; v.d &lt; w.f \leq u.f$ã€‚æ ¹æ®æ‹¬å·åŒ–å®šç†å¯çŸ¥ï¼Œ$[v.d, v.f]âŠ‚[u.d, u.f]$ã€‚ç”±æ¨è®ºå¯çŸ¥ï¼Œv å¿…é¡»ä¸º u çš„åä»£</li>
</ul>
<h3 id="Classification-of-edges"><a href="#Classification-of-edges" class="headerlink" title="Classification of edges"></a>Classification of edges</h3><ul>
<li>æ ‘è¾¹ (Tree edges)ï¼š$G_\pi$ ä¸Šçš„è¾¹ï¼Œè‹¥é¡¶ç‚¹ v æ˜¯é€šè¿‡è¾¹ (u, v) ç¬¬ä¸€æ¬¡è¢«å‘ç°ï¼Œåˆ™ (u, v) æ˜¯ä¸€æ¡æ ‘è¾¹ã€‚</li>
<li>åå‘è¾¹ (Back edges)ï¼šè‹¥è¾¹ (u, v) ä¸ºè¿æ¥ u å’Œå®ƒåœ¨æ·±åº¦ä¼˜å…ˆæ ‘ä¸­çš„ä¸€ä¸ªç¥–å…ˆ v çš„è¾¹ï¼ŒåŒ…æ‹¬è‡ªç¯ (å³ u = v)ï¼Œåˆ™ (u, v) æ˜¯ä¸€æ¡åå‘è¾¹ã€‚</li>
<li>å‰å‘è¾¹ (Forward edges)ï¼šè‹¥è¾¹ (u, v) ä¸ºè¿æ¥ u å’Œå®ƒçš„ä¸€ä¸ªçœŸåä»£ v çš„éæ ‘è¾¹ï¼Œåˆ™ (u, v) æ˜¯ä¸€æ¡å‰å‘è¾¹ã€‚</li>
<li>æ¨ªå‘è¾¹ (Cross edges)ï¼šå…¶å®ƒæ‰€æœ‰è¾¹ï¼Œå®ƒä»¬å¯ä»¥è¿æ¥åŒä¸€æ·±åº¦ä¼˜å…ˆæ ‘ä¸­çš„é¡¶ç‚¹ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªé¡¶ç‚¹ä¸æ˜¯å¦ä¸€ä¸ªé¡¶ç‚¹çš„ç¥–å…ˆï¼›å®ƒä»¬ä¹Ÿå¯ä»¥è¿æ¥ä¸åŒæ·±åº¦ä¼˜å…ˆæ ‘ä¸­çš„é¡¶ç‚¹ã€‚</li>
</ul>
<h2 id="Topological-sort"><a href="#Topological-sort" class="headerlink" title="Topological sort"></a>Topological sort</h2><p>å¯¹è±¡æ˜¯æœ‰å‘æ— ç¯å›¾ (directed acyclic graphs)ï¼Œå› æ­¤æ‹“æ‰‘æ’åºå¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå›¾æœ‰æ²¡æœ‰ç¯ï¼Œå¾ˆå¤šå®é™…åº”ç”¨éƒ½éœ€è¦ä½¿ç”¨æœ‰å‘æ— ç¯å›¾æ¥æŒ‡æ˜æ—¶é—´çš„å…ˆåé¡ºåºã€‚<br>æ‹“æ‰‘æ’åºæ˜¯ä¸€ç§é’ˆå¯¹æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰çš„æ’åºç®—æ³•ï¼Œå®ƒä¸æ˜¯åŸºäºå…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒï¼Œè€Œæ˜¯åŸºäºå®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚åŸç†ä¸Šï¼Œæ‹“æ‰‘æ’åºæ˜¯å¯¹æœ‰å‘æ— ç¯å›¾è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰æˆ–å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰çš„ä¸€ç§åº”ç”¨ã€‚å®ƒé€šè¿‡è¿™äº›æœç´¢ç®—æ³•æ¥ç¡®å®šå›¾ä¸­èŠ‚ç‚¹çš„çº¿æ€§åºåˆ—ï¼Œè¿™ä¸ªåºåˆ—æ»¡è¶³ï¼šå¯¹äºå›¾ä¸­çš„æ¯ä¸€æ¡æœ‰å‘è¾¹ (u, v)ï¼ˆä»èŠ‚ç‚¹ u æŒ‡å‘èŠ‚ç‚¹ vï¼‰ï¼Œu åœ¨åºåˆ—ä¸­éƒ½å‡ºç°åœ¨ v ä¹‹å‰ã€‚è¿™æ ·çš„åºåˆ—æ»¡è¶³äº†å›¾ä¸­èŠ‚ç‚¹é—´çš„æ‰€æœ‰ä¾èµ–å…³ç³»ã€‚</p>
<ul>
<li><strong>ä¾èµ–å…³ç³»</strong>ï¼š<br>å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªä»»åŠ¡æˆ–æ´»åŠ¨ï¼Œæœ‰å‘è¾¹ä»£è¡¨ä¸€ä¸ªä»»åŠ¡å¿…é¡»åœ¨å¦ä¸€ä¸ªä»»åŠ¡ä¹‹åå®Œæˆã€‚æ‹“æ‰‘æ’åºèƒ½å¤Ÿç¡®ä¿å¯¹äºä»»ä½•èŠ‚ç‚¹ï¼Œå®ƒçš„æ‰€æœ‰å‰é©±èŠ‚ç‚¹ï¼ˆå³æ‰€æœ‰æŒ‡å‘å®ƒçš„èŠ‚ç‚¹ï¼‰éƒ½åœ¨å®ƒä¹‹å‰è¢«è®¿é—®ã€‚<blockquote>
<p>ä¼ªä»£ç ï¼š<br>TOPOLOGICAL-SORT$(G)$<br>       call $DFS(G)$ to compute finish times v.f for each vertex v<br>       as each vertex is finished, insert it onto the front of a linked list<br>       return the linked list of vertices</p>
</blockquote>
</li>
</ul>
<h2 id="Strongly-connected-components"><a href="#Strongly-connected-components" class="headerlink" title="Strongly connected components"></a>Strongly connected components</h2><ul>
<li>æœ‰å‘å›¾ $G = (V, E)$ çš„ä¸€ä¸ªå¼ºè¿é€šåˆ†é‡æ˜¯ä¸€ä¸ªæœ€å¤§é¡¶ç‚¹é›† $C \subseteq V$ï¼Œå¯¹äºæ¯ä¸€å¯¹é¡¶ç‚¹ $u, v \in C$ï¼Œé‚£ä¹ˆ u, v ç›¸äº’å¯è¾¾ã€‚</li>
<li>$G å’Œ G^T$ æœ‰å®Œå…¨ç›¸åŒçš„å¼ºè¿é€šåˆ†é‡ã€‚</li>
<li>åˆ†é‡å›¾ $G^{SCC} = (V^{SCC},E^{SCC})$ï¼Œä¸ºç®€åŒ–åçš„æœ‰å‘å›¾ï¼ŒæŠŠæ¯ä¸ªå¼ºè¿é€šåˆ†é‡å‹ç¼©æˆä¸€ä¸ªé¡¶ç‚¹ï¼Œä»¥ä¾¿ç ”ç©¶å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚<br><img src="https://telegraph-image-eja.pages.dev/file/f02f4a1572ce744d646b2.png" alt="image"></li>
</ul>
<blockquote>
<p>ä¼ªä»£ç ï¼š<br>$STRONGLY-CONNECTED-COMPONENTS(G)$<br>1 call DFS(G) to compute finish times u.f for each vertex u<br>2 create $G^T$<br>3 call DFS($G^T$) , but in the main loop of DFS, consider the vertices<br>in order of decreasing u.f (as computed in line 1)<br>4 output the vertices of each tree in the depth-Ã»rst forest formed in line 3 as a</p>
</blockquote>
<pre><code>    separate strongly connected component
</code></pre>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Graph</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>DFS</tag>
        <tag>BFS</tag>
        <tag>å›¾è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>KMP å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</title>
    <url>/2024/06/11/Kmp%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h1 id="å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜"><a href="#å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜" class="headerlink" title="å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜"></a>å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜</h1><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>é¦–å…ˆå­—ç¬¦ä¸²åŒ¹é…é—®é¢˜æ˜¯ä»€ä¹ˆå¾ˆå®¹æ˜“çŸ¥é“ï¼Œå¦‚ä¸‹å›¾<br><img src="https://telegraph-image-eja.pages.dev/file/f6379e3c35441555f747d.png" alt="image"><br>è¿™åœ¨æœç´¢å¼•æ“ï¼Œæ–‡æœ¬ç¼–è¾‘å™¨ç­‰éƒ½æœ‰å…¶èº«å½±ã€‚</p>
<blockquote>
<p>å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜å¯ä»¥æ­£å¼åœ°è¡¨è¿°å¦‚ä¸‹ï¼š</p>
</blockquote>
<p>ç»™å®šæ–‡æœ¬æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º &nbsp;ğ‘›&nbsp; çš„æ•°ç»„ &nbsp;ğ‘‡[1 : ğ‘›]&nbsp;ï¼Œæ¨¡å¼ (ä¸²) æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º &nbsp;ğ‘š(ğ‘šâ‰¤ğ‘›) çš„æ•°ç»„ &nbsp;ğ‘ƒ[1 : ğ‘š]ï¼Œğ‘ƒ&nbsp; å’Œ &nbsp;ğ‘‡&nbsp; ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯æ¥è‡ªä¸€ä¸ªæœ‰é™å­—æ¯é›† $\Sigma$ çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ$\Sigma$ å¯ä»¥æ˜¯ ${0, 1}$ï¼Œä¹Ÿå¯ä»¥æ˜¯ ${a, b, â€¦ , z}$ã€‚å­—ç¬¦æ•°ç»„ &nbsp;ğ‘ƒ&nbsp; å’Œ &nbsp;ğ‘‡&nbsp; é€šå¸¸ç§°ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ¨¡å¼ P ä¼´éšç€ T ä¸­çš„åç§»é‡ s å‡ºç° (æˆ–è€…ï¼Œç­‰ä»·åœ°ï¼Œæ¨¡å¼ P ä»æ–‡æœ¬ T ä¸­çš„ s + 1 ä½ç½®å¼€å§‹)ã€‚<br>è‹¥ $0\le ğ‘ \le ğ‘›âˆ’ğ‘š$ ä¸” $ğ‘‡[ğ‘ +1:ğ‘ +ğ‘š]=ğ‘ƒ[1:ğ‘š]$ï¼Œå³ $ğ‘‡[ğ‘ +ğ‘—]=ğ‘ƒ[ğ‘—]$ï¼Œå…¶ä¸­ $1â‰¤ğ‘—â‰¤ğ‘š$ï¼Œé‚£ä¹ˆæ¨¡å¼ &nbsp;ğ‘ƒ&nbsp; åœ¨æ–‡æœ¬ &nbsp;ğ‘‡&nbsp; åç§» &nbsp;ğ‘ &nbsp; åå‡ºç°ï¼Œç§° &nbsp;ğ‘ &nbsp; æ˜¯æœ‰æ•ˆåç§»ï¼Œå¦åˆ™ ğ‘ &nbsp; å°±æ˜¯æ— æ•ˆåç§»ï¼Œè€Œå­—ç¬¦ä¸²åŒ¹é…é—®é¢˜å°±æ˜¯è¦æ‰¾å‡ºæ¨¡å¼ &nbsp;ğ‘ƒ&nbsp; å‡ºç°åœ¨ç»™å®šçš„æ–‡æœ¬ &nbsp;ğ‘‡&nbsp; ä¸­æ‰€æœ‰çš„æœ‰æ•ˆåç§»çš„é—®é¢˜ã€‚<br>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å°† $ğ‘ƒ[1:ğ‘š]$ çš„å‰ &nbsp;ğ‘˜&nbsp; ä¸ªå­—ç¬¦ç»„æˆçš„å‰ç¼€ $ğ‘ƒ[1:ğ‘˜]$ è®°ä½œ $ğ‘ƒ[:ğ‘˜]$ï¼Œä¸ python ç±»ä¼¼ã€‚ç‰¹åˆ«åœ°ï¼Œæœ‰ $ğ‘ƒ[:0]=ğœ€$ å’Œ $ğ‘ƒ[:ğ‘š]=ğ‘ƒ=ğ‘ƒ[1:ğ‘š]$ã€‚äºæ˜¯ï¼Œå­—ç¬¦ä¸²åŒ¹é…é—®é¢˜å¯ä»¥è¡¨è¿°ä¸ºæ‰¾å‡ºæ‰€æœ‰åç§» $0â‰¤ğ‘ â‰¤ğ‘›âˆ’ğ‘š$ï¼Œä½¿å¾— $ğ‘ƒâŠğ‘‡[:ğ‘ +ğ‘š]$ã€‚</p>
<h3 id="æœ¯è¯­ä¸ç¬¦å·"><a href="#æœ¯è¯­ä¸ç¬¦å·" class="headerlink" title="æœ¯è¯­ä¸ç¬¦å·"></a>æœ¯è¯­ä¸ç¬¦å·</h3><p>åœ¨è¿›å…¥æ­£å¼ä»‹ç»å‰ï¼Œéœ€è¦å¼•å…¥ä¸€äº›æœ¯è¯­å’Œç¬¦å·ï¼Œä»¥ä¾¿å½¢å¼åŒ–è¡¨ç¤ºã€‚</p>
<ul>
<li>$\Sigma ^*$ï¼šæ‰€æœ‰ä½¿ç”¨ $\Sigma$ ä¸­çš„å­—ç¬¦æ‰€æ„æˆçš„æœ‰é™é•¿åº¦çš„å­—ç¬¦ä¸²çš„é›†åˆã€‚</li>
<li>$\varepsilon$ï¼šé•¿åº¦ä¸ºé›¶çš„å­—ç¬¦ä¸²ï¼Œ$\varepsilon \in \Sigma ^*$ã€‚</li>
<li>|x|ï¼šå­—ç¬¦ä¸² x çš„é•¿åº¦ã€‚</li>
<li>xyï¼šå­—ç¬¦ä¸² x å’Œå­—ç¬¦ä¸² y çš„è¿ç»“ (concatenation)ï¼Œåæ­£å°±æ˜¯æŠŠ y å¡«è¡¥åˆ° x çš„åé¢å½¢æˆæ–°çš„å­—ç¬¦ä¸²ã€‚</li>
<li>$wâŠx$ï¼šw æ˜¯ x çš„å‰ç¼€ï¼Œå¯¹äºæŸä¸ªå­—ç¬¦ä¸² $ğ‘¦\in \Sigma ^*$ï¼Œ&nbsp; æœ‰ $ğ‘¥=ğ‘¤ğ‘¦$ï¼Œæ˜¾ç„¶ $|ğ‘¤|\le|ğ‘¥|$ï¼Œè‹¥ $|ğ‘¤|&lt;|ğ‘¥|$ï¼Œåˆ™ç§° w æ˜¯çœŸå‰ç¼€ã€‚</li>
<li>$ğ‘¤âŠğ‘¥$ï¼šw æ˜¯ x çš„åç¼€ï¼Œå¯¹äºæŸä¸ªå­—ç¬¦ä¸² $ğ‘¦\in \Sigma ^*$ï¼Œ&nbsp; æœ‰ $ğ‘¥=yw$ï¼Œæ˜¾ç„¶ $|ğ‘¤|\le|ğ‘¥|$ï¼Œè‹¥ $|ğ‘¤|&lt;|ğ‘¥|$ï¼Œåˆ™ç§° w æ˜¯çœŸåç¼€ï¼ŒæŠŠ âŠ å½“åš&gt; ç®­å¤´å°±è¡Œï¼Œç®­å¤´æœå‰å°±æ˜¯å‰ç¼€ï¼Œæœåå°±æ˜¯åç¼€ã€‚<br>æ³¨ï¼š</li>
<li>$\varepsilon$ æ˜¯æ‰€æœ‰å­—ç¬¦ä¸²çš„å‰ç¼€å’Œåç¼€ã€‚</li>
<li>å¯¹äºä»»æ„å­—ç¬¦ä¸² &nbsp;ğ‘¥ï¼Œğ‘¦&nbsp;ï¼Œä»»æ„å­—ç¬¦ &nbsp;ğ‘&nbsp;ï¼Œ$ğ‘¥âŠğ‘¦$ å½“ä¸”ä»…å½“ $ğ‘¥ğ‘âŠğ‘¦ğ‘$ã€‚</li>
<li>$âŠå’ŒâŠ$ å…³ç³»å…·æœ‰ä¼ é€’æ€§ã€‚</li>
</ul>
<h3 id="å¼•ç†"><a href="#å¼•ç†" class="headerlink" title="å¼•ç†"></a>å¼•ç†</h3><p>Overlapping-suffix lemma<br>å‡è®¾ &nbsp;ğ‘¥ï¼Œğ‘¦&nbsp;ï¼Œğ‘§&nbsp; æ˜¯å­—ç¬¦ä¸²ï¼Œä¸”æ»¡è¶³ $ğ‘¥âŠğ‘§å’Œğ‘¦âŠğ‘§$ã€‚è‹¥ $|ğ‘¥|â‰¤|ğ‘¦|$ï¼Œåˆ™ $ğ‘¥âŠğ‘¦$ã€‚è‹¥ $|ğ‘¥|â‰¥|ğ‘¦|$ï¼Œåˆ™ $ğ‘¦âŠğ‘¥$ã€‚è‹¥ $|ğ‘¥|=|ğ‘¦|$ï¼Œåˆ™ $ğ‘¥=ğ‘¦$ï¼Œè¿™åœ¨ç›´è§‰ä¸Šä¹Ÿå¾ˆæ­£ç¡®ï¼Œä¸‹å›¾ç¤ºä¾‹ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/f583587ea80b1db76708c.png" alt="image"><br>å½“ç„¶ä¹Ÿæœ‰ Overlapping-prefix lemma ä¸ä¹‹å¯¹åº”ï¼Œä¸å†èµ˜è¿°ã€‚</p>
<h2 id="æœ´ç´ å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•-The-naive-string-matching-algorithm"><a href="#æœ´ç´ å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•-The-naive-string-matching-algorithm" class="headerlink" title="æœ´ç´ å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•(The naive string-matching algorithm)"></a>æœ´ç´ å­—ç¬¦ä¸²åŒ¹é…ç®—æ³• (The naive string-matching algorithm)</h2><p>å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯æš´åŠ›è§£æ³•äº†ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/473bf783a0d0eaa638e9b.png" alt="image"><br>ä¼ªä»£ç å¦‚ä¸‹ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/2f7b3445f88cd844aedba.png" alt="image"><br>cpp ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Naive_String_Matcher</span><span class="params">(string T, string P, <span class="type">int</span> n, <span class="type">int</span> m)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; <span class="type">bool</span> found;</span><br><span class="line">&nbsp; &nbsp; <span class="keyword">for</span>(<span class="type">int</span> s = <span class="number">0</span>; s &lt; n - m; s++) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; found = <span class="literal">true</span>;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">if</span>(T[s + i] != P[i]) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; found = <span class="literal">false</span>;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">break</span>;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">if</span>(found) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å®¹æ˜“å¾—åˆ°æ—¶é—´å¤æ‚åº¦ä¸º $\Theta ((n - m + 1) m)$ï¼Œå½“ç„¶è¿™ä¹Ÿè¿œè¿œä¸æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æœ€ä¼˜æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ²¡æœ‰åˆ©ç”¨å‰é¢æ¯”è¾ƒè¿‡çš„æœ‰ç”¨çš„ä¿¡æ¯ã€‚</p>
<h2 id="Rabin-Karp-ç®—æ³•"><a href="#Rabin-Karp-ç®—æ³•" class="headerlink" title="Rabin-Karp ç®—æ³•"></a>Rabin-Karp ç®—æ³•</h2><p>åœ¨ä»‹ç»è‘—åçš„ kmp ç®—æ³•å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ Rabin-Karp ç®—æ³•ã€‚<br>Rabin å’Œ Karp æå‡ºäº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œå®ƒåœ¨å®è·µä¸­è¡¨ç°è‰¯å¥½ï¼Œä¹Ÿå¯ä»¥æ¨å¹¿åˆ°å…¶ä»–ç›¸å…³é—®é¢˜çš„ç®—æ³•ï¼Œå¦‚äºŒç»´æ¨¡å¼åŒ¹é…ã€‚Rabin-Karp ç®—æ³•ä½¿ç”¨ $\Theta (m)$ é¢„å¤„ç†æ—¶é—´ï¼Œå…¶æœ€åæƒ…å†µä¸‹çš„è¿è¡Œæ—¶é—´ä¸º $\Theta ((n - m + 1) m)$ï¼Œæ²¡é”™ï¼Œå’Œæœ´ç´ ç®—æ³•ä¸€æ ·ï¼Œç„¶è€Œï¼ŒåŸºäºæŸäº›å‡è®¾ï¼Œå®ƒçš„å¹³å‡æƒ…å†µè¿è¡Œæ—¶é—´æ›´å¥½ã€‚</p>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ªä»¥åŸºæ•° d è¡¨ç¤ºçš„æ•°å­—ï¼Œå› æ­¤å®ƒæœ‰ d ä¸ªæ•°å€¼åœ¨èŒƒå›´ä¸º 0 åˆ° d - 1ï¼Œï¼Œå…¶ä¸­ $d=|\Sigma|$ï¼Œç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é•¿åº¦ä¸º &nbsp;ğ‘˜&nbsp; çš„ &nbsp;ğ‘‘&nbsp; è¿›åˆ¶æ•°æ¥è¡¨ç¤ºç”± &nbsp;ğ‘˜&nbsp; ä¸ªè¿ç»­çš„å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ã€‚ä¸ºäº†ç®€å•è¯´æ˜ï¼Œè®©æˆ‘ä»¬å‡è®¾ $\Sigma={0,1,2,â€¦,9}$ï¼Œä¾‹å¦‚ï¼Œç”± 5 ä¸ªè¿ç»­çš„å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸² 31415ï¼Œå¯ä»¥ç”¨é•¿åº¦ä¸º 5 çš„åè¿›åˆ¶æ•° 31,415 æ¥è¡¨ç¤º (ä¸ºäº†åŒºåˆ†å­—ç¬¦ä¸²å’Œæ•°å­—ï¼Œåœ¨è¿™é‡Œæ•°å­—é‡‡ç”¨é€—å·ä½œä¸ºåƒä½åˆ†éš”ç¬¦)ã€‚å› ä¸ºæˆ‘ä»¬å°†è¾“å…¥å­—ç¬¦åŒæ—¶è§£é‡Šä¸ºå›¾å½¢ç¬¦å·å’Œæ•°å­—ï¼Œæ‰€ä»¥åœ¨æœ¬èŠ‚ä¸­å¯ä»¥æ–¹ä¾¿åœ°å°†å®ƒä»¬è¡¨ç¤ºä¸ºæ•°å­—ã€‚</p>
<p>ç»™å®šæ¨¡å¼ $ğ‘ƒ[1:ğ‘š]$ï¼Œè®¾å…¶å¯¹åº”çš„åè¿›åˆ¶æ•°ä¸º &nbsp;ğ‘&nbsp;ã€‚ç»™å®šæ–‡æœ¬ $ğ‘‡[1:ğ‘›]$ï¼Œè®¾å…¶å­å­—ç¬¦ä¸² $ğ‘‡[ğ‘ +1:ğ‘ +ğ‘š]$ å¯¹åº”çš„åè¿›åˆ¶æ•°ä¸º $ğ‘¡_ğ‘ (s = 0,1,â€¦,n-m)$ã€‚å½“ä¸”ä»…å½“ $ğ‘‡[ğ‘ +1:ğ‘ +ğ‘š]=ğ‘ƒ[1:ğ‘š]$ æ—¶ï¼Œæœ‰ $t_s=p$ï¼Œæ­¤æ—¶çš„ s ä¸ºä¸€ä¸ªæœ‰æ•ˆåç§»ã€‚</p>
<p>é‚£ä¹ˆ p æ€ä¹ˆæ±‚å‘¢ï¼Ÿå¯ä»¥å…ˆä»æˆ‘ä»¬ç†ŸçŸ¥çš„äºŒè¿›åˆ¶æ•°å…¥æ‰‹ï¼Œå°±æ˜¯ $\Sigma={0,1}$ çš„æƒ…å†µï¼Œé‚£ä¹ˆå­—ç¬¦ä¸² 100101 å¯¹åº”çš„äºŒè¿›åˆ¶æ•°å³ä¸º 37ï¼Œç›¸ä¿¡æ€ä¹ˆè®¡ç®—å·²ç„¶ç†Ÿæ‚‰ï¼Œä½†æˆ‘ä»¬è¦è®¾è®¡å°½å¯èƒ½å¿«çš„ç®—æ³•æ¥è®¡ç®—ï¼Œè¿™é‡Œä½¿ç”¨éœçº³è§„åˆ™ (Hornerâ€™s rule)ï¼š</p>
<p>$$<br>ğ‘=ğ‘ƒ[ğ‘š]+ğ‘‘(ğ‘ƒ[ğ‘šâˆ’1]+ğ‘‘(ğ‘ƒ[ğ‘šâˆ’2]+â‹¯+ğ‘‘(ğ‘ƒ[2]+ğ‘‘ğ‘ƒ[1])â‹¯))<br>$$</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">double</span> <span class="title">hornerRule</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">double</span>&gt;&amp; coefficients, <span class="type">double</span> x)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; <span class="type">double</span> result = <span class="number">0.0</span>;</span><br><span class="line">&nbsp; &nbsp; <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; coefficients.<span class="built_in">size</span>(); ++i) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; result = result * x + coefficients[i];</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; <span class="keyword">return</span> result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·å°±å¯ä»¥åœ¨ $\Theta (m)$ å†…æ±‚å‡º pï¼Œæ±‚ $t_0$ åŒç†ï¼Œä½†åé¢çš„ $t_s$ å°±ä¸å†ç”¨è¿™ç§æ±‚æ³•äº†ï¼Œè¿˜æ˜¯æœ‰ç‚¹æ…¢ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ‰¾å‡º $t_{s+1} å’Œ t_s$ ä¹‹é—´çš„å…³ç³»ï¼š<br>$t_s=T[ğ‘š+s]+ğ‘‘(T[ğ‘š+sâˆ’1]+ğ‘‘(T[ğ‘š+sâˆ’2]+â‹¯+ğ‘‘(T[s+2]+ğ‘‘T[s+1])â‹¯))$<br>$t_{s+1}=T[ğ‘š+s+1]+ğ‘‘(T[ğ‘š+s]+ğ‘‘(T[ğ‘š+sâˆ’1]+â‹¯+ğ‘‘(T[s+3]+ğ‘‘T[s+2])â‹¯))$<br>è§‚å¯Ÿç›¸åŒçš„å¼å­å¹¶è¿›è¡Œè¿›ä¸€æ­¥é…å‡‘ï¼š<br>$dt_s=d(T[ğ‘š+s]+ğ‘‘(T[ğ‘š+sâˆ’1]+ğ‘‘(T[ğ‘š+sâˆ’2]+â‹¯+ğ‘‘(T[s+2]+ğ‘‘T[s+1])â‹¯))$<br>$dt_s-d^mT[s+1]=d(T[ğ‘š+s]+ğ‘‘(T[ğ‘š+sâˆ’1]+ğ‘‘(T[ğ‘š+sâˆ’2]+â‹¯+ğ‘‘(T[s+2])â‹¯))$<br>å› æ­¤æœ‰ï¼š<br>$t_{s+1}=T[m+s+1]+d(t_s-d^{m-1}T[s+1])$</p>
<p>å®¹æ˜“å¾—åˆ° $d^{m-1}$ æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é¢„å…ˆè®¡ç®—å®ƒï¼Œå¦‚æœç”¨ç®€å•å¾ªç¯çš„è¯æ—¶é—´ä¸º $O (m)$ï¼Œè€Œç”¨<a href="https://oi-wiki.org/math/binary-exponentiation/">å¿«é€Ÿå¹‚ç®—æ³•</a>çš„æ—¶é—´æ˜¯ $O (logm)$ã€‚è¿™æ ·ä¸€æ¥ï¼Œæ‰§è¡Œä¸€æ¬¡ $t_{s+1} å’Œ t_s$ çš„ç­‰å¼åªéœ€è¦ $\Theta (1)$ æ—¶é—´ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ±‚å‡º $t_0$ ååœ¨ $\Theta (n-m)$ æ—¶é—´å†…ä¾æ¬¡æ±‚å‡º $t_1,â€¦,t_{n-m}$ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ $\Theta (m)$ çš„é¢„å¤„ç†æ—¶é—´å’Œ $\Theta (n-m+1)$ çš„åŒ¹é…æ—¶é—´å†…æ‰¾å‡ºæ¨¡å¼ $ğ‘ƒ[1:ğ‘š]$ åœ¨æ–‡æœ¬ $ğ‘‡[1:ğ‘›]$ ä¸­çš„æ‰€æœ‰å‡ºç°çš„ä½ç½®ã€‚</p>
<p>å½“ &nbsp;ğ‘ƒ&nbsp; è¶³å¤ŸçŸ­ä¸” $\Sigma$ è¶³å¤Ÿå°æ—¶ï¼Œå¯¹ p å’Œ $t_s$ çš„ç®—æœ¯è¿ç®—åªéœ€è¦å¸¸æ•°æ—¶é—´ï¼Œè¿™ä¸ªæ–¹æ¡ˆæ•ˆæœå¾ˆå¥½ã€‚ä½†å¦‚æœ &nbsp;ğ‘ƒ&nbsp; å¾ˆé•¿ï¼Œæˆ–è€… $\Sigma$ å¾ˆå¤§å¯¼è‡´è½¬åŒ–ä¸ºæ•°å­—çš„åŸºæ•° d å¾ˆå¤§ï¼Œé‚£ä¹ˆå°±æ— æ³•åœ¨å¸¸æ•°æ—¶é—´å†…è®¡ç®—å‡º &nbsp;ğ‘&nbsp; æˆ– $ğ‘¡_ğ‘ $ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥è§£å†³ã€‚<br><img src="https://telegraph-image-eja.pages.dev/file/aa3fb3c206ce349a6dfb2.png" alt="image"><br>å¦‚å›¾ï¼Œå¯ä»¥é€šè¿‡é€‰å–åˆé€‚çš„æ¨¡ q æ¥è§£å†³ï¼Œä½¿å¾— &nbsp;ğ‘‘ğ‘&nbsp; åœ¨ä¸€ä¸ªè®¡ç®—å­—é•¿å†…ï¼Œæ»¡è¶³è¿›è¡Œå•ç²¾åº¦è®¡ç®—çš„æ¡ä»¶ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä¸€ä¸ªå½¢å¼ç®€å•çš„ç´ æ•°ï¼Œæ¯”å¦‚å½¢å¦‚ $2^kâˆ’1$(è´¹é©¬ç´ æ•°) æˆ–è€… $2^k +1$(æ¢…æ£®ç´ æ•°) çš„æ•°ï¼Œå› ä¸ºè¿™æ ·çš„æ•°åœ¨äºŒè¿›åˆ¶è®¡ç®—æœºä¸­å¯ä»¥é€šè¿‡ä½ç§»æ“ä½œå’ŒåŠ æ³•å¿«é€Ÿè¿›è¡Œæ¨¡è¿ç®—ã€‚</p>
<p>æ‰€ä»¥ç­‰å¼ç›¸åº”åœ°å˜ä¸ºï¼š<br>$t_{s+1}=(T [m+s+1]+d (t_s-T [s+1] h))$ mod qï¼Œå…¶ä¸­ $h=d^{m-1}$ mod q<br>ä¸ºäº†å¥½çœ‹ c å›¾ï¼Œæ”¹ä¸€ä¸‹ä½ç½®ï¼š<br>$t_{s+1}=((t_s-T[s+1]h)d+T[m+s+1])$ mod q</p>
<p>ä½†æ˜¯æ¨¡ &nbsp;ğ‘&nbsp; åçš„ç»“æœå¹¶ä¸å®Œç¾ï¼Œå› ä¸º $ğ‘¡_ğ‘ =ğ‘$ (mod ğ‘) å¹¶ä¸æ„å‘³ç€ $ğ‘¡_ğ‘ =ğ‘$ï¼Œå®ƒåªæ˜¯å¿…è¦æ¡ä»¶ï¼Œå› æ­¤ï¼Œè‹¥ $ğ‘¡_ğ‘ â‰ ğ‘$ (mod ğ‘)ï¼Œåˆ™ $ğ‘¡_ğ‘ â‰ ğ‘$ è‚¯å®šæˆç«‹ã€‚å› æ­¤å¯ä»¥æŠŠæµ‹è¯• $ğ‘¡_ğ‘ =ğ‘$ (mod ğ‘) æ˜¯å¦æˆç«‹ä½œä¸ºä¸€ç§å¿«é€Ÿçš„æ–¹æ³•æ¥æ’é™¤æ— æ•ˆåç§» &nbsp;ğ‘ &nbsp;ã€‚å½“ $ğ‘¡_ğ‘ =ğ‘$ (mod ğ‘) æˆç«‹æ—¶ï¼Œç§°ä¸ºä¸€ä¸ªå‘½ä¸­ (hit)ï¼Œç„¶åæˆ‘ä»¬è¿˜éœ€è¦è¿›ä¸€æ­¥æµ‹è¯•æ­¤æ—¶ $ğ‘¡_ğ‘ =ğ‘$ æ˜¯å¦æˆç«‹ï¼Œå³æ£€æŸ¥ $ğ‘ƒ[1:ğ‘š]=ğ‘‡[ğ‘ +1:ğ‘ +ğ‘š]$ æ˜¯å¦æˆç«‹ã€‚è‹¥ $ğ‘¡_ğ‘ =ğ‘$ï¼Œåˆ™ &nbsp;ğ‘ &nbsp; æ˜¯ä¸€ä¸ªæœ‰æ•ˆåç§»ï¼Œè‹¥ $ğ‘¡_ğ‘ â‰ ğ‘$ï¼Œåˆ™æ˜¯ä¸€ä¸ªå‡å‘½ä¸­ (spurious hit)ã€‚è‹¥ &nbsp;ğ‘&nbsp; è¶³å¤Ÿå¤§ï¼Œåˆ™å‡ºç°å‡å‘½ä¸­çš„æœŸæœ›æ¬¡æ•°ä¼šæ›´å°‘ï¼Œä»è€Œé™ä½é¢å¤–æ£€æŸ¥çš„ä»£ä»·ã€‚</p>
<p>ä¸‹é¢ç»™å‡ºä¼ªä»£ç ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/00850934615eb00424f2a.png" alt="image"><br>t çš„ä¸‹æ ‡ä»…ä»…æ˜¯ä¸ºäº†é€»è¾‘æ¸…æ™°ï¼Œå»æ‰ä¸‹æ ‡ä¹Ÿèƒ½æ­£ç¡®è¿è¡Œã€‚<br>æœ€åæƒ…å†µä¸‹çš„åŒ¹é…æ—¶é—´æ˜¯ $\Theta ((n-m+1) m)$ï¼Œå› ä¸ºå¦‚æœ $P=a^m,T=a^n$ï¼Œè¿™æ ·æ¯ä¸ªåç§»éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œå°±éƒ½å¾—æ£€æŸ¥ä¸€éã€‚<br>æ‰€ä»¥ä¸ºä»€ä¹ˆè¯´è¯¥ç®—æ³•åœ¨å®è·µä¸­è¡¨ç°è‰¯å¥½å‘¢ï¼Ÿ<br>åœ¨è®¸å¤šåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›å°‘ä¸€äº›æœ‰æ•ˆåç§»ï¼Œæ¯”å¦‚åªæœ‰å¸¸æ•° &nbsp;ğ‘&nbsp; ä¸ªã€‚åœ¨è¿™æ ·çš„åº”ç”¨ä¸­ï¼ŒåŠ ä¸Šå¤„ç†å‡å‘½ä¸­æ‰€éœ€æ—¶é—´ï¼Œè¯¥ç®—æ³•çš„æœŸæœ›åŒ¹é…æ—¶é—´ä¸º $ğ‘‚((ğ‘›âˆ’ğ‘š+1)+ğ‘ğ‘š)=ğ‘‚(ğ‘›+ğ‘š)$ï¼Œåˆå› ä¸º $m\le n$ï¼Œåˆ™æœŸæœ›åŒ¹é…æ—¶é—´ä¸º $O (n)$ã€‚</p>
<h2 id="ç”¨æœ‰é™è‡ªåŠ¨æœºè¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…-String-matching-with-finite-automata"><a href="#ç”¨æœ‰é™è‡ªåŠ¨æœºè¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…-String-matching-with-finite-automata" class="headerlink" title="ç”¨æœ‰é™è‡ªåŠ¨æœºè¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…(String matching with finite automata)"></a>ç”¨æœ‰é™è‡ªåŠ¨æœºè¿›è¡Œå­—ç¬¦ä¸²åŒ¹é… (String matching with finite automata)</h2><h3 id="æœ‰é™è‡ªåŠ¨æœº-Finite-automata"><a href="#æœ‰é™è‡ªåŠ¨æœº-Finite-automata" class="headerlink" title="æœ‰é™è‡ªåŠ¨æœº(Finite automata)"></a>æœ‰é™è‡ªåŠ¨æœº (Finite automata)</h3><p>ä¸€ä¸ªæœ‰é™è‡ªåŠ¨æœº &nbsp;ğ‘€&nbsp; æ˜¯ä¸€ä¸ª 5 å…ƒç»„ $(ğ‘„,ğ‘_0,ğ´,\Sigma,\delta)$ï¼š</p>
<ul>
<li>Q æ˜¯ä¸€ä¸ªæœ‰é™çŠ¶æ€é›†ã€‚</li>
<li>$ğ‘_0\in ğ‘„$ æ˜¯èµ·å§‹çŠ¶æ€ã€‚</li>
<li>$ğ´âŠ†ğ‘„$ æ˜¯ä¸€ä¸ªæ¥å—çŠ¶æ€é›†ã€‚</li>
<li>$\Sigma$ æ˜¯ä¸€ä¸ªæœ‰é™è¾“å…¥å­—æ¯è¡¨ã€‚</li>
<li>$\delta$ æ˜¯ä¸€ä¸ªä» $ğ‘„\times \Sigma$ åˆ° &nbsp;ğ‘„&nbsp; çš„å‡½æ•°ï¼Œç§°ä¸º &nbsp;ğ‘€&nbsp; çš„è½¬ç§»å‡½æ•°ã€‚<br><img src="https://telegraph-image-eja.pages.dev/file/a6d4558c65809f64f66c7.png" alt="image"><br>è¯´å®è¯æˆ‘ç¬¬ä¸€çœ¼çœ‹åˆ°è¿™å›¾å°±æƒ³åˆ°äº†æ•°å­—é€»è¾‘ç”µè·¯é‡Œé¢çš„çŠ¶æ€è½¬åŒ–è¡¨å’ŒçŠ¶æ€è½¬åŒ–å›¾</li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>å­—ç¬¦ä¸²</tag>
        <tag>KMP</tag>
        <tag>æ¨¡å¼åŒ¹é…</tag>
      </tags>
  </entry>
  <entry>
    <title>Minimum Spanning Trees</title>
    <url>/2024/04/25/Minimum%20Spanning%20Trees/</url>
    <content><![CDATA[<h1 id="Minimum-Spanning-Trees"><a href="#Minimum-Spanning-Trees" class="headerlink" title="Minimum Spanning Trees"></a>Minimum Spanning Trees</h1><p>å¯¹äºæ— å‘å›¾ $ğº=(ğ‘‰,ğ¸)$ï¼Œå­˜åœ¨ä¸€ä¸ªèƒ½å¤Ÿè¿æ¥æ‰€æœ‰é¡¶ç‚¹çš„æ— ç¯å­é›† $ğ‘‡âŠ†ğ¸$ï¼Œç”±äº &nbsp;ğ‘‡&nbsp; æ— ç¯ä¸”è¿æ¥æ‰€æœ‰é¡¶ç‚¹ï¼Œå› æ­¤ &nbsp;ğ‘‡&nbsp; ä¸€å®šä¸ºä¸€æ£µæ ‘ (æ ‘æ˜¯ç‰¹æ®Šçš„å›¾ï¼Œä¸ºæ— ç¯è¿é€šå›¾)ï¼Œè¢«ç§°ä¸ºç”Ÿæˆæ ‘ (spanning tree)ã€‚æ— å‘å›¾ $ğº=(ğ‘‰,ğ¸)$ çš„æ‰€æœ‰ç”Ÿæˆæ ‘éƒ½æ°æœ‰ $|ğ‘‰|âˆ’1$ æ¡è¾¹ã€‚</p>
<p>è®¾è¾¹ $(ğ‘¢,ğ‘£)âˆˆğ¸$ çš„æƒé‡ä¸º $ğ‘¤(ğ‘¢,ğ‘£)$ï¼Œç”Ÿæˆæ ‘æƒé‡ä¸º $ğ‘¤(ğ‘‡) = \sum_{(ğ‘¢,ğ‘£)âˆˆğ‘‡} ğ‘¤(ğ‘¢,ğ‘£)$ï¼Œæ‰€æœ‰ç”Ÿæˆæ ‘ä¸­æƒé‡æœ€å°çš„ç”Ÿæˆæ ‘è¢«ç§°ä¸ºæœ€å°æƒé‡ç”Ÿæˆæ ‘ (minimum-weight spanning tree)ï¼Œç®€ç§°æœ€å°ç”Ÿæˆæ ‘ (minimum spanning tree)ã€‚</p>
<h2 id="Growing-a-minimum-spanning-tree"><a href="#Growing-a-minimum-spanning-tree" class="headerlink" title="Growing a minimum spanning tree"></a>Growing a minimum spanning tree</h2><p>æœ€å°ç”Ÿæˆæ ‘é—®é¢˜çš„è¾“å…¥ä¸ºä¸€ä¸ªæ— å‘è¿é€šå›¾ &nbsp;$ğº=(ğ‘‰,ğ¸)$, ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>$GENERIC-MST(G, w)$<br>1 $A = \not 0$<br>2 while A does not form a spanning tree<br>3 find an edge (u, v) that is safe for A<br>4 $A = A \cup {(u, v)}$<br>5 return A</p>
</blockquote>
<p>èƒ½å¤Ÿè¢«åŠ å…¥ &nbsp;ğ´&nbsp; çš„è¾¹ &nbsp;(ğ‘¢,ğ‘£)&nbsp; è¢«ç§°ä¸º &nbsp;ğ´&nbsp; çš„å®‰å…¨è¾¹ (safe edge)ã€‚é€šè¿‡ &nbsp;ğ´&nbsp; ç»´æŒäº†å¾ªç¯ä¸å˜é‡å¯è¯æ˜è¿‡ç¨‹ &nbsp;GENERIC-MST&nbsp; çš„æ­£ç¡®æ€§ã€‚åœ¨è®¨è®ºå¦‚ä½•è¯†åˆ«å®‰å…¨è¾¹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›å®šä¹‰ã€‚<br><img src="https://telegraph-image-eja.pages.dev/file/d85f5a52655f0d41a977d.png" alt="image"></p>
<ul>
<li>$cut$ï¼šæ— å‘å›¾ $ğº=(ğ‘‰,ğ¸)$ çš„ä¸€ä¸ªåˆ‡å‰² (cut)&nbsp;$(ğ‘†,ğ‘‰âˆ’ğ‘†)$ æ˜¯å¯¹é¡¶ç‚¹ ğ‘‰ çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œåˆ†æˆä¸¤ä¸ªåŒºåŸŸ</li>
<li> $cross$ï¼šè‹¥è¾¹ $(ğ‘¢,ğ‘£)âˆˆğ¸$ çš„ä¸€ä¸ªç«¯ç‚¹å±äº &nbsp;ğ‘†&nbsp;ï¼Œå¦ä¸€ä¸ªç«¯ç‚¹å±äº ğ‘‰âˆ’ğ‘†&nbsp;ï¼Œåˆ™ç§°è¾¹ (ğ‘¢,ğ‘£)&nbsp; æ¨ªè·¨ (cross) cut (ğ‘†,ğ‘‰âˆ’ğ‘†)ï¼Œçœ‹å›¾çš„è¯å°±æ˜¯è·Ÿçº¢è‰²åˆ†å‰²çº¿ç›¸äº¤çš„è¾¹éƒ½æ˜¯ cross çš„è¾¹</li>
<li> $respect$ï¼šè‹¥é›†åˆ &nbsp;ğ´&nbsp; ä¸­ä¸å­˜åœ¨æ¨ªè·¨åˆ‡å‰² &nbsp;(ğ‘†,ğ‘‰âˆ’ğ‘†)&nbsp; çš„è¾¹ï¼Œåˆ™ç§°è¯¥åˆ‡å‰²ä¸å½±å“ (respect)&nbsp;ğ´</li>
<li>$light\ edge$ï¼šæƒé‡æœ€å°çš„ cross è¾¹å³æ˜¯è½»é‡è¾¹ (light edge)<br>åŸæ–‡å¦‚ä¸‹ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/1833dbc2edcac6e9a8fb9.png" alt="image"><br>å½“ç„¶æœ€å¥½è¿˜å¾—çŸ¥é“æ ‘çš„æ€§è´¨ï¼šæ·»åŠ ä¸€æ¡è¾¹å°±ä¼šæ„æˆç¯ï¼Œåˆ é™¤ä¸€æ¡è¾¹å°±ä¼šåˆ†è£‚æˆä¸¤æ£µæ ‘ã€‚</li>
</ul>
<h3 id="Theorem"><a href="#Theorem" class="headerlink" title="Theorem"></a>Theorem</h3><blockquote>
<p>è®¾ &nbsp;ğº=(ğ‘‰, ğ¸)&nbsp; ä¸ºä¸€ä¸ªæ— å‘è¿é€šå›¾ï¼Œå…¶æƒé‡å‡½æ•°ä¸º &nbsp;ğ‘¤: $ğ¸\toğ‘…$&nbsp;ï¼Œè®¾ &nbsp;ğ´âŠ†ğ¸&nbsp;ï¼Œä¸” &nbsp;ğ´&nbsp; åŒ…å«äº &nbsp;ğº&nbsp; çš„ä¸€æ£µæœ€å°ç”Ÿæˆæ ‘ä¸­ã€‚è®¾ &nbsp;(ğ‘†, ğ‘‰âˆ’ğ‘†)&nbsp; ä¸º &nbsp;ğº&nbsp; ä¸­ä¸å½±å“ &nbsp;ğ´&nbsp; çš„ä»»æ„ä¸€ä¸ªåˆ‡å‰²ï¼Œè‹¥ &nbsp;(ğ‘¢, ğ‘£)&nbsp; ä¸ºæ¨ªè·¨ &nbsp;(ğ‘†, ğ‘‰âˆ’ğ‘†)&nbsp; çš„ä¸€æ¡è½»é‡è¾¹ï¼Œåˆ™å¯¹äº &nbsp;ğ´&nbsp;ï¼Œ(ğ‘¢, ğ‘£)&nbsp; æ˜¯å®‰å…¨çš„ã€‚</p>
</blockquote>
<p><img src="https://telegraph-image-eja.pages.dev/file/bd123ede0b571e7df22aa.png" alt="image"></p>
<p>// å›¾ä¸­æ©™è‰²é¡¶ç‚¹å±äº Sï¼Œå…¶å®ƒé¡¶ç‚¹å±äº V-Sï¼Œè“è‰²è¾¹å°±æ˜¯ A ä¸­çš„è¾¹</p>
<p>è¯æ˜å¦‚ä¸‹ï¼š</p>
<ul>
<li>é¦–å…ˆå‡è®¾ T æ˜¯åŒ…å« A çš„æœ€å°ç”Ÿæˆæ ‘ï¼Œå¹¶å‡è®¾ T ä¸åŒ…å«è½»é‡è¾¹ (u, v)ï¼Œå› ä¸ºå¦‚æœåŒ…å«äº†ï¼Œæˆ‘ä»¬å°±ä¸ç”¨è¯äº†ã€‚æ¥ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡æ„é€ å¦ä¸€æ£µæœ€å°ç”Ÿæˆæ ‘ Tâ€™ï¼Œå…¶ä¸­ $A \cup {(u, v)} âŠ† Tâ€™$, ä»è€Œè¡¨æ˜ï¼Œè¾¹ &nbsp;(ğ‘¢, ğ‘£)&nbsp; å¯¹äº &nbsp;ğ´&nbsp; æ˜¯å®‰å…¨çš„ã€‚</li>
<li>ç”±å›¾å¯çŸ¥è¾¹ (u, v) ä¸ $u \to v$ çš„ç®€å•è·¯å¾„æ„æˆç¯è·¯ã€‚å› ä¸º u, v åœ¨ cut (ğ‘†, ğ‘‰âˆ’ğ‘†) ä¸‹åˆ†å±ä¸¤è¾¹ï¼Œå› æ­¤ &nbsp;ğ‘‡&nbsp; ä¸­è‡³å°‘æœ‰ä¸€æ¡è¾¹å±äºç®€å•è·¯å¾„ &nbsp;ğ‘&nbsp; å¹¶ä¸”æ¨ªè·¨è¯¥åˆ‡å‰²ï¼Œè®¾ &nbsp;(ğ‘¥, ğ‘¦)&nbsp; ä¸ºè¿™æ ·ä¸€æ¡è¾¹ã€‚å› ä¸ºåˆ‡å‰² &nbsp;(ğ‘†, ğ‘‰âˆ’ğ‘†)&nbsp; ä¸å½±å“ ğ´&nbsp;ï¼Œæ‰€ä»¥ &nbsp;(ğ‘¥, ğ‘¦) âˆ‰ ğ´ã€‚åˆå› ä¸ºè¾¹ &nbsp;(ğ‘¥, ğ‘¦)&nbsp; ä½äº &nbsp;ğ‘‡&nbsp; ä¸­ä» &nbsp;ğ‘¢&nbsp; åˆ° &nbsp;ğ‘£&nbsp; çš„å”¯ä¸€çš„ç®€å•è·¯å¾„ä¸Šï¼Œæ‰€ä»¥ç§»é™¤ &nbsp;(ğ‘¥, ğ‘¦)&nbsp; ä¼šå¯¼è‡´ &nbsp;ğ‘‡&nbsp; åˆ†è£‚æˆä¸¤éƒ¨åˆ†ã€‚æ­¤æ—¶æ·»åŠ  &nbsp;(ğ‘¢, ğ‘£)&nbsp; å°†è¿™ä¸¤éƒ¨åˆ†é‡æ–°è¿æ¥æˆä¸€æ£µæ–°çš„ç”Ÿæˆæ ‘ ï¼šğ‘‡â€²=(ğ‘‡âˆ’{(ğ‘¥,ğ‘¦)})âˆª{(ğ‘¢,ğ‘£)}&nbsp;ã€‚</li>
<li>æˆ‘ä»¬æ¥ä¸‹æ¥è¦è¯æ˜ Tâ€™æ˜¯æœ€å°ç”Ÿæˆæ ‘ã€‚ç”±äº &nbsp;(ğ‘¢, ğ‘£)&nbsp; ä¸ºæ¨ªè·¨ &nbsp;(ğ‘†, ğ‘‰âˆ’ğ‘†)&nbsp; çš„ä¸€æ¡è½»é‡è¾¹ä¸” &nbsp;(ğ‘¥, ğ‘¦)&nbsp; ä¸ºæ¨ªè·¨ &nbsp;(ğ‘†, ğ‘‰âˆ’ğ‘†)&nbsp; çš„ä¸€æ¡è¾¹ï¼Œå³ &nbsp;ğ‘¤(ğ‘¢, ğ‘£)â‰¤ğ‘¤(ğ‘¥, ğ‘¦)&nbsp;ï¼Œå› æ­¤ï¼š<br>$w(Tâ€™) = w(T) - w(x, y) + w(u, v)$<br>$\leq w(T)$<br>ä½†æ˜¯ &nbsp;ğ‘‡&nbsp; ä¸ºä¸€æ£µæœ€å°ç”Ÿæˆæ ‘ï¼Œæœ‰ &nbsp;ğ‘¤(ğ‘‡)â‰¤ğ‘¤(ğ‘‡â€²)&nbsp;ã€‚å› æ­¤ï¼Œæœ‰ &nbsp;ğ‘¤(ğ‘‡) = ğ‘¤(ğ‘‡â€²)&nbsp;ï¼Œæ‰€ä»¥ &nbsp;ğ‘‡â€²&nbsp; ä¹Ÿæ˜¯ä¸€æ£µæœ€å°ç”Ÿæˆæ ‘ã€‚</li>
<li>æœ€åï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¯´æ˜è¾¹ &nbsp;(ğ‘¢, ğ‘£)&nbsp; å¯¹äº &nbsp;ğ´&nbsp; æ˜¯å®‰å…¨çš„ã€‚å› ä¸º &nbsp;ğ´âŠ†ğ‘‡&nbsp; ä¸” &nbsp;(ğ‘¥, ğ‘¦)âˆ‰ğ´&nbsp;ï¼Œæ‰€ä»¥ &nbsp;ğ´âŠ†ğ‘‡â€²&nbsp;ï¼Œæ‰€ä»¥ &nbsp;(ğ´âˆª{(ğ‘¢,ğ‘£)})âŠ†ğ‘‡â€²&nbsp;ã€‚ç”±äº &nbsp;ğ‘‡â€²&nbsp; æ˜¯ä¸€æ£µæœ€å°ç”Ÿæˆæ ‘ï¼Œå› æ­¤å¯¹äº &nbsp;ğ´&nbsp;ï¼Œ(ğ‘¢, ğ‘£)&nbsp; æ˜¯å®‰å…¨çš„ã€‚</li>
</ul>
<p>æ„Ÿè§‰æœ‰ç‚¹éš¾å’€åš¼çš„è¯å¯ä»¥çœ‹çœ‹ä¸‹é¢çš„å¦ä¸€ç§è¯æ˜ (ç®—æ³• 4)ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/ef60c9e50f8c87db41f0d.png" alt="image"></p>
<blockquote>
<p>åœ¨ç®—æ³•æ‰§è¡Œçš„ä»»ä½•æ—¶å€™ï¼Œå›¾ $G_A = (V, A)$ æ˜¯ä¸€ä¸ªæ£®æ—ï¼Œ$G_A$ ä¸­æ¯ä¸€ä¸ªè¿é€šåˆ†é‡éƒ½æ˜¯ä¸€æ£µæ ‘ (ä¸€äº›æ ‘å¯èƒ½åªåŒ…å«ä¸€ä¸ªé¡¶ç‚¹ï¼Œä¾‹å¦‚åœ¨ç®—æ³•å¼€å§‹æ—¶ï¼ŒA æ˜¯ç©ºçš„ï¼Œå› ä¸ºè¿˜æ²¡å¼€å§‹åŠ å…¥å®‰å…¨è¾¹ï¼Œå¹¶ä¸”æ­¤æ—¶æ£®æ—åŒ…å«äº† | V | æ£µæ ‘ï¼Œæ¯æ£µæ ‘éƒ½åªæœ‰ä¸€ä¸ªé¡¶ç‚¹)ã€‚æ­¤å¤–ï¼Œå› ä¸º $A \cup {(u, v)}$ å¿…é¡»æ˜¯æ— ç¯çš„ï¼Œå› æ­¤æ¯ä¸€æ¡å®‰å…¨è¾¹ (u, v) éƒ½è¿æ¥ç€ $G_A$ ä¸­çš„ä¸åŒåˆ†é‡ã€‚</p>
</blockquote>
<h3 id="Corollary"><a href="#Corollary" class="headerlink" title="Corollary"></a>Corollary</h3><p>è®¾ &nbsp;ğº=(ğ‘‰, ğ¸)&nbsp; ä¸ºä¸€ä¸ªæ— å‘è¿é€šå›¾ï¼Œå…¶æƒé‡å‡½æ•°ä¸º $ğ‘¤:ğ¸\toğ‘…$ï¼Œè®¾ &nbsp;ğ´âŠ†ğ¸&nbsp;ï¼Œä¸” &nbsp;ğ´&nbsp; åŒ…å«äº &nbsp;ğº&nbsp; çš„ä¸€æ£µæœ€å°ç”Ÿæˆæ ‘ä¸­ã€‚è®¾ $ğ¶=(ğ‘‰_ğ¶, ğ¸_ğ¶)$ ä¸ºæ£®æ— $ğº_ğ´=(ğ‘‰,ğ´)$ ä¸­çš„ä¸€ä¸ªè¿é€šåˆ†é‡ï¼ˆä¸€æ£µæ ‘ï¼‰ã€‚è‹¥ &nbsp;(ğ‘¢,ğ‘£)&nbsp; æ˜¯è¿æ¥ &nbsp;ğ¶&nbsp; å’Œ $ğº_ğ´$ ä¸­æŸä¸€ä¸ªå…¶å®ƒçš„è¿é€šåˆ†é‡çš„ä¸€æ¡è½»é‡è¾¹ï¼Œåˆ™å¯¹äº &nbsp;ğ´&nbsp;ï¼Œ(ğ‘¢, ğ‘£)&nbsp; æ˜¯å®‰å…¨è¾¹ã€‚</p>
<blockquote>
<p>Proofï¼š<br>åˆ‡å‰² $(V_C,V-V_C)$ ä¸å½±å“ Aï¼Œåˆå› ä¸º (u, v) æ˜¯è¯¥åˆ‡å‰²çš„è½»é‡è¾¹ï¼Œå› æ­¤ï¼Œå¯¹äº Aï¼Œ(u, v) æ˜¯å®‰å…¨çš„ã€‚</p>
</blockquote>
<h2 id="The-algorithms-of-Kruskal-and-Prim"><a href="#The-algorithms-of-Kruskal-and-Prim" class="headerlink" title="The algorithms of Kruskal and Prim"></a>The algorithms of Kruskal and Prim</h2><p>è¿™é‡Œæè¿°çš„ä¸¤ç§æœ€å°ç”Ÿæˆæ ‘ç®—æ³•è¯¦ç»†ä»‹ç»äº†ä¸Šé¢çš„é€šç”¨æ–¹æ³•ã€‚å®ƒä»¬å„è‡ªä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„è§„åˆ™æ¥ç¡®å®š $GENERIC-MST (G, w)$ çš„ç¬¬ 3 è¡Œä¸­çš„ find an edge (u, v) that is safe for Aã€‚åœ¨ Kruskal ç®—æ³•ä¸­ï¼Œé›†åˆ A æ˜¯ä¸€ä¸ªæ£®æ—ï¼Œå…¶é¡¶ç‚¹éƒ½æ˜¯ç»™å®šå›¾çš„é¡¶ç‚¹ã€‚æ·»åŠ åˆ° A ä¸­çš„å®‰å…¨è¾¹æ€»æ˜¯å›¾ä¸­è¿æ¥ä¸¤ä¸ªä¸åŒåˆ†é‡çš„æœ€ä½æƒé‡è¾¹ã€‚åœ¨ Prim ç®—æ³•ä¸­ï¼Œé›†åˆ A å½¢æˆäº†ä¸€æ£µæ ‘ï¼Œç®—æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­å§‹ç»ˆä¸ºä¸€æ£µæ ‘ã€‚æ·»åŠ åˆ° A ä¸­çš„å®‰å…¨è¾¹å§‹ç»ˆæ˜¯è¿æ¥æ ‘å’Œæ ‘ä¸­ä»¥å¤–çš„é¡¶ç‚¹çš„æœ€ä½æƒé‡è¾¹ã€‚ä¸‹é¢çš„ä»‹ç»ä¸­ï¼Œä¸¤ç§ç®—æ³•éƒ½å‡è®¾è¾“å…¥å›¾æ˜¯è¿é€šçš„ï¼Œå¹¶ç”±é‚»æ¥åˆ—è¡¨è¡¨ç¤ºã€‚</p>
<h3 id="Kruskalâ€™s-algorithm"><a href="#Kruskalâ€™s-algorithm" class="headerlink" title="Kruskalâ€™s algorithm"></a>Kruskalâ€™s algorithm</h3><p><img src="https://telegraph-image-eja.pages.dev/file/a9d9c05f942462df59992.png" alt="image"><br><img src="https://telegraph-image-eja.pages.dev/file/f2dcf3043bd0577717a43.png" alt="image"></p>
<blockquote>
<p>å¤§å®¶å¯ä»¥å…ˆé€šè¿‡ä¸Šå›¾æ„Ÿå—ä¸€ä¸‹è¯¥ç®—æ³•ï¼Œè“è‰²è¾¹å±äºæ£®æ— Aï¼Œé€è¿‡ä¸Šå›¾æˆ‘ä»¬è¿˜å¯ä»¥è§‚å¯Ÿåˆ°è¢«æ·»åŠ åˆ° A ä¸­çš„å®‰å…¨è¾¹çš„æƒé‡æ˜¯ä»å°åˆ°å¤§çš„ï¼Œæ‰€ä»¥å®¹æ˜“å‘ç° Kruskal ç®—æ³•æ˜¯è´ªå¿ƒç®—æ³•ï¼Œæ¯æ¬¡éƒ½åŠ å…¥æƒé‡æœ€å°çš„å®‰å…¨è¾¹ï¼Œä»¥æ­¤æ¥ä¿è¯æ€»æƒé‡æœ€å°ã€‚è¯¥ç®—æ³•ä»¥æŒ‰æƒé‡æ’åºçš„é¡ºåºæ¥è€ƒè™‘æ¯æ¡è¾¹ï¼Œå› æ­¤æ­£åœ¨è€ƒè™‘çš„é‚£æ¡è¾¹å·²ç»æ˜¯å½“å‰æœªåŠ å…¥ç”Ÿæˆæ ‘çš„è¾¹ä¸­çš„è½»é‡è¾¹ï¼Œåªéœ€å†åˆ¤æ–­æ˜¯å¦äº§ç”Ÿç¯è€Œå†³å®šæ˜¯å¦å°†å®ƒåŠ å…¥ Aï¼Œçº¢è‰²çš„ç®­å¤´åˆ™æŒ‡å‘åœ¨ç®—æ³•çš„æ¯ä¸€æ­¥ä¸­æ‰€è€ƒè™‘çš„è¾¹ã€‚å¦‚æœè¾¹ (u, v) è¿æ¥æ£®æ—ä¸­ä¸¤æ£µä¸åŒçš„æ ‘ (æ³¨æ„å•ä¸€çš„é¡¶ç‚¹ä¹Ÿæ˜¯æ ‘ï¼‰ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°æ£®æ—ä¸­ï¼Œä»è€Œåˆå¹¶ä¸¤æ£µæ ‘ã€‚</p>
</blockquote>
<ul>
<li>è®¾ $C_1$ å’Œ $C_2$ è¡¨ç¤ºç”± (u, v) è¿æ¥çš„ä¸¤æ£µæ ‘ã€‚å› ä¸º (u, v) å¿…é¡»æ˜¯è¿æ¥ $C_1$ å’Œå…¶ä»–æ ‘çš„è½»é‡è¾¹ï¼Œæ ¹æ®æ¨è®º (Corollary)ï¼Œ&nbsp;(ğ‘¢, ğ‘£)&nbsp; æ˜¯ $ğ¶_1$ çš„ä¸€æ¡å®‰å…¨è¾¹ã€‚<br>ä¼ªä»£ç å¦‚ä¸‹ï¼š<blockquote>
<p>// æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ¸ lgâ¡ ğ‘‰)<br>$MST-KRUSKAL(G, w)$<br>1 A = $\not 0$ // åˆå§‹åŒ–ç©ºé›†åˆ<br>2 for each vertex $v \in G.V$<br>3 MAKE-SET (v) // ä½¿ç”¨å¹¶æŸ¥é›† (disjoint-set) çš„æ•°æ®ç»“æ„æ¥ç»´æŠ¤å‡ ä¸ªä¸ç›¸äº¤çš„å…ƒç´ é›†ï¼Œ æ¯ä¸ªé›†åˆéƒ½åŒ…å«å½“å‰æ—çš„ä¸€æ£µæ ‘ä¸­çš„é¡¶ç‚¹ï¼Œåˆå§‹åŒ–å³ä¸€ä¸ªé¡¶ç‚¹ä¸€æ£µæ ‘<br>4 create a single list of the edges in G.E<br>5 sort the list of edges into monotonically increasing order by weight w<br>6 for each edge (u, v) taken from the sorted list in order<br>7 if FIND-SET (u) $\not =$ FIND-SET (v) // ç¡®å®šä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦å±äºåŒä¸€æ£µæ ‘ï¼ŒåŒä¸€æ£µæ ‘å°±ä¼š æˆç¯<br>8 $A = A \cup {(u, v)}$ // æŠŠè¾¹ (u, v) åŠ å…¥åˆ° A<br>9 UNION (u, v) // åˆå¹¶æ ‘<br>10 return A</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>ä¸Šé¢è¯´åˆ°äº†å¹¶æŸ¥é›†æ•°æ®ç»“æ„ï¼Œä¸‹é¢ç®€è¦è¯´ä¸€ä¸‹ï¼Œå·²æŒæ¡å¯è·³è¿‡ã€‚</p>
</blockquote>
<h4 id="Disjoint-set"><a href="#Disjoint-set" class="headerlink" title="Disjoint-set"></a>Disjoint-set</h4><p>é¦–å…ˆå¹¶æŸ¥é›†ç”¨æ•°ç»„æ¥å®ç°ï¼Œæ•°ç»„çš„å€¼ä»£è¡¨å…¶çˆ¶èŠ‚ç‚¹çš„ä½ç½®ï¼Œåœ¨ä¸Šé¢ä»£ç ä¸­çš„åˆå§‹åŒ–ä¸­ï¼Œä¸€ä¸ªé¡¶ç‚¹å°±æ˜¯ä¸€æ£µæ ‘ï¼Œå› æ­¤æ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œå¯ä»¥æŠŠæ‰€æœ‰é¡¶ç‚¹çš„æ•°ç»„å€¼æ ‡ä¸º - 1ã€‚<br>å¹¶æŸ¥é›†æ”¯æŒä¸¤ä¸ªæ“ä½œï¼š</p>
<ul>
<li>æŸ¥æ‰¾ (Find)ï¼šç¡®å®šæŸä¸ªå…ƒç´ å±äºå“ªä¸ªå­é›†ï¼Œå®ƒå¯ä»¥ç”¨æ¥ç¡®å®šä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªå­é›†ã€‚</li>
<li>åˆå¹¶ (Union)ï¼šå°†ä¸¤ä¸ªå­é›†åˆå¹¶æˆä¸€ä¸ªé›†åˆ<br>ä¸Šé¢ä»£ç ä¸­çš„ FIND-SET å³æ˜¯æŸ¥æ‰¾æ“ä½œï¼Œå¯¹æŸä¸ªé¡¶ç‚¹ i æŸ¥æ‰¾ï¼Œå³å¾ªç¯æŸ¥æ‰¾å½“å‰ä½ç½® i çš„çˆ¶èŠ‚ç‚¹ï¼Œç›´åˆ° arr [i] = -1 ä¸ºæ­¢ï¼Œè¿”å› iï¼Œå¦‚æœä¸¤ä¸ªé¡¶ç‚¹çš„ FIND-SET è¿”å›ç»“æœä¸€æ ·ï¼Œå³ä¸¤ä¸ªé¡¶ç‚¹å±äºåŒä¸€æ£µæ ‘ã€‚<br>åˆå¹¶æ“ä½œå³æ˜¯å…ˆåˆ†åˆ«æ‰¾åˆ° uï¼Œv çš„æ ¹èŠ‚ç‚¹ï¼Œç„¶åå°†å…¶ä¸­ä¸€ä¸ªæ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºå¦ä¸€ä¸ªé¡¶ç‚¹ã€‚è¿™æ˜¯æœ€åŸºç¡€çš„å¹¶æŸ¥é›†å®ç°ï¼Œè¦æé«˜æ•ˆç‡çš„è¯å°±è¦è¿›è¡Œè·¯å¾„å‹ç¼©å’ŒæŒ‰ç§©åˆå¹¶ã€‚</li>
<li>è·¯å¾„å‹ç¼©ï¼šåœ¨ Find è¿‡ç¨‹ä¸­åœ¨è¿”å›ä¹‹å‰ï¼Œè·¯å¾„ä¸­çš„é¡¶ç‚¹çš„çˆ¶èŠ‚ç‚¹ç›´æ¥è®¾ä¸ºæ ¹èŠ‚ç‚¹ï¼Œæ¯•ç«Ÿ Find è¿”å›çš„å°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œè¿™æœ‰åˆ©äºä¸‹ä¸€æ¬¡æŸ¥è¯¢çš„æ•ˆç‡ã€‚</li>
<li>æŒ‰ç§©åˆå¹¶ï¼šä¸Šé¢æ‰€è¯´çš„åˆå¹¶æ“ä½œæ˜¯å°†å…¶ä¸­ä¸€ä¸ªæ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºå¦ä¸€ä¸ªé¡¶ç‚¹ï¼Œè¿™æœªå…æœ‰ç‚¹éšä¾¿ã€‚æ¯”å¦‚ç°åœ¨æœ‰ä¸€æ£µç®€å•çš„æ ‘ï¼Œä¸€æ£µå¤æ‚çš„æ ‘ï¼Œé‚£ä¹ˆæ˜¯å°†ç®€å•çš„å¾€å¤æ‚çš„åˆå¹¶å¥½è¿˜æ˜¯å¤æ‚çš„å¾€ç®€å•çš„åˆå¹¶å¥½ï¼Ÿç­”æ¡ˆæ˜¯å‰è€…ï¼Œå¦‚æœæŠŠå¤æ‚çš„å¾€ç®€å•çš„åˆå¹¶ï¼Œé‚£ä¹ˆåŸæ¥åœ¨å¤æ‚æ ‘ä¸­çš„æ¯ä¸ªå…ƒç´ åˆ°æ ¹èŠ‚ç‚¹çš„è·ç¦»éƒ½å˜é•¿äº†ï¼Œå½±å“åé¢ Find çš„æ•ˆç‡ï¼›è€Œå¦‚æœæŠŠç®€å•çš„å¾€å¤æ‚çš„åˆå¹¶ï¼Œåˆ°æ ¹èŠ‚ç‚¹è·ç¦»å˜é•¿çš„èŠ‚ç‚¹ä¸ªæ•°æ¯”è¾ƒå°‘ã€‚æ‰€ä»¥å°±å¼•å…¥ç§©ï¼Œåˆå§‹æ—¶æ¯ä¸ªé¡¶ç‚¹çš„ç§©è®¾ä¸º 1ï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™ç§©ä¼šå¢åŠ å‘¢ï¼Ÿè¿™å‘ç”Ÿåœ¨åˆå¹¶æ—¶ï¼Œå¦‚æœä¸¤æ£µæ ‘æ·±åº¦ç›¸åŒï¼Œåˆ™æ–°çš„æ ¹èŠ‚ç‚¹çš„ç§© + 1ã€‚ç§©è¶Šé«˜ï¼Œæ ‘ (æˆ–å­æ ‘) å°±è¶Šå¤æ‚ã€‚</li>
</ul>
<h3 id="Primâ€™s-algorithm"><a href="#Primâ€™s-algorithm" class="headerlink" title="Primâ€™s algorithm"></a>Primâ€™s algorithm</h3><p>è·Ÿä¸Šé¢ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡è¿‡ç¨‹å›¾æ„Ÿå—ä¸€ä¸‹ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/0149f1a64ebab26f61bdd.png" alt="image"><br>// ä»ä¸Šå›¾å¯ä»¥æ˜æ˜¾æ„Ÿå—åˆ°ä¸ Kruskal ç®—æ³•ä¸ä¸€æ ·çš„æ˜¯ï¼Œè“è‰²è¾¹ä¹‹é—´éƒ½æ˜¯è¿é€šçš„ï¼Œè¿™é‡Œå°±æ­éœ²äº† Prim ç®—æ³•å…·æœ‰çš„ä¸€ä¸ªæ€§è´¨æ˜¯ &nbsp;ğ´&nbsp; ä¸­çš„è¾¹æ€»æ˜¯æ„æˆä¸€æ£µæ ‘ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å‘ç°æ·»åŠ è¾¹çš„æƒé‡æ˜¯æ²¡æœ‰åƒ Kruskal ç®—æ³•ä¸€æ ·æŒ‰æƒé‡æ’åºçš„ã€‚</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œè¿™æ£µæ ‘ä»¥ä»»æ„ä¸€ä¸ªé¡¶ç‚¹ &nbsp;ğ‘Ÿ&nbsp; ä¸ºæ ¹èŠ‚ç‚¹ï¼Œä¸æ–­ç”Ÿé•¿ç›´åˆ°åŒ…å« &nbsp;ğ‘‰&nbsp; ä¸­æ‰€æœ‰é¡¶ç‚¹ã€‚æ¯æ¬¡åŠ å…¥åˆ° &nbsp;ğ´&nbsp; ä¸­çš„å®‰å…¨è¾¹æ°¸è¿œæ˜¯ (ğ´, ğ‘‰âˆ’ğ´) åˆ‡å‰²çš„è½»é‡è¾¹ã€‚æ ¹æ® Corollaryï¼Œæ¯æ¬¡åŠ å…¥ &nbsp;ğ´&nbsp; çš„è¾¹ä¸€å®šæ˜¯å®‰å…¨è¾¹ã€‚è¯¥ç®—æ³•ä¹Ÿæ»¡è¶³è´ªå¿ƒæ€§è´¨ï¼Œå› ä¸ºåœ¨æ¯ä¸€æ­¥å®ƒå‘æ ‘æ·»åŠ çš„ä¸€æ¡è¾¹ï¼Œéƒ½ä¸ºæ ‘çš„æƒé‡è´¡çŒ®å¯èƒ½çš„æœ€å°é‡ã€‚</p>
<p>ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>$MST-PRIM(G, w, r)$<br>1 for each vertex $u \in G.V$<br>2 $u.key = \infty$ //&nbsp;u.ğ‘˜ğ‘’ğ‘¦ ä¿å­˜è¿æ¥ u å’Œæ ‘ä¸­ä»»ä¸€å…¶å®ƒèŠ‚ç‚¹çš„æ‰€æœ‰è¾¹ä¸­æœ€å°çš„è¾¹çš„æƒ é‡ï¼Œè‹¥ä¸å­˜åœ¨è¿™æ ·çš„è¾¹ï¼Œå³è®¾ä¸º $\infty$ï¼Œåˆå§‹åŒ–æ—¶éƒ½è®¾ä¸º $\infty$ã€‚<br>3 $u.\pi = NIL$ //u.ğœ‹&nbsp; ä¿å­˜ u åœ¨æ ‘ä¸­çš„çˆ¶èŠ‚ç‚¹<br>4 $r.key = 0$ // æŠŠæ ¹èŠ‚ç‚¹ r çš„ key è®¾ä¸º 0ï¼Œæ–¹ä¾¿ç¬¬ 9 è¡Œç¬¬ä¸€ä¸ªå¤„ç† r<br>5 $Q = \not 0$ // åˆ›å»ºåŸºäº &nbsp;ğ‘˜ğ‘’ğ‘¦&nbsp; å±æ€§çš„ä¼˜å…ˆé˜Ÿåˆ—<br>6 for each vertex $u \in G.V$<br>7 INSERT (Q, u)<br>8 while $Q \not = \not 0$ // åªè¦é˜Ÿåˆ—éç©º<br>9 u = EXTRACT-MIN (Q) // æŠŠ u åŠ åˆ°æ ‘ (A) ä¸­<br>10 for each vertex v in $G.Adj [u]$ // æ›´æ–° u çš„éæ ‘é‚»å±…çš„ key<br>11 if $v \in Q$ and w(u, v) &lt; v.key<br>12 $v.\pi = u$<br>13 v.key = w(u, v)<br>14 DECREASE-KEY (Q, v, w (u, v)) // è°ƒæ•´ Q ä¸­ v çš„ key å€¼</p>
</blockquote>
<p>è¯¥ç®—æ³•ä¿æŒä»¥ä¸‹ä¸‰ä¸ªå¾ªç¯ä¸å˜é‡ï¼š</p>
<ul>
<li>$ğ´={(ğ‘£, ğ‘£.ğœ‹): ğ‘£âˆˆğ‘‰âˆ’{ğ‘Ÿ}âˆ’ğ‘„}$ï¼Œ(ç®—æ³•ç»ˆæ­¢æ—¶ï¼Œ&nbsp;ğ‘„=âˆ…ï¼Œå› æ­¤ G çš„æœ€å°ç”Ÿæˆæ ‘ $ğ´={(ğ‘£, ğ‘£.ğœ‹): ğ‘£âˆˆğ‘‰âˆ’{ğ‘Ÿ}}$ã€‚)</li>
<li> å·²ç»æ”¾åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸­çš„é¡¶ç‚¹éƒ½æ˜¯ V - Q ä¸­çš„é¡¶ç‚¹ã€‚</li>
<li>å¯¹äºå›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹ vâˆˆQï¼Œå¦‚æœ $v.\pi$ ä¸ç­‰äº NILï¼Œé‚£ä¹ˆ v.key å°äºæ­£æ— ç©·å¤§ï¼Œv.key æ˜¯è¿æ¥ v åˆ°å·²ç»æ”¾ç½®åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸­çš„æŸä¸ªé¡¶ç‚¹çš„è½»é‡è¾¹ $(v,v.\pi)$ çš„æƒé‡ã€‚</li>
</ul>
<p>Prim ç®—æ³•çš„è¿è¡Œæ—¶é—´å–å†³äºæœ€å°ä¼˜å…ˆçº§é˜Ÿåˆ— Q çš„å®ç°ï¼š</p>
<ul>
<li>äºŒå‰å †ï¼šæ—¶é—´å¤æ‚åº¦ï¼š$ğ‘‚(ğ¸lgâ¡ğ‘‰)$</li>
<li> æ–æ³¢é‚£å¥‘å †ï¼šæ—¶é—´å¤æ‚åº¦ï¼š$O (E+V lg V)$</li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Graph</tag>
        <tag>ç®—æ³•</tag>
        <tag>æœ€å°ç”Ÿæˆæ ‘</tag>
        <tag>Kruskal</tag>
        <tag>Prim</tag>
        <tag>è´ªå¿ƒç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>Missing Semester Lecture 2 - Shell å·¥å…·ä¸è„šæœ¬</title>
    <url>/2023/12/18/Missing-Semester-lecture-2/</url>
    <content><![CDATA[<p><a href="https://missing.csail.mit.edu/2020/shell-tools/">missing semester lecture 2</a></p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">a=hello</span><br><span class="line">echo "$a" #prints hello</span><br><span class="line">echo '$a' #prints $a</span><br></pre></td></tr></tbody></table></figure>

<p>Strings delimited with&nbsp;<code>'</code>&nbsp;are literal strings and will not substitute variable values whereas&nbsp;<code>"</code> delimited strings will.<br>notice: <code>a=hello</code>donâ€™t allow to delimit with space, such as <code>a =hello</code>.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mcd () {</span><br><span class="line">    mkdir -p "$1"</span><br><span class="line">    cd "$1"</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Here is an example of a function that creates a directory and&nbsp;<code>cd</code>s into it when you type <code>mcd arg</code>.<br>You can also use <code>vim</code> to create a function.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">vim mcd.sh</span><br></pre></td></tr></tbody></table></figure>

<p>And then you come to a command pattern, you can type <code>i</code> to input mcd function. After you complete, you can press <code>Esc</code> to return the command pattern, you can type <code>:wq</code> to save it and quit vim. But now you can not use the mcd function.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">source mcd.sh</span><br></pre></td></tr></tbody></table></figure>

<p>Now you can call the mcd function. (If you want to know more about <code>vim</code>, just search it online.)</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mcd arg</span><br></pre></td></tr></tbody></table></figure>

<p>Bash uses a variety of special variables to refer to arguments:</p>
<ul>
<li><code>$0</code>&nbsp;- Name of the script</li>
<li><code>$1</code>&nbsp;to&nbsp;<code>$9</code>&nbsp;- Arguments to the script.&nbsp;<code>$1</code>&nbsp;is the first argument and so on.</li>
<li><code>$@</code>&nbsp;- All the arguments</li>
<li><code>$#</code>&nbsp;- Number of arguments</li>
<li><code>$?</code>&nbsp;- Return code of the previous command</li>
<li><code>$$</code>&nbsp;- Process identification number (PID) for the current script</li>
<li><code>!!</code>&nbsp;- Entire last command, including arguments. A common pattern is to execute a command only for it to fail due to missing permissions; you can quickly re-execute the command with sudo by doing&nbsp;<code>sudo !!</code></li>
<li><code>$_</code>&nbsp;- Last argument from the last command. If you are in an interactive shell, you can also quickly get this value by typing&nbsp;<code>Esc</code>&nbsp;followed by&nbsp;<code>.</code>&nbsp;or&nbsp;<code>Alt+.</code></li>
</ul>
<p>A value of 0 usually means everything went OK; anything different from 0 means an error occurred.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">false || echo "Oops, fail"</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Oops, fail</span></span><br><span class="line"></span><br><span class="line">true || echo "Will not be printed"</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"></span></span><br><span class="line">true &amp;&amp; echo "Things went well"</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Things went well</span></span><br><span class="line"></span><br><span class="line">false &amp;&amp; echo "Will not be printed"</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"></span></span><br><span class="line">true ; echo "This will always run"</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This will always run</span></span><br><span class="line"></span><br><span class="line">false ; echo "This will always run"</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This will always run</span></span><br></pre></td></tr></tbody></table></figure>

<p>Another common pattern is wanting to get the output of a command as a variable.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">foo=$(pwd)</span><br><span class="line">echo "$foo"</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cat &lt;(ls) &lt;(ls ..)</span><br></pre></td></tr></tbody></table></figure>

<p><code>&lt;( CMD )</code>&nbsp;will execute&nbsp;<code>CMD</code>&nbsp;and place the output in a temporary file and substitute the&nbsp;<code>&lt;()</code>&nbsp;with that fileâ€™s name. This is useful when commands expect values to be passed by file instead of by STDIN.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo "Starting program at $(date)" # Date will be substituted</span><br><span class="line"></span><br><span class="line">echo "Running program $0 with $# arguments with pid $$"</span><br><span class="line"></span><br><span class="line">for file in "$@"; do</span><br><span class="line">    grep foobar "$file" &gt; /dev/null 2&gt; /dev/null</span><br><span class="line">    # When pattern is not found, grep has exit status 1</span><br><span class="line">    # We redirect STDOUT and STDERR to a null register since we do not care about them</span><br><span class="line">    if [[ $? -ne 0 ]]; then</span><br><span class="line">        echo "File $file does not have any foobar, adding one"</span><br><span class="line">        echo "# foobar" &gt;&gt; "$file"</span><br><span class="line">    fi</span><br><span class="line">done</span><br></pre></td></tr></tbody></table></figure>

<p>You can also edit it by vim like mcd function.&nbsp;This example will iterate through the arguments we provide,&nbsp;<code>grep</code>&nbsp;for the string&nbsp;<code>foobar</code>, and append it to the file as a comment if itâ€™s not found.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">./example arg1 arg2 ...</span><br></pre></td></tr></tbody></table></figure>

<p>Shell globbing<br>you can use&nbsp;<code>?</code>&nbsp;and&nbsp;<code>*</code>&nbsp;to match one or any amount of characters respectively. For instance, given files&nbsp;<code>foo</code>,&nbsp;<code>foo1</code>,&nbsp;<code>foo2</code>,&nbsp;<code>foo10</code>&nbsp;and&nbsp;<code>bar</code>, the command&nbsp;<code>rm foo?</code>&nbsp;will delete&nbsp;<code>foo1</code>&nbsp;and&nbsp;<code>foo2</code>&nbsp;whereas&nbsp;<code>rm foo*</code>&nbsp;will delete all but&nbsp;<code>bar</code>.(<code>?</code> can just replace one.)<br>Other powerful usage:</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">convert image.{png,jpg}</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Will <span class="built_in">expand</span> to</span></span><br><span class="line">convert image.png image.jpg</span><br><span class="line"></span><br><span class="line">cp /path/to/project/{foo,bar,baz}.sh /newpath</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Will <span class="built_in">expand</span> to</span></span><br><span class="line">cp /path/to/project/foo.sh /path/to/project/bar.sh /path/to/project/baz.sh /newpath</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Globbing techniques can also be combined</span></span><br><span class="line">mv *{.py,.sh} folder</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Will move all *.py and *.sh files</span></span><br><span class="line"></span><br><span class="line">mkdir foo bar</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">This creates files foo/a, foo/b, ... foo/h, bar/a, bar/b, ... bar/h</span></span><br><span class="line">touch {foo,bar}/{a..h}</span><br><span class="line">touch foo/x bar/y</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Show differences between files <span class="keyword">in</span> foo and bar</span></span><br><span class="line">diff &lt;(ls foo) &lt;(ls bar)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Outputs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&lt; x</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">---</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&gt; y</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>vim script.py</code>:</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/usr/local/bin/python3</span></span><br><span class="line">import sys</span><br><span class="line">for arg in reversed(sys.argv[1:]):</span><br><span class="line">    print(arg)</span><br></pre></td></tr></tbody></table></figure>

<p>You can call it by <code>python3 script.py arg1 arg2 arg3</code>. But if we call it by <code>./script.py arg1 arg2 arg3</code>, it doesnâ€™t work. So it is good practice to write shebang lines using the&nbsp;<code>env</code> that will resolve to wherever the command lives in the system, increasing the portability of your scripts. (<code>#!/usr/bin/env python3</code>)<br>Writing&nbsp;<code>bash</code>&nbsp;scripts can be tricky and unintuitive. There are tools like&nbsp;<a href="https://github.com/koalaman/shellcheck">shellcheck</a>&nbsp;that will help you find errors in your sh/bash scripts. You can also use sudo to install it.(When you call shellcheck, the terminal will give you some tips about how to use <code>sudo</code> to install it.)</p>
<p>Finding files:</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Find all directories named src</span></span><br><span class="line">find . -name src -type d</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Find all python files that have a folder named <span class="built_in">test</span> <span class="keyword">in</span> their path</span></span><br><span class="line">find . -path '*/test/*.py' -type f</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Find all files modified <span class="keyword">in</span> the last day</span></span><br><span class="line">find . -mtime -1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Find all zip files with size <span class="keyword">in</span> range 500k to 10M</span></span><br><span class="line">find . -size +500k -size -10M -name '*.tar.gz'</span><br></pre></td></tr></tbody></table></figure>

<p>Other command(should be installed) to find:</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">fd ".*py"</span><br><span class="line">locate tmp #`locate`&nbsp;uses a database that is updated using&nbsp;`updatedb`.</span><br></pre></td></tr></tbody></table></figure>

<p>Beyond listing files, find can also perform actions over files that match your query.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Delete all files with .tmp extension</span></span><br><span class="line">find . -name '*.tmp' -exec rm {} \;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Find all PNG files and convert them to JPG</span></span><br><span class="line">find . -name '*.png' -exec convert {} {}.jpg \;</span><br></pre></td></tr></tbody></table></figure>

<p>Finding code:</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">grep -R foobar</span><br></pre></td></tr></tbody></table></figure>

<p>Many&nbsp;<code>grep</code>&nbsp;alternatives have been developed, including&nbsp;<code>ack</code>,&nbsp;<code>ag</code>and&nbsp;<code>rg</code>.&nbsp;<br>Finding shell commands:</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">history</span><br><span class="line">history | grep find</span><br></pre></td></tr></tbody></table></figure>

<p><code>fzf</code>&nbsp;is a general-purpose fuzzy finder that can be used with many commands. Here it is used to fuzzily match through your history and present results in a convenient and visually pleasing manner.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">history | fzf</span><br></pre></td></tr></tbody></table></figure>

<p>Directory Navigation:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">tree</span><br><span class="line">nnn # press `q` to quit.</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Missing Semester</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>å‘½ä»¤ç¬”è®°</tag>
        <tag>Shell</tag>
        <tag>Linux</tag>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Missing Semester Lecture 1 - Shell åŸºç¡€</title>
    <url>/2023/12/17/Missing-Semester-lecture-1/</url>
    <content><![CDATA[<p><a href="https://missing.csail.mit.edu/2020/course-shell/">missing semester lecture 1</a><br>In my first jump in missing semester â€“ lecture 1, I learned something new(like a new language for me) about shell and had a try on ubuntu terminal. If there are any errors or missing things, please forgive me, as I havenâ€™t really stepped into the Linux operating system yet.</p>
<p>During my study, there are something what I have learned as follow.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">date</span><br></pre></td></tr></tbody></table></figure>

<p>It can display current date and time.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">echo</span><br></pre></td></tr></tbody></table></figure>

<p>It can print out something you want.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">which</span><br></pre></td></tr></tbody></table></figure>

<p>It can find the system command position and return it. For example, the result of <code>which echo</code> is <code>/bin/echo</code> or <code>/usr/bin/echo</code>.So, using <code>echo</code> or using <code>/bin/echo</code> have the same effect(the next is an example).</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">echo $PATH</span><br><span class="line">/bin/echo $PATH</span><br><span class="line">/usr/bin/echo $PATH</span><br></pre></td></tr></tbody></table></figure>

<p><code>$PATH</code>&nbsp;lists which directories the shell should search for programs when it is given a command. The result of the three line above is the same.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mkdir</span><br><span class="line">touch</span><br></pre></td></tr></tbody></table></figure>

<p>The first can make a new directory in current directory.<br>The second can make a new file in current directory.(Theyâ€™re not the same.<code>touch</code>can not make a new directory.)</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">rm [file_name]</span><br><span class="line">rm -f</span><br><span class="line">rm -i</span><br><span class="line">rm -r(or R)</span><br><span class="line">rm -v</span><br></pre></td></tr></tbody></table></figure>

<p>Using <code>rm --help</code> can find the function of <code>-f</code> and etc.<br>Notice: <code>rm</code> will prompt you that the file is not exist while <code>rm -f</code> ignores whether the file is exist or not.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">rm -r [directory_name]</span><br><span class="line">rm -rf []</span><br></pre></td></tr></tbody></table></figure>

<p><code>rm [directory_name]</code> can not succeed to remove directory. The two above can both remove directory.(But the second is dangerous in some case.)</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">rmdir</span><br></pre></td></tr></tbody></table></figure>

<p>It can just remove blank directory.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></tbody></table></figure>

<p>It can display current directory.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cd</span><br><span class="line">cd ~</span><br></pre></td></tr></tbody></table></figure>

<p>They can return to current userâ€™s home directory like <code>/home/user_name</code> .</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cd -</span><br></pre></td></tr></tbody></table></figure>

<p>It will return to the last directory that you have been accessed.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cd .</span><br><span class="line">cd ..</span><br><span class="line">cd ../../</span><br></pre></td></tr></tbody></table></figure>

<p>In a path,&nbsp;<code>.</code>&nbsp;refers to the current directory, and&nbsp;<code>..</code>&nbsp;to its parent directory. And the <code>..</code> can be used for several times. (Hint: you can examine with <code>pwd</code> every time you use the <code>cd</code> .)<br>Notice: <code>cd ../../</code> must be the complete path. But when you are in a subdirectory, you donâ€™t need to type complete path if you want to back to the parent directory or the parent directory of the parent directory and etc.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">ls</span><br><span class="line">ls -l</span><br><span class="line">ls /[directory_name]</span><br><span class="line">ls -l /[directory_name]</span><br></pre></td></tr></tbody></table></figure>

<p>The first will print the contents of the current directory to see what lives in a given directory.<br>The second will print the contents of the current directory by using a long listing format, which means more detailed. The third and the fourth can print the contents of directory that you point so that you donâ€™t need to switch your current directory.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">man</span><br></pre></td></tr></tbody></table></figure>

<p>For example, <code>man ls</code> will let you read the manual page about <code>ls</code> . That is its function.<br>And it is the last line in manual page: Manual page man(1) line 1 (press h for help or q to quit).</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cat</span><br></pre></td></tr></tbody></table></figure>

<p><code>cat</code> stands for concatenate. You can also type <code>cat --help</code> to find some functions of options. For example, <code>-n</code> can number all output lines.<br><code>cat [file_name]</code> can print the whole text file.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cat &gt; file_name</span><br></pre></td></tr></tbody></table></figure>

<p>It is better than <code>touch</code> for which it can make a new file and add content to it. Whatâ€™s more, you can use <code>Ctrl + d</code> to save it.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cat file_A &gt; file_B</span><br><span class="line">cat file_A file_C &gt;file_B</span><br><span class="line">cat &lt; file_A &gt; file_B</span><br></pre></td></tr></tbody></table></figure>

<p>It will delete the file_Bâ€™s data, and copy the file_Aâ€™s content to file_B. Copy several files is ok as well.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cat file_A &gt;&gt; file_B</span><br></pre></td></tr></tbody></table></figure>

<p>When you donâ€™t want to delete file_bâ€™s content, you can use <code>&gt;&gt;</code> instead of <code>&gt;</code> .</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cat file_name | grep -v '^$'</span><br><span class="line">cat file_name1 | grep -v '^$' &gt; file_name2</span><br></pre></td></tr></tbody></table></figure>

<p>They can delete blank line in the file. The first will print the changed content. The second will not output anything. And the file_name1â€™s content keep the same as before. The changed content is saved in file_name2.</p>
<p>When it comes to pipe <code>|</code> , let me introduce detailed usage about it.</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">command1 | command2</span><br></pre></td></tr></tbody></table></figure>

<p>The output of command1 will become the input of command2.<br>For example:</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">ls | sort</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Missing Semester</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>å‘½ä»¤ç¬”è®°</tag>
        <tag>Shell</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust å…¥å‘ç¯‡</title>
    <url>/2024/09/25/Rust%20%E5%85%A5%E5%9D%91%E7%AF%87/</url>
    <content><![CDATA[<h1 id="Rust-å…¥å‘ç¯‡"><a href="#Rust-å…¥å‘ç¯‡" class="headerlink" title="Rust å…¥å‘ç¯‡"></a>Rust å…¥å‘ç¯‡</h1><p>æœ¬æ–‡ç›´æ¥å‚è€ƒè¯¥åšå®¢æ–‡ç« :<a href="https://blog.jetbrains.com/rust/2024/09/20/how-to-learn-rust/">how-to-learn-rust</a></p>
<h2 id="Understanding-Rustâ€™s-core-concepts"><a href="#Understanding-Rustâ€™s-core-concepts" class="headerlink" title="Understanding Rustâ€™s core concepts"></a>Understanding Rustâ€™s core concepts</h2><p>åˆæ­¥å°è±¡ï¼šæ—¢ä¸æ˜¯é¢å‘å¯¹è±¡è¯­è¨€ä¹Ÿä¸æ˜¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ï¼Œæ²¡æœ‰ç±»ã€‚</p>
<h3 id="Memory-management"><a href="#Memory-management" class="headerlink" title="Memory management"></a>Memory management</h3><p>åŸåˆ™ï¼š<strong>Rust ç¼–è¯‘å™¨å¿…é¡»çŸ¥é“ä»£ç ä¸­å†…å­˜åˆ†é…çš„å‡†ç¡®ä½ç½®ã€è®¿é—®å†…å­˜çš„ä½ç½®å’Œæ–¹å¼ä»¥åŠä¸å†éœ€è¦å†…å­˜çš„ä½ç½®</strong><br>å› æ­¤ç›¸è¾ƒäºè‡ªåŠ¨å›æ”¶åƒåœ¾çš„ç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼ŒRust èŠ‚çœäº†åœ¨è¿è¡Œæ—¶æ‰§è¡Œç›¸åº”å›æ”¶ç®—æ³•çš„æ—¶é—´ï¼Œä¹Ÿå› æ­¤ä¸€ä¸¾ä¸¤å¾—ï¼Œå†…å­˜å®‰å…¨å’Œæ€§èƒ½å…¼å¾—ã€‚</p>
<h4 id="Some-limits-or-strict-rules"><a href="#Some-limits-or-strict-rules" class="headerlink" title="Some limits or strict rules"></a>Some limits or strict rules</h4><ul>
<li>æ¯ä¸ªå†…å­˜ç‰‡æ®µå¿…é¡»ç”±å•ä¸ªå˜é‡æ‹¥æœ‰ â€”â€”Rust çš„<strong>æ‰€æœ‰æƒæ¨¡å‹ (ownership model)</strong> åŸºäºæ­¤ã€‚</li>
<li>æ”¹å˜å†…å­˜ç‰‡æ®µéœ€è¦ç‹¬å è®¿é—®ï¼ˆè€Œä¸æ˜¯ä»…ä»…è¯»å–å†…å­˜ï¼‰ã€‚</li>
<li>Rust å…è®¸åˆ›å»ºå¯¹å†…å­˜ç‰‡æ®µçš„å¯å˜å’Œä¸å¯å˜å¼•ç”¨ï¼ˆå€Ÿç”¨å®ƒä»¬ï¼‰ï¼Œä½†ä½¿ç”¨å€Ÿç”¨æ£€æŸ¥å™¨æ¥å¼ºåˆ¶æ­£ç¡®æ€§ï¼ˆä¾‹å¦‚ï¼Œç¦æ­¢å¤šä¸ªå¯å˜å¼•ç”¨ï¼‰ã€‚</li>
<li>Rust ç¼–è¯‘å™¨ä¼šè®¡ç®—å¹¶æ£€æŸ¥ç¨‹åºä¸­æ¯ä¸ªå˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»å˜é‡åˆ›å»ºçš„åœ°æ–¹åˆ°å˜é‡è¢«åˆ é™¤çš„åœ°æ–¹ï¼ˆå˜é‡ä¸å†å¯è®¿é—®çš„åœ°æ–¹ï¼‰ã€‚</li>
</ul>
<p>è¿™é‡Œæåˆ°äº†ä¸€ä¸ªæ‰€æœ‰æƒæ¨¡å‹ï¼Œæ„Ÿè§‰å¯ä»¥åˆæ­¥äº†è§£ä¸‹ï¼š</p>
<h5 id="æ‰€æœ‰æƒæ¨¡å‹çš„ä¸‰ä¸ªæ ¸å¿ƒè§„åˆ™"><a href="#æ‰€æœ‰æƒæ¨¡å‹çš„ä¸‰ä¸ªæ ¸å¿ƒè§„åˆ™" class="headerlink" title="æ‰€æœ‰æƒæ¨¡å‹çš„ä¸‰ä¸ªæ ¸å¿ƒè§„åˆ™"></a>æ‰€æœ‰æƒæ¨¡å‹çš„ä¸‰ä¸ªæ ¸å¿ƒè§„åˆ™</h5><p>Rust çš„æ‰€æœ‰æƒç³»ç»Ÿä¸»è¦å›´ç»•ä»¥ä¸‹ä¸‰ä¸ªè§„åˆ™ï¼š</p>
<ol>
<li><strong>æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ï¼ˆOwnerï¼‰</strong><br>æ¯ä¸ªå˜é‡æˆ–æ•°æ®éƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ï¼Œæ•°æ®çš„æ‰€æœ‰æƒåªèƒ½å½’å±äºä¸€ä¸ªå˜é‡ã€‚</li>
<li><strong>æ¯ä¸ªå€¼åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…</strong><br>åœ¨ä»»æ„æ—¶åˆ»ï¼ŒæŸä¸ªå€¼æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚å½“æ‰€æœ‰è€…ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œè¯¥å€¼ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ã€‚</li>
<li><strong>å½“æ‰€æœ‰è€…è¶…å‡ºä½œç”¨åŸŸï¼Œå€¼ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾</strong><br>å½“æ‰€æœ‰è€…å˜é‡ç¦»å¼€å®ƒæ‰€åœ¨çš„ä½œç”¨åŸŸæ—¶ï¼ŒRust ä¼šè‡ªåŠ¨è°ƒç”¨ <code>drop</code> å‡½æ•°é‡Šæ”¾è¯¥å˜é‡æ‰€å ç”¨çš„å†…å­˜ã€‚è¿™ç§æœºåˆ¶ç¡®ä¿äº†å†…å­˜å®‰å…¨ï¼ŒåŒæ—¶é¿å…äº†å†…å­˜æ³„æ¼ã€‚</li>
</ol>
<h5 id="æ‰€æœ‰æƒè½¬ç§»ï¼ˆMoveï¼‰"><a href="#æ‰€æœ‰æƒè½¬ç§»ï¼ˆMoveï¼‰" class="headerlink" title="æ‰€æœ‰æƒè½¬ç§»ï¼ˆMoveï¼‰"></a>æ‰€æœ‰æƒè½¬ç§»ï¼ˆMoveï¼‰</h5><p>åœ¨ Rust ä¸­ï¼Œå½“æˆ‘ä»¬å°†ä¸€ä¸ªå˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œæ‰€æœ‰æƒä¼šå‘ç”Ÿè½¬ç§»ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º <strong>Move</strong>ã€‚è¢«è½¬ç§»çš„å˜é‡åœ¨è½¬ç§»ä¹‹åå°†ä¸å†æœ‰æ•ˆï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">let s1 = String::from("hello");</span><br><span class="line">let s2 = s1;  // æ‰€æœ‰æƒè½¬ç§»ï¼Œs1 ä¸å†æœ‰æ•ˆ</span><br><span class="line">// println!("{}", s1); // ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºs1å·²ç»è¢«è½¬ç§»</span><br></pre></td></tr></tbody></table></figure>

<p>å¥½å¥‡å¿ƒé©±ä½¿ä¸‹ï¼Œæœäº†ä¸‹ç›¸å…³è¯­æ³•ï¼š</p>
<ul>
<li><code>&amp;str</code>ï¼ˆå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼‰ï¼Œé€šå¸¸æ˜¯é™æ€çš„ä¸å¯å˜å¼•ç”¨ã€‚</li>
<li><code>String</code>ï¼Œæ˜¯åŠ¨æ€åˆ†é…çš„å¯å˜å­—ç¬¦ä¸²ã€‚</li>
</ul>
<figure class="highlight rust"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">"hello"</span>);  <span class="comment">// ä½¿ç”¨ String::from</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">s2</span> = <span class="string">"hello"</span>.<span class="title function_ invoke__">to_string</span>();    <span class="comment">// å¦ä¸€ç§åˆ›å»º String çš„æ–¹å¼</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶å <code>!</code> è¡¨ç¤ºå®è°ƒç”¨ï¼Œè¿™é‡Œæ¶‰åŠæœ‰ç‚¹å¤šä¸å±•å¼€ã€‚</p>
<h5 id="å€Ÿç”¨ï¼ˆBorrowingï¼‰ä¸å¼•ç”¨ï¼ˆReferenceï¼‰"><a href="#å€Ÿç”¨ï¼ˆBorrowingï¼‰ä¸å¼•ç”¨ï¼ˆReferenceï¼‰" class="headerlink" title="å€Ÿç”¨ï¼ˆBorrowingï¼‰ä¸å¼•ç”¨ï¼ˆReferenceï¼‰"></a>å€Ÿç”¨ï¼ˆBorrowingï¼‰ä¸å¼•ç”¨ï¼ˆReferenceï¼‰</h5><p>ä¸ºäº†åœ¨ä¸è½¬ç§»æ‰€æœ‰æƒçš„æƒ…å†µä¸‹è®¿é—®æ•°æ®ï¼ŒRust å¼•å…¥äº† <strong>å€Ÿç”¨</strong>ï¼ˆé€šè¿‡å¼•ç”¨ï¼‰ã€‚å€Ÿç”¨åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š<strong>ä¸å¯å˜å¼•ç”¨</strong> å’Œ <strong>å¯å˜å¼•ç”¨</strong>ã€‚</p>
<h6 id="ä¸å¯å˜å¼•ç”¨ï¼ˆ-ï¼‰"><a href="#ä¸å¯å˜å¼•ç”¨ï¼ˆ-ï¼‰" class="headerlink" title="ä¸å¯å˜å¼•ç”¨ï¼ˆ&amp;ï¼‰"></a>ä¸å¯å˜å¼•ç”¨ï¼ˆ&amp;ï¼‰</h6><p>å¤šä¸ªä¸å¯å˜å¼•ç”¨å¯ä»¥åŒæ—¶å­˜åœ¨ï¼Œä½†ä¸èƒ½ä¸å¯å˜å¼•ç”¨å…±å­˜ã€‚</p>
<figure class="highlight rust"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">"hello"</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">r1</span> = &amp;s;  <span class="comment">// ä¸å¯å˜å¼•ç”¨</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">r2</span> = &amp;s;  <span class="comment">// å…è®¸å¤šä¸ªä¸å¯å˜å¼•ç”¨</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">"{} and {}"</span>, r1, r2);  <span class="comment">// æ­£å¸¸å·¥ä½œ</span></span><br></pre></td></tr></tbody></table></figure>

<h6 id="å¯å˜å¼•ç”¨ï¼ˆ-mutï¼‰"><a href="#å¯å˜å¼•ç”¨ï¼ˆ-mutï¼‰" class="headerlink" title="å¯å˜å¼•ç”¨ï¼ˆ&amp;mutï¼‰"></a>å¯å˜å¼•ç”¨ï¼ˆ&amp;mutï¼‰</h6><p>åœ¨æŸä¸€æ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼Œå¹¶ä¸”ä¸å¯ä¸ä¸å¯å˜å¼•ç”¨åŒæ—¶å­˜åœ¨ã€‚è¿™æ˜¯ä¸ºäº†é¿å…æ•°æ®ç«äº‰ã€‚</p>
<figure class="highlight rust"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">"hello"</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">r1</span> = &amp;<span class="keyword">mut</span> s;  <span class="comment">// å¯å˜å¼•ç”¨</span></span><br><span class="line"><span class="comment">// let r2 = &amp;s;  // ç¼–è¯‘é”™è¯¯ï¼šä¸å¯å˜å¼•ç”¨ä¸å¯å˜å¼•ç”¨ä¸èƒ½å…±å­˜</span></span><br></pre></td></tr></tbody></table></figure>

<h5 id="æ‚¬æŒ‚å¼•ç”¨ï¼ˆDangling-Referencesï¼‰ä¸å€Ÿç”¨æ£€æŸ¥"><a href="#æ‚¬æŒ‚å¼•ç”¨ï¼ˆDangling-Referencesï¼‰ä¸å€Ÿç”¨æ£€æŸ¥" class="headerlink" title="æ‚¬æŒ‚å¼•ç”¨ï¼ˆDangling Referencesï¼‰ä¸å€Ÿç”¨æ£€æŸ¥"></a>æ‚¬æŒ‚å¼•ç”¨ï¼ˆDangling Referencesï¼‰ä¸å€Ÿç”¨æ£€æŸ¥</h5><p>Rust ç¼–è¯‘å™¨é€šè¿‡å€Ÿç”¨æ£€æŸ¥ï¼ˆBorrow Checkerï¼‰æ¥ç¡®ä¿å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸ä¼šè¶…å‡ºå®ƒä»¬æ‰€å€Ÿç”¨çš„æ•°æ®çš„ä½œç”¨åŸŸã€‚Rust ä¼šåœ¨ç¼–è¯‘æ—¶é˜²æ­¢æ‚¬æŒ‚å¼•ç”¨ï¼Œå³é¿å…åœ¨æ•°æ®è¢«é‡Šæ”¾åï¼Œä»ç„¶æœ‰å¯¹å®ƒçš„å¼•ç”¨ã€‚</p>
<h5 id="ç”Ÿå‘½å‘¨æœŸï¼ˆLifetimesï¼‰"><a href="#ç”Ÿå‘½å‘¨æœŸï¼ˆLifetimesï¼‰" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸï¼ˆLifetimesï¼‰"></a>ç”Ÿå‘½å‘¨æœŸï¼ˆLifetimesï¼‰</h5><p>Rust é€šè¿‡ <strong>ç”Ÿå‘½å‘¨æœŸ</strong> æœºåˆ¶æ¥è·Ÿè¸ªå¼•ç”¨çš„æœ‰æ•ˆæ€§ã€‚ç”Ÿå‘½å‘¨æœŸæ ‡æ³¨æ˜¯ç¼–è¯‘å™¨ç”¨äºç¡®ä¿æ‰€æœ‰å¼•ç”¨åœ¨æœ‰æ•ˆçš„èŒƒå›´å†…ä½¿ç”¨çš„è¾…åŠ©å·¥å…·ã€‚è™½ç„¶å¾ˆå¤šæƒ…å†µä¸‹ Rust å¯ä»¥è‡ªåŠ¨æ¨æ–­ç”Ÿå‘½å‘¨æœŸï¼Œä½†åœ¨æŸäº›å¤æ‚æƒ…å†µä¸‹éœ€è¦æ‰‹åŠ¨æ ‡æ³¨ã€‚</p>
<figure class="highlight rust"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">longest</span>&lt;<span class="symbol">'a</span>&gt;(x: &amp;<span class="symbol">'a</span> <span class="type">str</span>, y: &amp;<span class="symbol">'a</span> <span class="type">str</span>) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">'a</span> <span class="type">str</span> {</span><br><span class="line">    <span class="keyword">if</span> x.<span class="title function_ invoke__">len</span>() &gt; y.<span class="title function_ invoke__">len</span>() {</span><br><span class="line">        x <span class="comment">// Rust ä½¿ç”¨è¡¨è¾¾å¼å¼ç¼–ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‡½æ•°çš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœä¼šè‡ªåŠ¨ä½œä¸ºè¿”å›å€¼ï¼Œå¦‚æœè¿™ä¸ªè¡¨è¾¾å¼æ²¡æœ‰è¢«åˆ†å·ç»“å°¾ã€‚</span></span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        y</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>-&gt; &amp;'a str</code> è¡¨ç¤ºè¿”å›ç±»å‹ï¼Œ<code>'a</code> æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œä¸ºç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼Œè¡¨ç¤ºè¾“å…¥å‚æ•°å’Œè¿”å›å€¼çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¡¨æ˜ä»¥ä¸‹çš„å¼•ç”¨éƒ½è‡³å°‘æ´»å¾—è·Ÿ<code>'a</code> ä¸€æ ·ä¹…ã€‚ï¼ˆa å¯ä»¥æ›¿æ¢æˆä»»æ„è‡ªå®šä¹‰åç§°ï¼Œå•å¼•å·åˆ™å¿…é¡»æœ‰ï¼‰</p>
<h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>Rust çš„æ‰€æœ‰æƒæ¨¡å‹æä¾›äº†ä¸€ç§å®‰å…¨çš„å†…å­˜ç®¡ç†æ–¹å¼ï¼Œé¿å…äº†å†…å­˜æ³„æ¼å’Œæ•°æ®ç«äº‰ç­‰é—®é¢˜ã€‚æ‰€æœ‰æƒã€å€Ÿç”¨å’Œç”Ÿå‘½å‘¨æœŸç›¸ç»“åˆï¼Œä½¿å¾—ç¨‹åºåœ¨ç¼–è¯‘æ—¶èƒ½å¤Ÿä¿è¯å†…å­˜å®‰å…¨ï¼Œå¹¶ä¸”æ— éœ€è¿è¡Œæ—¶çš„åƒåœ¾å›æ”¶æœºåˆ¶ã€‚è¿™ä¹Ÿæ˜¯ Rust è¢«è®¤ä¸ºæ˜¯ â€œé›¶æˆæœ¬æŠ½è±¡â€ çš„åŸå› ä¹‹ä¸€ã€‚</p>
<p>è¿™æ˜¯åšå®¢é‡Œçš„ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight rust"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// Here we take a vector by reference (&amp;).</span></span><br><span class="line"><span class="comment">// We are not allowed to mutate elements.</span></span><br><span class="line"><span class="comment">// We don't take ownership; we just borrow.</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">print_vec</span>(numbers: &amp;<span class="type">Vec</span>&lt;<span class="type">i32</span>&gt;) {</span><br><span class="line">   <span class="keyword">for</span> <span class="variable">number</span> <span class="keyword">in</span> numbers {</span><br><span class="line">       <span class="built_in">print!</span>(<span class="string">"{} "</span>, number);</span><br><span class="line">   }</span><br><span class="line">   <span class="built_in">println!</span>()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Here we take a vector by mutable reference (&amp;mut).</span></span><br><span class="line"><span class="comment">// We are now allowed to mutate elements and the vector itself.</span></span><br><span class="line"><span class="comment">// We still don't take ownership; we just borrow.</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">add_one</span>(numbers: &amp;<span class="keyword">mut</span> <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt;) {</span><br><span class="line">   numbers.<span class="title function_ invoke__">push</span>(<span class="number">1</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() {</span><br><span class="line">   <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">numbers</span> = <span class="built_in">vec!</span>[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>];</span><br><span class="line">   <span class="comment">// We pass a reference</span></span><br><span class="line">   <span class="title function_ invoke__">print_vec</span>(&amp;numbers);</span><br><span class="line">   <span class="comment">// We pass a mutable reference</span></span><br><span class="line">   <span class="title function_ invoke__">add_one</span>(&amp;<span class="keyword">mut</span> numbers);</span><br><span class="line">   <span class="comment">// We pass a reference again</span></span><br><span class="line">   <span class="title function_ invoke__">print_vec</span>(&amp;numbers);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„ <code>We don't take ownership; we just borrow.</code> è¿™å¥è¯ä¸Šé¢å‡ºç°äº†ä¸¤æ¬¡</p>
<figure class="highlight rust"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">add_one_incorrect</span>(<span class="keyword">mut</span> numbers: <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt;) {</span><br><span class="line">	numbers.<span class="title function_ invoke__">push</span>(<span class="number">1</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªä¾‹å­å°±æ˜¯ <code>take ownership</code> çš„äº†ã€‚</p>
<p>å½“ä½ å°† <code>main</code> å‡½æ•°ä¸­çš„ <code>numbers</code> ä¼ é€’ç»™ <code>add_one_incorrect</code> æ—¶ï¼Œ<code>numbers</code> çš„<strong>æ‰€æœ‰æƒ</strong>ä¼šä» <code>main</code> è½¬ç§»åˆ° <code>add_one_incorrect</code> çš„å‚æ•° <code>numbers</code> ä¸Šã€‚å‡½æ•°ä¸­çš„ <code>numbers</code> å’Œ <code>main</code> ä¸­çš„ <code>numbers</code> åªæ˜¯åŒåå˜é‡ï¼Œä½†å®ƒä»¬æ˜¯ä¸åŒçš„å®ä¾‹ã€‚å‡½æ•°å†…éƒ¨çš„ <code>mut</code> ä½¿å¾—ä½ å¯ä»¥ä¿®æ”¹ <code>add_one_incorrect</code> å†…éƒ¨çš„ <code>numbers</code>ï¼Œä½†è¿™å¹¶ä¸ä¼šå½±å“ <code>main</code> ä¸­çš„ <code>numbers</code>ï¼Œå› ä¸º <code>main</code> çš„ <code>numbers</code> å·²ç»å¤±å»äº†æ‰€æœ‰æƒã€‚å‡½æ•°ç»“æŸåï¼Œ<code>add_one_incorrect</code> å†…çš„ <code>numbers</code> ä¼šè¢«é‡Šæ”¾ï¼Œä¸” <code>main</code> ä¸­çš„ <code>numbers</code> å·²ç»ä¸å†æœ‰æ•ˆï¼Œä¸èƒ½å†ä½¿ç”¨ï¼Œä¼šå‡ºç° <code>borrow of moved value</code> ä¹‹ç±»çš„æŠ¥é”™ä¿¡æ¯ã€‚</p>
<h3 id="å¹¶å‘ï¼ˆConcurrencyï¼‰"><a href="#å¹¶å‘ï¼ˆConcurrencyï¼‰" class="headerlink" title="å¹¶å‘ï¼ˆConcurrencyï¼‰"></a>å¹¶å‘ï¼ˆConcurrencyï¼‰</h3><p>Rustaceans ç»å¸¸å°† Rust çš„å¹¶å‘æ€§æè¿°ä¸ºæ— æ‰€ç•æƒ§ã€‚æœ‰å‡ ä¸ªå› ç´ ä¿ƒæˆäº†è¿™ç§çœ‹æ³•ï¼š</p>
<ul>
<li>æ‰€æœ‰æƒæ¨¡å‹å¢åŠ äº†å¯¹å¹¶å‘çº¿ç¨‹ä¹‹é—´å…±äº«æ•°æ®çš„æ›´å¤šæ§åˆ¶ã€‚</li>
<li>é‡‡ç”¨ä¸å¯å˜çš„æ•°æ®ç»“æ„ï¼ˆå…·æœ‰å¤©ç„¶çš„çº¿ç¨‹å®‰å…¨æ€§ï¼Œä¸ä¼šå‡ºç°æ•°æ®ç«äº‰ï¼‰ï¼Œç®€åŒ–äº†å¹¶å‘ç®—æ³•çš„å®ç°å¹¶æœ‰åŠ©äºçº¿ç¨‹å®‰å…¨ã€‚</li>
<li>Rust é‡‡ç”¨é€šè¿‡é€šé“ä¼ é€’æ¶ˆæ¯ï¼ˆé€šé“æ˜¯ä¸€ç§é¿å…å…±äº«çŠ¶æ€çš„æ–¹å¼ï¼Œé€šè¿‡åœ¨ä¸åŒçº¿ç¨‹ä¹‹é—´ä¼ é€’æ¶ˆæ¯æ¥ä»£æ›¿å…±äº«æ•°æ®ï¼‰ï¼Œå› æ­¤å¤§å¤§é™ä½äº†å…±äº«çŠ¶æ€å¹¶å‘çš„å¤æ‚æ€§ã€‚</li>
<li>Rust çš„ç”Ÿå‘½å‘¨æœŸå’Œå†…å­˜ç®¡ç†æ–¹æ³•é€šå¸¸ä½¿ä½¿ç”¨å¹¶å‘åŸè¯­ï¼ˆä¾‹å¦‚é”ã€ä¿¡å·é‡æˆ–éšœç¢ &nbsp;-&gt; locks, semaphores, or barriersï¼‰çš„ä»£ç æ›´åŠ ä¼˜é›…å’Œå®‰å…¨ã€‚</li>
<li>åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼ŒRust çš„å¼‚æ­¥ç¼–ç¨‹æ–¹æ³•å¯ä»¥é¿å…ä½¿ç”¨å¤æ‚çš„å¹¶å‘æ¨¡å¼ï¼Œå¹¶ä½¿æ‚¨èƒ½å¤Ÿç¼–å†™ç®€æ´æ¸…æ™°çš„ä»£ç ã€‚(<strong>å¼‚æ­¥ç¼–ç¨‹</strong>æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œå®ƒå…è®¸ç¨‹åºåœ¨æ‰§è¡Œè€—æ—¶ä»»åŠ¡ï¼ˆå¦‚ I/O æ“ä½œã€ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å–ç­‰ï¼‰æ—¶ä¸é˜»å¡æ•´ä¸ªç¨‹åºçš„è¿è¡Œã€‚ç®€å•æ¥è¯´ï¼Œå¼‚æ­¥ç¼–ç¨‹ä½¿ç¨‹åºå¯ä»¥åœ¨ç­‰å¾…æŸäº›ä»»åŠ¡å®Œæˆçš„åŒæ—¶ï¼Œç»§ç»­å¤„ç†å…¶ä»–ä»»åŠ¡ï¼Œä»è€Œæé«˜æ•ˆç‡å’Œå“åº”æ€§ã€‚)<br>ä»¥ä¸Šæ˜¯åŸæ–‡ç›´è¯‘ä¸è¡¥å……ï¼Œä»…ä½œå¯¹å¹¶å‘çš„ç²—ç•¥äº†è§£ã€‚</li>
</ul>
<h2 id="How-to-install"><a href="#How-to-install" class="headerlink" title="How to install"></a>How to install</h2><p><a href="https://course.rs/first-try/installation.html">install rust</a><br><a href="https://code.visualstudio.com/docs/languages/rust">rust in vscode</a></p>
<h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><p>æˆ‘æ„Ÿè§‰åŸæ–‡ç»™çš„èµ„æºéƒ½æŒºå¥½çš„ï¼Œå°±ä¸è´´å‡ºæ¥äº†ï¼Œè¯»è€…å¯è‡ªè¡ŒæŸ¥çœ‹ã€‚</p>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>å†…å­˜ç®¡ç†</tag>
        <tag>Rust</tag>
        <tag>ç¼–ç¨‹è¯­è¨€</tag>
        <tag>æ‰€æœ‰æƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’ (Dynamic Programming)</title>
    <url>/2024/03/31/dynamic%20programming/</url>
    <content><![CDATA[<h1 id="Dynamic-Programming"><a href="#Dynamic-Programming" class="headerlink" title="Dynamic Programming"></a>Dynamic Programming</h1><h2 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h2><blockquote>
<p>[!question]<br>ç»å…¸çˆ¬æ¥¼æ¢¯é—®é¢˜<br>ç»™å®šä¸€ä¸ªå…±æœ‰ &nbsp;n é˜¶çš„æ¥¼æ¢¯ï¼Œä½ æ¯æ­¥å¯ä»¥ä¸Š &nbsp;1&nbsp; é˜¶æˆ–è€… &nbsp;2&nbsp; é˜¶ï¼Œè¯·é—®æœ‰å¤šå°‘ç§æ–¹æ¡ˆå¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ï¼Ÿ</p>
</blockquote>
<h3 id="æ–¹æ³•ä¸€ï¼šå›æº¯"><a href="#æ–¹æ³•ä¸€ï¼šå›æº¯" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå›æº¯"></a>æ–¹æ³•ä¸€ï¼šå›æº¯</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;choices, <span class="type">int</span> state, <span class="type">int</span> n, vector&lt;<span class="type">int</span>&gt; &amp;res)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (state == n)</span><br><span class="line">        res[<span class="number">0</span>]++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;choice : choices) {</span><br><span class="line">        <span class="keyword">if</span> (state + choice &gt; n)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">backtrack</span>(choices, state + choice, n, res);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">climbingStairsBacktrack</span><span class="params">(<span class="type">int</span> n)</span> </span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; choices = {<span class="number">1</span>, <span class="number">2</span>};</span><br><span class="line">    <span class="type">int</span> state = <span class="number">0</span>;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res = {<span class="number">0</span>};</span><br><span class="line">    <span class="built_in">backtrack</span>(choices, state, n, res);</span><br><span class="line">    <span class="keyword">return</span> res[<span class="number">0</span>];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ–¹æ³•äºŒï¼šæš´æœ"><a href="#æ–¹æ³•äºŒï¼šæš´æœ" class="headerlink" title="æ–¹æ³•äºŒï¼šæš´æœ"></a>æ–¹æ³•äºŒï¼šæš´æœ</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> i)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">1</span> || i == <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    <span class="type">int</span> count = <span class="built_in">dfs</span>(i - <span class="number">1</span>) + <span class="built_in">dfs</span>(i - <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">climbingStairsDFS</span><span class="params">(<span class="type">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dfs</span>(n);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ–¹æ³•ä¸‰ï¼šè®°å¿†åŒ–æœç´¢"><a href="#æ–¹æ³•ä¸‰ï¼šè®°å¿†åŒ–æœç´¢" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šè®°å¿†åŒ–æœç´¢"></a>æ–¹æ³•ä¸‰ï¼šè®°å¿†åŒ–æœç´¢</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> i, vector&lt;<span class="type">int</span>&gt; &amp;mem)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">1</span> || i == <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    <span class="keyword">if</span> (mem[i] != <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> mem[i];</span><br><span class="line">    <span class="type">int</span> count = <span class="built_in">dfs</span>(i - <span class="number">1</span>, mem) + <span class="built_in">dfs</span>(i - <span class="number">2</span>, mem);</span><br><span class="line">    mem[i] = count;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">climbingStairsDFSMem</span><span class="params">(<span class="type">int</span> n)</span> </span>{</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">mem</span><span class="params">(n + <span class="number">1</span>, <span class="number">-1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dfs</span>(n, mem);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ–¹æ³•å››ï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•å››ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•å››ï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•å››ï¼šåŠ¨æ€è§„åˆ’</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">climbingStairsDP</span><span class="params">(<span class="type">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span> || n == <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>; i &lt;= n; i++) {</span><br><span class="line">        dp[i] = dp[i - <span class="number">1</span>] + dp[i - <span class="number">2</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">}</span><br><span class="line"><span class="comment">//ç©ºé—´ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">climbingStairsDPComp</span><span class="params">(<span class="type">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span> || n == <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>, b = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="type">int</span> tmp = b;</span><br><span class="line">        b = a + b;</span><br><span class="line">        a = tmp;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="DP-é—®é¢˜ç‰¹æ€§"><a href="#DP-é—®é¢˜ç‰¹æ€§" class="headerlink" title="DP é—®é¢˜ç‰¹æ€§"></a>DP é—®é¢˜ç‰¹æ€§</h2><h3 id="æœ€ä¼˜å­ç»“æ„"><a href="#æœ€ä¼˜å­ç»“æ„" class="headerlink" title="æœ€ä¼˜å­ç»“æ„"></a>æœ€ä¼˜å­ç»“æ„</h3><blockquote>
<p>[!question]<br>ç»™å®šä¸€ä¸ªæ¥¼æ¢¯ï¼Œä½ æ¯æ­¥å¯ä»¥ä¸Š &nbsp;1&nbsp; é˜¶æˆ–è€… &nbsp;2&nbsp; é˜¶ï¼Œæ¯ä¸€é˜¶æ¥¼æ¢¯ä¸Šéƒ½è´´æœ‰ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºä½ åœ¨è¯¥å°é˜¶æ‰€éœ€è¦ä»˜å‡ºçš„ä»£ä»·ã€‚ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ &nbsp;cost&nbsp;ï¼Œå…¶ä¸­ &nbsp;cost [i]&nbsp; è¡¨ç¤ºåœ¨ç¬¬ &nbsp;i&nbsp; ä¸ªå°é˜¶éœ€è¦ä»˜å‡ºçš„ä»£ä»·ï¼Œcost [0]&nbsp; ä¸ºåœ°é¢ï¼ˆèµ·å§‹ç‚¹ï¼‰ã€‚è¯·è®¡ç®—æœ€å°‘éœ€è¦ä»˜å‡ºå¤šå°‘ä»£ä»·æ‰èƒ½åˆ°è¾¾é¡¶éƒ¨ï¼Ÿ</p>
</blockquote>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">minCostClimbingStairsDP</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;cost)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = cost.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span> || n == <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> cost[n];</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    dp[<span class="number">1</span>] = cost[<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">2</span>] = cost[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>; i &lt;= n; i++) {</span><br><span class="line">        dp[i] = <span class="built_in">min</span>(dp[i - <span class="number">1</span>], dp[i - <span class="number">2</span>]) + cost[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç©ºé—´ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">minCostClimbingStairsDP</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;cost)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = cost.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span> || n == <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> cost[n];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> prev1 = cost[<span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> prev2 = cost[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="type">int</span> current = <span class="built_in">min</span>(prev1, prev2) + cost[i];</span><br><span class="line">        prev1 = prev2;</span><br><span class="line">        prev2 = current;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span>(prev1, prev2);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ— åæ•ˆæ€§"><a href="#æ— åæ•ˆæ€§" class="headerlink" title="æ— åæ•ˆæ€§"></a>æ— åæ•ˆæ€§</h3><blockquote>
<p><strong>ç»™å®šä¸€ä¸ªç¡®å®šçš„çŠ¶æ€ï¼Œå®ƒçš„æœªæ¥å‘å±•åªä¸å½“å‰çŠ¶æ€æœ‰å…³ï¼Œè€Œä¸è¿‡å»ç»å†çš„æ‰€æœ‰çŠ¶æ€æ— å…³</strong>ã€‚</p>
</blockquote>
<blockquote>
<p>[!question]<br>ç»™å®šä¸€ä¸ªå…±æœ‰ &nbsp;n é˜¶çš„æ¥¼æ¢¯ï¼Œä½ æ¯æ­¥å¯ä»¥ä¸Š &nbsp;1&nbsp; é˜¶æˆ–è€… &nbsp;2&nbsp; é˜¶ï¼Œ<strong>ä½†ä¸èƒ½è¿ç»­ä¸¤è½®è·³ &nbsp;1&nbsp; é˜¶</strong>ï¼Œè¯·é—®æœ‰å¤šå°‘ç§æ–¹æ¡ˆå¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>æ‰©å±•çŠ¶æ€å®šä¹‰ï¼Œä½¿å¾—é—®é¢˜é‡æ–°æ»¡è¶³æ— åæ•ˆæ€§ã€‚</p>
</blockquote>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">climbingStairsConstraintDP</span><span class="params">(<span class="type">int</span> n)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span> || n == <span class="number">2</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">3</span>, <span class="number">0</span>));</span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">    dp[<span class="number">2</span>][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    dp[<span class="number">2</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>; i &lt;= n; i++) {</span><br><span class="line">        dp[i][<span class="number">1</span>] = dp[i - <span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">        dp[i][<span class="number">2</span>] = dp[i - <span class="number">2</span>][<span class="number">1</span>] + dp[i - <span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n][<span class="number">1</span>] + dp[n][<span class="number">2</span>];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="åŠ¨æ€è§„åˆ’è§£é¢˜æ­¥éª¤"><a href="#åŠ¨æ€è§„åˆ’è§£é¢˜æ­¥éª¤" class="headerlink" title="åŠ¨æ€è§„åˆ’è§£é¢˜æ­¥éª¤"></a>åŠ¨æ€è§„åˆ’è§£é¢˜æ­¥éª¤</h2><blockquote>
<p>[!example]<br>ç»™å®šä¸€ä¸ª &nbsp;n Ã— n çš„äºŒç»´ç½‘æ ¼ &nbsp;<code>grid</code>&nbsp;ï¼Œç½‘æ ¼ä¸­çš„æ¯ä¸ªå•å…ƒæ ¼åŒ…å«ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºè¯¥å•å…ƒæ ¼çš„ä»£ä»·ã€‚æœºå™¨äººä»¥å·¦ä¸Šè§’å•å…ƒæ ¼ä¸ºèµ·å§‹ç‚¹ï¼Œæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ï¼Œç›´è‡³åˆ°è¾¾å³ä¸‹è§’å•å…ƒæ ¼ã€‚è¯·è¿”å›ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„æœ€å°è·¯å¾„å’Œã€‚</p>
</blockquote>
<h3 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h3><blockquote>
<p>æè¿°å†³ç­–ï¼šåªèƒ½å‘ä¸‹ã€å³èµ°ï¼Œå®šä¹‰çŠ¶æ€ï¼šè¡Œåˆ—ç´¢å¼• [i, j]ï¼Œå»ºç«‹ &nbsp;dp è¡¨ï¼šçŸ©é˜µ</p>
</blockquote>
<h3 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h3><blockquote>
<p>æ‰¾å‡ºæœ€ä¼˜å­ç»“æ„ï¼Œè¿›è€Œæ¨å¯¼å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹</p>
</blockquote>
<p>$dp[i, j] = min(dp[i - 1, j], dp[i, j - 1]) + grid[i, j]$</p>
<h3 id="ç¬¬ä¸‰æ­¥"><a href="#ç¬¬ä¸‰æ­¥" class="headerlink" title="ç¬¬ä¸‰æ­¥"></a>ç¬¬ä¸‰æ­¥</h3><blockquote>
<p>ç¡®å®šè¾¹ç•Œæ¡ä»¶ï¼šåˆå§‹åŒ–é¦–è¡Œé¦–åˆ—ï¼Œ çŠ¶æ€è½¬ç§»é¡ºåºï¼šæ­£åºéå†çŸ©é˜µ</p>
</blockquote>
<h3 id="ç¬¬å››æ­¥"><a href="#ç¬¬å››æ­¥" class="headerlink" title="ç¬¬å››æ­¥"></a>ç¬¬å››æ­¥</h3><h4 id="æ–¹æ³•ä¸€ï¼šæš´æœ"><a href="#æ–¹æ³•ä¸€ï¼šæš´æœ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´æœ"></a>æ–¹æ³•ä¸€ï¼šæš´æœ</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">minPathSumDFS</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;grid, <span class="type">int</span> i, <span class="type">int</span> j)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> grid[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> INT_MAX;</span><br><span class="line">    }</span><br><span class="line">    <span class="type">int</span> up = <span class="built_in">minPathSumDFS</span>(grid, i - <span class="number">1</span>, j);</span><br><span class="line">    <span class="type">int</span> left = <span class="built_in">minPathSumDFS</span>(grid, i, j - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">min</span>(left, up) != INT_MAX ? std::<span class="built_in">min</span>(left, up) + grid[i][j] : INT_MAX;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šè®°æœ"><a href="#æ–¹æ³•äºŒï¼šè®°æœ" class="headerlink" title="æ–¹æ³•äºŒï¼šè®°æœ"></a>æ–¹æ³•äºŒï¼šè®°æœ</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">minPathSumDFSMem</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;grid, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;mem, <span class="type">int</span> i, <span class="type">int</span> j)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> grid[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> INT_MAX;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (mem[i][j] != <span class="number">-1</span>) {</span><br><span class="line">        <span class="keyword">return</span> mem[i][j];</span><br><span class="line">    }</span><br><span class="line">    <span class="type">int</span> up = <span class="built_in">minPathSumDFSMem</span>(grid, mem, i - <span class="number">1</span>, j);</span><br><span class="line">    <span class="type">int</span> left = <span class="built_in">minPathSumDFSMem</span>(grid, mem, i, j - <span class="number">1</span>);</span><br><span class="line">    mem[i][j] = std::<span class="built_in">min</span>(left, up) != INT_MAX ? std::<span class="built_in">min</span>(left, up) + grid[i][j] : INT_MAX;</span><br><span class="line">    <span class="keyword">return</span> mem[i][j];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="æ–¹æ³•ä¸‰ï¼šåŠ¨è§„"><a href="#æ–¹æ³•ä¸‰ï¼šåŠ¨è§„" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šåŠ¨è§„"></a>æ–¹æ³•ä¸‰ï¼šåŠ¨è§„</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">minPathSumDP</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;grid)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = grid.<span class="built_in">size</span>(), m = grid[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m));</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = grid[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; m; j++) {</span><br><span class="line">        dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j - <span class="number">1</span>] + grid[<span class="number">0</span>][j];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) {</span><br><span class="line">        dp[i][<span class="number">0</span>] = dp[i - <span class="number">1</span>][<span class="number">0</span>] + grid[i][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; m; j++) {</span><br><span class="line">            dp[i][j] = std::<span class="built_in">min</span>(dp[i][j - <span class="number">1</span>], dp[i - <span class="number">1</span>][j]) + grid[i][j];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n - <span class="number">1</span>][m - <span class="number">1</span>];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç©ºé—´ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">minPathSumDPComp</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;grid)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = grid.<span class="built_in">size</span>(), m = grid[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(m)</span></span>;</span><br><span class="line">    dp[<span class="number">0</span>] = grid[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; m; j++) {</span><br><span class="line">        dp[j] = dp[j - <span class="number">1</span>] + grid[<span class="number">0</span>][j];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) {</span><br><span class="line">        dp[<span class="number">0</span>] = dp[<span class="number">0</span>] + grid[i][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; m; j++) {</span><br><span class="line">            dp[j] = std::<span class="built_in">min</span>(dp[j - <span class="number">1</span>], dp[j]) + grid[i][j];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[m - <span class="number">1</span>];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="0-1-èƒŒåŒ…é—®é¢˜"><a href="#0-1-èƒŒåŒ…é—®é¢˜" class="headerlink" title="0-1 èƒŒåŒ…é—®é¢˜"></a>0-1 èƒŒåŒ…é—®é¢˜</h2><blockquote>
<p>[!question]<br>ç»™å®š &nbsp;n&nbsp; ä¸ªç‰©å“ï¼Œç¬¬ &nbsp;i&nbsp; ä¸ªç‰©å“çš„é‡é‡ä¸º &nbsp;wgt [i âˆ’ 1]ã€ä»·å€¼ä¸º &nbsp;val [i âˆ’ 1]&nbsp;ï¼Œå’Œä¸€ä¸ªå®¹é‡ä¸º &nbsp;cap&nbsp; çš„èƒŒåŒ…ã€‚æ¯ä¸ªç‰©å“åªèƒ½é€‰æ‹©ä¸€æ¬¡ï¼Œé—®åœ¨é™å®šèƒŒåŒ…å®¹é‡ä¸‹èƒ½æ”¾å…¥ç‰©å“çš„æœ€å¤§ä»·å€¼ã€‚</p>
</blockquote>
<blockquote>
<p>å…³é”®ï¼šçŠ¶æ€ &nbsp;[i , c]&nbsp; å¯¹åº”çš„å­é—®é¢˜ä¸ºï¼š<strong>å‰ &nbsp;i&nbsp; ä¸ªç‰©å“åœ¨å‰©ä½™å®¹é‡ä¸º &nbsp;c&nbsp; çš„èƒŒåŒ…ä¸­çš„æœ€å¤§ä»·å€¼</strong>ï¼Œè®°ä¸º &nbsp;dp [i , c]&nbsp;ã€‚</p>
</blockquote>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æš´æœ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">knapsackDFS</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;wgt, vector&lt;<span class="type">int</span>&gt; &amp;val, <span class="type">int</span> i, <span class="type">int</span> c)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">0</span> || c == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (wgt[i - <span class="number">1</span>] &gt; c) {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">knapsackDFS</span>(wgt, val, i - <span class="number">1</span>, c);</span><br><span class="line">    }</span><br><span class="line">    <span class="type">int</span> no = <span class="built_in">knapsackDFS</span>(wgt, val, i - <span class="number">1</span>, c);</span><br><span class="line">    <span class="type">int</span> yes = <span class="built_in">knapsackDFS</span>(wgt, val, i - <span class="number">1</span>, c - wgt[i - <span class="number">1</span>]) + val[i - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(no, yes);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®°æœ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">knapsackDFSMem</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;wgt, vector&lt;<span class="type">int</span>&gt; &amp;val, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;mem, <span class="type">int</span> i, <span class="type">int</span> c)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">0</span> || c == <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (mem[i][c] != <span class="number">-1</span>) {</span><br><span class="line">        <span class="keyword">return</span> mem[i][c];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (wgt[i - <span class="number">1</span>] &gt; c) {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">knapsackDFSMem</span>(wgt, val, mem, i - <span class="number">1</span>, c);</span><br><span class="line">    }</span><br><span class="line">    <span class="type">int</span> no = <span class="built_in">knapsackDFSMem</span>(wgt, val, mem, i - <span class="number">1</span>, c);</span><br><span class="line">    <span class="type">int</span> yes = <span class="built_in">knapsackDFSMem</span>(wgt, val, mem, i - <span class="number">1</span>, c - wgt[i - <span class="number">1</span>]) + val[i - <span class="number">1</span>];</span><br><span class="line">    mem[i][c] = <span class="built_in">max</span>(no, yes);</span><br><span class="line">    <span class="keyword">return</span> mem[i][c];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ¨è§„</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">knapsackDP</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;wgt, vector&lt;<span class="type">int</span>&gt; &amp;val, <span class="type">int</span> cap)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = wgt.<span class="built_in">size</span>();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(cap + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> c = <span class="number">1</span>; c &lt;= cap; c++) {</span><br><span class="line">            <span class="keyword">if</span> (wgt[i - <span class="number">1</span>] &gt; c) {</span><br><span class="line">                dp[i][c] = dp[i - <span class="number">1</span>][c];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                dp[i][c] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][c], dp[i - <span class="number">1</span>][c - wgt[i - <span class="number">1</span>]] + val[i - <span class="number">1</span>]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n][cap];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç©ºé—´ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">knapsackDPComp</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;wgt, vector&lt;<span class="type">int</span>&gt; &amp;val, <span class="type">int</span> cap)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = wgt.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(cap + <span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">	    <span class="keyword">for</span> (<span class="type">int</span> c = cap; c &gt;= <span class="number">1</span>; c--) {    <span class="comment">//å€’åºéå†</span></span><br><span class="line">            <span class="keyword">if</span> (wgt[i - <span class="number">1</span>] &lt;= c) {</span><br><span class="line">                dp[c] = <span class="built_in">max</span>(dp[c], dp[c - wgt[i - <span class="number">1</span>]] + val[i - <span class="number">1</span>]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[cap];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å®Œå…¨èƒŒåŒ…é—®é¢˜"><a href="#å®Œå…¨èƒŒåŒ…é—®é¢˜" class="headerlink" title="å®Œå…¨èƒŒåŒ…é—®é¢˜"></a>å®Œå…¨èƒŒåŒ…é—®é¢˜</h2><blockquote>
<p>[!question]<br>ç»™å®š &nbsp;n&nbsp; ä¸ªç‰©å“ï¼Œç¬¬ &nbsp;i&nbsp; ä¸ªç‰©å“çš„é‡é‡ä¸º &nbsp;wgt [i âˆ’ 1]ã€ä»·å€¼ä¸º &nbsp;val [i âˆ’ 1]&nbsp;ï¼Œå’Œä¸€ä¸ªå®¹é‡ä¸º &nbsp;cap&nbsp; çš„èƒŒåŒ…ã€‚<strong>æ¯ä¸ªç‰©å“å¯ä»¥é‡å¤é€‰å–</strong>ï¼Œé—®åœ¨é™å®šèƒŒåŒ…å®¹é‡ä¸‹èƒ½æ”¾å…¥ç‰©å“çš„æœ€å¤§ä»·å€¼ã€‚</p>
</blockquote>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//åŠ¨è§„</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">unboundedKnapsackDP</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;wgt, vector&lt;<span class="type">int</span>&gt; &amp;val, <span class="type">int</span> cap)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = wgt.<span class="built_in">size</span>();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(cap + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> c = <span class="number">1</span>; c &lt;= cap; c++) {</span><br><span class="line">            <span class="keyword">if</span> (wgt[i - <span class="number">1</span>] &gt; c) {</span><br><span class="line">                dp[i][c] = dp[i - <span class="number">1</span>][c];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                dp[i][c] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][c], dp[i][c - wgt[i - <span class="number">1</span>]] + val[i - <span class="number">1</span>]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n][cap];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç©ºé—´ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">unboundedKnapsackDPComp</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;wgt, vector&lt;<span class="type">int</span>&gt; &amp;val, <span class="type">int</span> cap)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = wgt.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(cap + <span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> c = <span class="number">1</span>; c &lt;= cap; c++) {    <span class="comment">//æ­£åºéå†</span></span><br><span class="line">            <span class="keyword">if</span> (wgt[i - <span class="number">1</span>] &gt; c) {</span><br><span class="line">                dp[c] = dp[c];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                dp[c] = <span class="built_in">max</span>(dp[c], dp[c - wgt[i - <span class="number">1</span>]] + val[i - <span class="number">1</span>]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[cap];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å®Œå…¨èƒŒåŒ…é—®é¢˜å˜ç§"><a href="#å®Œå…¨èƒŒåŒ…é—®é¢˜å˜ç§" class="headerlink" title="å®Œå…¨èƒŒåŒ…é—®é¢˜å˜ç§"></a>å®Œå…¨èƒŒåŒ…é—®é¢˜å˜ç§</h2><h3 id="é›¶é’±å…‘æ¢é—®é¢˜-1"><a href="#é›¶é’±å…‘æ¢é—®é¢˜-1" class="headerlink" title="é›¶é’±å…‘æ¢é—®é¢˜ 1"></a>é›¶é’±å…‘æ¢é—®é¢˜ 1</h3><blockquote>
<p>[!question]<br>ç»™å®š &nbsp;n&nbsp; ç§ç¡¬å¸ï¼Œç¬¬ &nbsp;i&nbsp; ç§ç¡¬å¸çš„é¢å€¼ä¸º &nbsp;coins [i âˆ’ 1]&nbsp;ï¼Œç›®æ ‡é‡‘é¢ä¸º &nbsp;amt&nbsp;ï¼Œ<strong>æ¯ç§ç¡¬å¸å¯ä»¥é‡å¤é€‰å–</strong>ï¼Œé—®èƒ½å¤Ÿå‡‘å‡ºç›®æ ‡é‡‘é¢çš„æœ€å°‘ç¡¬å¸æ•°é‡ã€‚å¦‚æœæ— æ³•å‡‘å‡ºç›®æ ‡é‡‘é¢ï¼Œåˆ™è¿”å› &nbsp;âˆ’1&nbsp;ã€‚</p>
</blockquote>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">coinChangeDP</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;coins, <span class="type">int</span> amt)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = coins.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> MAX = amt + <span class="number">1</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(amt + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> a = <span class="number">1</span>; a &lt;= amt; a++) {</span><br><span class="line">        dp[<span class="number">0</span>][a] = MAX;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> a = <span class="number">1</span>; a &lt;= amt; a++) {</span><br><span class="line">            <span class="keyword">if</span> (coins[i - <span class="number">1</span>] &gt; a) {</span><br><span class="line">                dp[i][a] = dp[i - <span class="number">1</span>][a];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                dp[i][a] = <span class="built_in">min</span>(dp[i - <span class="number">1</span>][a], dp[i][a - coins[i - <span class="number">1</span>]] + <span class="number">1</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n][amt] != MAX ? dp[n][amt] : <span class="number">-1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç©ºé—´ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">coinChangeDPComp</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;coins, <span class="type">int</span> amt)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = coins.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> MAX = amt + <span class="number">1</span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(amt + <span class="number">1</span>, MAX)</span></span>;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> a = <span class="number">1</span>; a &lt;= amt; a++) {</span><br><span class="line">            <span class="keyword">if</span> (coins[i - <span class="number">1</span>] &gt; a) {</span><br><span class="line">                dp[a] = dp[a];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                dp[a] = <span class="built_in">min</span>(dp[a], dp[a - coins[i - <span class="number">1</span>]] + <span class="number">1</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[amt] != MAX ? dp[amt] : <span class="number">-1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="é›¶é’±å…‘æ¢é—®é¢˜-2"><a href="#é›¶é’±å…‘æ¢é—®é¢˜-2" class="headerlink" title="é›¶é’±å…‘æ¢é—®é¢˜ 2"></a>é›¶é’±å…‘æ¢é—®é¢˜ 2</h3><blockquote>
<p>[!question]<br>ç»™å®š &nbsp;n&nbsp; ç§ç¡¬å¸ï¼Œç¬¬ &nbsp;i&nbsp; ç§ç¡¬å¸çš„é¢å€¼ä¸º &nbsp;coins [i âˆ’ 1]&nbsp;ï¼Œç›®æ ‡é‡‘é¢ä¸º &nbsp;amt&nbsp;ï¼Œæ¯ç§ç¡¬å¸å¯ä»¥é‡å¤é€‰å–ï¼Œé—®å‡‘å‡ºç›®æ ‡é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°é‡ã€‚</p>
</blockquote>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">coinChangeIIDP</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;coins, <span class="type">int</span> amt)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = coins.<span class="built_in">size</span>();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(amt + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; i++) {</span><br><span class="line">        dp[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> a = <span class="number">1</span>; a &lt;= amt; a++) {</span><br><span class="line">            <span class="keyword">if</span> (coins[i - <span class="number">1</span>] &gt; a) {</span><br><span class="line">                dp[i][a] = dp[i - <span class="number">1</span>][a];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                dp[i][a] = dp[i - <span class="number">1</span>][a] + dp[i][a - coins[i - <span class="number">1</span>]];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n][amt];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç©ºé—´ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">coinChangeIIDPComp</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;coins, <span class="type">int</span> amt)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = coins.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(amt + <span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> a = <span class="number">1</span>; a &lt;= amt; a++) {</span><br><span class="line">            <span class="keyword">if</span> (coins[i - <span class="number">1</span>] &gt; a) {</span><br><span class="line">                dp[a] = dp[a];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                dp[a] = dp[a] + dp[a - coins[i - <span class="number">1</span>]];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[amt];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ç¼–è¾‘è·ç¦»é—®é¢˜"><a href="#ç¼–è¾‘è·ç¦»é—®é¢˜" class="headerlink" title="ç¼–è¾‘è·ç¦»é—®é¢˜"></a>ç¼–è¾‘è·ç¦»é—®é¢˜</h2><blockquote>
<p>[!question]<br>è¾“å…¥ä¸¤ä¸ªå­—ç¬¦ä¸² &nbsp;s&nbsp; å’Œ &nbsp;t&nbsp;ï¼Œè¿”å›å°† &nbsp;s&nbsp; è½¬æ¢ä¸º &nbsp;t&nbsp; æ‰€éœ€çš„æœ€å°‘ç¼–è¾‘æ­¥æ•°ã€‚<br>ä½ å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è¿›è¡Œä¸‰ç§ç¼–è¾‘æ“ä½œï¼šæ’å…¥ä¸€ä¸ªå­—ç¬¦ã€åˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€å°†å­—ç¬¦æ›¿æ¢ä¸ºä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">editDistanceDP</span><span class="params">(string s, string t)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">length</span>(), m = t.<span class="built_in">length</span>();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        dp[i][<span class="number">0</span>] = i;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) {</span><br><span class="line">        dp[<span class="number">0</span>][j] = j;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) {</span><br><span class="line">            <span class="keyword">if</span> (s[i - <span class="number">1</span>] == t[j - <span class="number">1</span>]) {</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                dp[i][j] = <span class="built_in">min</span>(<span class="built_in">min</span>(dp[i][j - <span class="number">1</span>], dp[i - <span class="number">1</span>][j]), dp[i - <span class="number">1</span>][j - <span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[n][m];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç©ºé—´ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">editDistanceDPComp</span><span class="params">(string s, string t)</span> </span>{</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">length</span>(), m = t.<span class="built_in">length</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(m + <span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) {</span><br><span class="line">        dp[j] = j;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="type">int</span> leftup = dp[<span class="number">0</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; j++) {</span><br><span class="line">            <span class="type">int</span> temp = dp[j];</span><br><span class="line">            <span class="keyword">if</span> (s[i - <span class="number">1</span>] == t[j - <span class="number">1</span>]) {</span><br><span class="line">                dp[j] = leftup;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                dp[j] = <span class="built_in">min</span>(<span class="built_in">min</span>(dp[j - <span class="number">1</span>], dp[j]), leftup) + <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">            leftup = temp;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> dp[m];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>DP</tag>
        <tag>èƒŒåŒ…é—®é¢˜</tag>
        <tag>ç¼–è¾‘è·ç¦»</tag>
      </tags>
  </entry>
  <entry>
    <title>fusc å‡½æ•°ä¸å°¾é€’å½’ä¼˜åŒ–</title>
    <url>/2024/07/07/fusc-%E5%B0%BE%E9%80%92%E5%BD%92%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h1 id="codewars-fusc-å‡½æ•°"><a href="#codewars-fusc-å‡½æ•°" class="headerlink" title="codewars-fusc å‡½æ•°"></a>codewars-fusc å‡½æ•°</h1><p><a href="https://www.codewars.com/kata/the-fusc-function-part-2">codewars ä¼ é€é—¨</a></p>
<h2 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># fuscå‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</span><br><span class="line">fusc(0) = 0</span><br><span class="line">fusc(1) = 1</span><br><span class="line">fusc(2n) = fusc(n)</span><br><span class="line">fusc(2n + 1) = fusc(n) + fusc(n + 1)</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¿™é‡Œä½ éœ€è¦è€ƒè™‘æ ˆæº¢å‡ºå’Œè¶…æ—¶é—®é¢˜ï¼Œå› ä¸ºæµ‹è¯•é›†æ˜¯å¤§æ•°ã€‚<br>åœ¨é¢˜ç›®æè¿°ä¸­ï¼Œç»™å‡ºäº† fib å‡½æ•°çš„ä¼˜åŒ–æ–¹æ³•ä»¥ä¾›å‚è€ƒï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Fibonacciæ•°å®šä¹‰å¦‚ä¸‹ï¼š</span><br><span class="line">fib(0) = 1</span><br><span class="line">fib(1) = 1</span><br><span class="line">fib(n) = fib(n - 1) + fib(n - 2), if n &gt; 1       (1)</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸€æ­¥å°±æ˜¯å…ˆå°è¯•å¹¶æ‰¾åˆ°ä¸€ä¸ªå°¾é€’å½’å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ç­‰å¼ (1) åšå¤„ç†ï¼Œä½¿å¾—ç­‰å¼ (1) ä¸¤è¾¹å…·æœ‰ç›¸åŒå½¢å¼ï¼Œç°åœ¨ï¼Œç­‰å¼å³è¾¹æœ‰ä¸¤é¡¹ï¼Œè€Œå·¦è¾¹åªæœ‰ä¸€é¡¹ï¼Œæ‰€ä»¥å®¹æ˜“æƒ³åˆ°çš„å°è¯•æ˜¯æŠŠå·¦è¾¹ä¹Ÿå˜æˆä¸¤é¡¹ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">fib(n) + fib(n - 1) = 2 * fib(n - 1) + fib(n - 2)      (2)</span><br></pre></td></tr></tbody></table></figure>

<p>ç­‰å¼ (2) çœ‹èµ·æ¥æ˜¯é‚£ä¹ˆä¸€å›äº‹äº†ï¼Œä½†æˆ‘ä»¬è¦åšçš„æ˜¯æŠ½è±¡å‡ºå°¾é€’å½’å®šä¹‰ï¼Œç­‰å¼ä¸­ç³»æ•°éƒ½ä¸ºå¸¸æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä» (1) å¼å¼€å§‹å°±å°†ç³»æ•°å˜é‡åŒ–ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">a * fib(n) = a * fib(n - 1) + a * fib(n - 2)</span><br><span class="line"># æ¥ç€ä¸¤è¾¹åŠ ä¸Šb * fib(n - 1)</span><br><span class="line">a * fib(n) + b * fib(n - 1) = (a + b) * fib(n - 1) + a * fib(n - 2)   (3)</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨ç­‰å¼ (3) ä¸¤è¾¹å·²æœ‰ç›¸åŒçš„å½¢å¼ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰<br><code>F(a, b, n) = a * fib(n) + b * fib(n - 1)</code><br>é‚£ä¹ˆç­‰å¼ (3) å°±å¯è½¬æ¢å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">F(a, b, n) = F(a + b, a, n - 1)</span><br></pre></td></tr></tbody></table></figure>

<p>é‚£ä¹ˆè¿™ä¸ªå®šä¹‰è¿è¡Œåˆ°ä»€ä¹ˆæ—¶å€™ç»“æŸå‘¢ï¼Ÿå› ä¸ºå‰é¢ fib å…¬å¼å®šä¹‰åœ¨ <code>n &gt; 1</code> ï¼Œæ‰€ä»¥åœ¨ <code>n == 1</code> æ—¶åœæ­¢è¿è¡Œï¼Œé‚£æ—¶æœ‰</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">F(a, b, 1) = a * fib(1) + b * fib(0) = a + b          æœ«</span><br></pre></td></tr></tbody></table></figure>

<p>åŒæ—¶æ ¹æ® F çš„å®šä¹‰æˆ‘ä»¬å¯ä»¥å¾—åˆ° fib (n) åœ¨ F ä¸Šçš„å®šä¹‰</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">fib(n) = F(1, 0, n)                                   åˆ</span><br></pre></td></tr></tbody></table></figure>

<p>ç»¼ä¸Šæ‰€è¿°ï¼Œè½¬æ¢æˆä»£ç å³æ˜¯ï¼š</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">F</span>(<span class="params">a, b, n</span>):</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span> <span class="keyword">or</span> n == <span class="number">0</span>: <span class="keyword">return</span> a + b</span><br><span class="line">        <span class="keyword">return</span> F(a + b, a, n - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> F(<span class="number">1</span>, <span class="number">0</span>, n)</span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹äºæŸäº›æ”¯æŒå°¾é€’å½’ä¼˜åŒ–çš„è¯­è¨€æ¥è¯´ï¼Œåšåˆ°è¿™é‡Œå°±ç»“æŸäº†<br>Python è¯­è¨€æœ¬èº«å¹¶ä¸æ”¯æŒå°¾é€’å½’ä¼˜åŒ–ï¼Œå› æ­¤éœ€è¦è½¬æ¢æˆè¿­ä»£å½¢å¼</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">n</span>):</span><br><span class="line">    a, b = <span class="number">1</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">1</span>:</span><br><span class="line">        a, b, n = a + b, a, n - <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br></pre></td></tr></tbody></table></figure>

<p>åˆ°è¿™é‡Œçš„ä»£ç æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯æ„Ÿè§‰æ€»æ˜¯æœ‰ç‚¹ä¸å¤ªå¯¹ï¼Œæ‰€ä»¥å»ºè®®è¿˜æ˜¯çœ‹ codewar é‡Œé¢çš„ description å§ï¼Œå®ƒæ˜¯ <code>fib(n + 2) = fib(n) + fib(n + 1), if n + 2 &gt; 1</code> å®šä¹‰çš„ï¼Œè¿™é‡Œçš„ <code>n &gt;= 0</code> æ›´ç›´è§‚ã€‚</p>
<h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><p>æœ‰äº†ä¸Šé¢çš„ fib ä¾‹å­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰ç…§åŒæ ·çš„æ­¥éª¤è®¾è®¡ fusc å‡½æ•°çš„å°¾é€’å½’ä¼˜åŒ–</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">fusc(0) = 0</span><br><span class="line">fusc(1) = 1</span><br><span class="line">fusc(2n) = fusc(n)</span><br><span class="line">fusc(2n + 1) = fusc(n) + fusc(n + 1)</span><br></pre></td></tr></tbody></table></figure>

<p>ä»ä¸Šé¢å¼å­å¯ä»¥è§‚å¯Ÿåˆ°æ˜¯åˆ†å¥‡å¶çš„ï¼Œæ‰€ä»¥åœ¨æ¨å¯¼ä¼˜åŒ–å¼å­æ—¶ä¹Ÿè¦åˆ†å¥‡å¶ã€‚</p>
<ul>
<li>å¶æ•°<br>ä¸ºäº†ç»Ÿä¸€ä¸€ä¸‹ï¼Œåœ¨ç³»æ•°æ–¹é¢æˆ‘é€‰æ‹© a åœ¨å‰é¢ï¼Œb åœ¨åé¢<br>æŒ‰ç…§ä¸Šé¢ä¾‹å­ï¼Œç¬¬ä¸€æ­¥æ˜¯ç³»æ•°æŠ½è±¡ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">b * fusc(2n + 1) = b * fusc(n) + b * fusc(n + 1)</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒæ­¥æ˜¯æ ¼å¼ç»Ÿä¸€ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">a * fusc(2n) + b * fusc(2n + 1) = b * fusc(n) + b * fusc(n + 1) + a * fusc(2n)</span><br><span class="line"># å› ä¸º fusc(2n) = fusc(n)ï¼Œæ‰€ä»¥ä¸Šå¼ç­‰äºï¼š</span><br><span class="line">a * fusc(2n) + b * fusc(2n + 1) = (a + b) * fusc(n) + b * fusc(n + 1)       (1)</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰æ­¥æ˜¯å®šä¹‰æŠ½è±¡å‡½æ•° Fï¼š<br><code>F(a, b, n) = a * fib(n) + b * fib(n + 1)</code><br>ç¬¬å››æ­¥æ˜¯å›ä»£ (1) å¼ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">F(a, b, 2n) = F(a + b, b, n)</span><br><span class="line"># æ‰€ä»¥å½“næ˜¯å¶æ•°æ—¶ï¼Œæœ‰ï¼š</span><br><span class="line">F(a, b, n) = F(a + b, b, n // 2)</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>å¥‡æ•°<br>åœ¨çœ‹ä¹‹å‰å¯ä»¥å…ˆè‡ªå·±æ¨ä¸€ä¸‹å¥‡æ•°çš„ï¼Œå†çœ‹æˆ‘çš„æƒ³æ³•ã€‚<br>åŒæ ·çš„ï¼Œè¿™é‡Œå°±ç®€å†™äº†ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">1    a * fusc(2n + 1) = a * fusc(n) + a * fusc(n + 1)</span><br><span class="line"></span><br><span class="line">2    a * fusc(2n + 1) + b * fusc(2n + 2) = a * fusc(n) + (a + b) * fusc(n + 1)</span><br><span class="line">     # 2å¼è¿ç”¨äº† fusc(2n + 2) = fusc(n + 1)</span><br><span class="line"></span><br><span class="line">3    F(a, b, n) = a * fusc(n) + b * fusc(n + 1)</span><br><span class="line">     # è¿™é‡Œè¿˜æ˜¯ä¸€æ ·çš„å®šä¹‰ï¼Œè¿™å°±æ˜¯å‰é¢ä¸ºä»€ä¹ˆæˆ‘è¦è¯´(åœ¨ç³»æ•°æ–¹é¢æˆ‘é€‰æ‹©aåœ¨å‰é¢ï¼Œbåœ¨åé¢)çš„åŸå› äº†</span><br><span class="line"></span><br><span class="line">4    F(a, b, 2n + 1) = F(a, a + b, n)</span><br><span class="line">     # æ‰€ä»¥å½“næ˜¯å¥‡æ•°æ—¶ï¼Œæœ‰ï¼š</span><br><span class="line">     F(a, b, n) = F(a, a + b, (n - 1) // 2)</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>å®šåˆæœ«çŠ¶æ€<br><code>fusc(n) = F(1, 0, n)</code> åˆçŠ¶æ€è·Ÿä¸Šé¢ä¾‹å­ä¸€æ ·<br>ç»¼ä¸Šï¼Œè½¬æ¢æˆä»£ç ä¸ºï¼š</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">F</span>(<span class="params">a, b, n</span>):</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span> <span class="keyword">or</span> n == <span class="number">0</span>: <span class="keyword">return</span> n</span><br><span class="line">        <span class="keyword">if</span> n % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">		    <span class="keyword">return</span> F(a + b, b, n // <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">	        <span class="keyword">return</span> F(a, a + b, (n - <span class="number">1</span>) // <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> F(<span class="number">1</span>, <span class="number">0</span>, n)</span><br></pre></td></tr></tbody></table></figure>

<p>å†è½¬æ¢æˆè¿­ä»£å½¢å¼ï¼š</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fusc</span>(<span class="params">n</span>):</span><br><span class="line">    a, b = <span class="number">1</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> n % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">            a, b, n = a + b, b, n // <span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            a, b, n = a, a + b, (n - <span class="number">1</span>) // <span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> a + b <span class="keyword">if</span> n == <span class="number">1</span> <span class="keyword">else</span> b</span><br></pre></td></tr></tbody></table></figure>

<p>ä½†è¿™æ®µä»£ç åœ¨ commit æ—¶è¿˜æ˜¯å‡ºç°è¶…æ—¶æƒ…å†µï¼Œæ‰€ä»¥è¿˜å¾—å†ä¼˜åŒ–ï¼Œæ¯”å¦‚ä½è¿ç®—</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fusc</span>(<span class="params">n</span>):</span><br><span class="line">    a, b = <span class="number">1</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> n &amp; <span class="number">1</span>:</span><br><span class="line">            a, b, n = a, a + b, (n - <span class="number">1</span>) &gt;&gt; <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            a, b, n = a + b, b, n &gt;&gt; <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> a + b <span class="keyword">if</span> n == <span class="number">1</span> <span class="keyword">else</span> b</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ®µä»£ç å°±æ²¡æœ‰è¶…æ—¶äº†ï¼Œæäº¤åå¯ä»¥æŸ¥çœ‹åˆ«äººä»£ç ã€‚<br>åœ¨è¿™é‡Œè´´ä¸€ä¸ªåªæœ‰ä¸€è¡Œçš„ç­”æ¡ˆï¼Œé‡‡ç”¨ lambda<br><img src="https://telegraph-image-eja.pages.dev/file/966c1d42f69a041bcbcfb.png" alt="solution"></p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">fusc=<span class="keyword">lambda</span> n,a=<span class="number">1</span>,b=<span class="number">0</span>:[i==<span class="string">'1'</span><span class="keyword">and</span>(b:=b+a)<span class="keyword">or</span>(a:=a+b) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">bin</span>(n)[<span class="number">2</span>:]] <span class="keyword">and</span> b</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>codewars</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>å°¾é€’å½’</tag>
        <tag>åˆ·é¢˜</tag>
        <tag>codewars</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‰æ˜æ•° (Hamming Numbers)</title>
    <url>/2024/05/27/hamming-numbers-%E6%B1%89%E6%98%8E%E6%95%B0/</url>
    <content><![CDATA[<h1 id="codewars-æ±‰æ˜æ•°"><a href="#codewars-æ±‰æ˜æ•°" class="headerlink" title="codewars-æ±‰æ˜æ•°"></a>codewars - æ±‰æ˜æ•°</h1><p><a href="https://www.codewars.com/kata/526d84b98f428f14a60008da/">codewars ä¼ é€é—¨</a></p>
<h2 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h2><p>æ±‰æ˜æ•°æ˜¯å½¢å¦‚ $2^i3^j5^k$ çš„æ­£æ•´æ•°ï¼Œ<code>i, j, k</code> æ˜¯éè´Ÿæ•´æ•°ï¼Œé¢˜ç›®è¦æ±‚å†™ä¸€ä¸ªå‡½æ•°è®¡ç®—å‡ºç¬¬ n ä¸ªæœ€å°æ±‰æ˜æ•°<br>ç‰¹åˆ«åœ°ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªæœ€å°æ±‰æ˜æ•°æ˜¯ $1 = 2^03^05^0$</li>
<li> ç¬¬äºŒä¸ªæœ€å°æ±‰æ˜æ•°æ˜¯ $2 = 2^13^05^0$</li>
<li> ç¬¬ä¸‰ä¸ªæœ€å°æ±‰æ˜æ•°æ˜¯ $3 = 2^03^15^0$</li>
<li> ç¬¬å››ä¸ªæœ€å°æ±‰æ˜æ•°æ˜¯ $4 = 2^23^05^0$</li>
<li> ç¬¬äº”ä¸ªæœ€å°æ±‰æ˜æ•°æ˜¯ $5 = 2^03^05^1$</li>
<li> ç¬¬å…­ä¸ªæœ€å°æ±‰æ˜æ•°æ˜¯ $6 = 2^13^15^0$<br>é¦–å…ˆå®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯æš´åŠ›è§£æ³•å’¯ï¼Œå¥—ä¸‰å±‚å¾ªç¯ï¼ŒåŒæ—¶ä¹Ÿå®¹æ˜“æƒ³åˆ°å¿…å®šè¶…æ—¶ï¼Œå› æ­¤éœ€è¦è®¾è®¡ã€‚</li>
</ul>
<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ç¬¬ä¸€ä¸ªé—®é¢˜æˆ‘è§‰å¾—å°±æ˜¯è¦è€ƒè™‘æ±‰æ˜æ•°æ˜¯ç”¨æ•°ç»„å­˜ç€æ¯ä¸€ä¸ªæœ€å°æ±‰æ˜æ•°ï¼Œè¿˜æ˜¯ç”¨ä¸€ä¸ªå˜é‡å­˜ç€ç„¶åä¸€ç›´æ›´æ–°å˜é‡çš„å€¼ã€‚é€šè¿‡è§‚å¯Ÿå‘ç°æ¯ä¸€ä¸ªæœ€å°æ±‰æ˜æ•°éƒ½æ˜¯ç”±å‰é¢çš„æŸä¸€ä¸ªæœ€å°æ±‰æ˜æ•°è¿›è¡Œä¹˜ 2 æˆ–ä¹˜ 3 æˆ–ä¹˜ 5 å¾—åˆ°çš„ï¼Œå› è€Œå¯ä»¥çŸ¥é“çš„æ˜¯æ¯ä¸€ä¸ªæœ€å°æ±‰æ˜æ•°éƒ½å¾—å­˜èµ·æ¥ï¼Œæ’é™¤äº†åªç”¨ä¸€ä¸ªå˜é‡å­˜å‚¨çš„å¯èƒ½ã€‚</p>
<p>ç°åœ¨å°±å¾—æƒ³å¦‚ä½•çŸ¥é“è¿›è¡Œä»€ä¹ˆæ“ä½œæ‰èƒ½åšåˆ°æ¯ä¸€æ¬¡éƒ½æ˜¯æœ€å°çš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆå‡è®¾ç°åœ¨å‰é¢å·²ç»æœ‰è‹¥å¹²ä¸ªæœ€å°æ±‰æ˜æ•°å­˜ç€äº†ï¼Œç°åœ¨è¦æ±‚ç¬¬ n ä¸ªï¼Œè¿™ç¬¬ n ä¸ªæœ€å°æ±‰æ˜æ•°æ˜¯ç”± 2 æˆ– 3 æˆ– 5 ä¹˜ä»¥å‰é¢æŸä¸€ä¸ªæœ€å°æ±‰æ˜æ•°å¾—åˆ°ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªæœªçŸ¥çš„é‡ï¼Œå› æ­¤æˆ‘ä»¬å…ˆå‡è®¾æŸä¸ªé‡æ˜¯å®šçš„ï¼Œæ¯”å¦‚å‡è®¾è¦è¿›è¡Œçš„æ˜¯ä¹˜ 2 æ“ä½œï¼Œæ¥ä¸‹æ¥å°±è¦ä»å‰é¢çš„æœ€å°æ±‰æ˜æ•°ä¸­æ‰¾ä¸€ä¸ªä¸ä¹‹ç›¸ä¹˜ï¼Œä½¿å…¶ä¹˜ç§¯æœ€å°ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬è¦æ‰¾çš„é‚£ä¸ªæœ€å°æ±‰æ˜æ•°è‚¯å®šæ˜¯è¶Šå‰è¶Šå¥½ï¼Œæ‰€ä»¥å°±å¼•å‡ºå…³é”®é—®é¢˜äº†ï¼Œæˆ‘ä»¬å¾—çŸ¥é“å‰é¢çš„æœ€å°æ±‰æ˜æ•°æœ‰æ²¡æœ‰è¢«ç”¨è¿‡ï¼Œæˆ–è€…è¯´æœ‰æ²¡æœ‰è¢«ä¹˜ 2 è¿™ä¸ªæ“ä½œç”¨è¿‡ï¼Œè¢«ç”¨è¿‡çš„è¯å°±ä»£è¡¨ç€åœ¨ç¬¬ n ä¸ªå‰é¢è‚¯å®šæ˜¯æœ‰ä¸€ä¸ªæœ€å°æ±‰æ˜æ•°æ˜¯å¯¹å…¶è¿›è¡Œä¹˜ 2 æ“ä½œå¾—åˆ°çš„ï¼Œå› æ­¤ç¬¬ n ä¸ªå°±å¾—åœ¨åé¢æ‰¾ç¬¬ä¸€ä¸ªæ²¡æœ‰è¢«ç”¨è¿‡çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸œè¥¿å»è®°å½•ç”¨è¿‡çš„æ±‰æ˜æ•°ï¼Œä¸éš¾å‘ç°åªç”¨ä¸€ä¸ªæ ‡è®°å°±å¤Ÿäº†ï¼Œé€šè¿‡å³ç§»æ¥æ›´æ–°æ ‡è®°ï¼Œåœ¨æ ‡è®°å‰é¢çš„æœ€å°æ±‰æ˜æ•°éƒ½æ˜¯è¢«ç”¨è¿‡çš„ã€‚å› ä¸ºå‰é¢å‡è®¾çš„æ˜¯ä¹˜ 2 æ“ä½œï¼Œé‚£ä¹ˆä¹˜ 3 æˆ–ä¹˜ 5 æ˜¯åŒæ ·çš„æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦ä¸‰ä¸ªæ ‡è®°å»è®°å½•ï¼Œè¿™é‡ŒæŠŠæ ‡è®°è®°ä¸º <code>i, j, k</code> åˆ†åˆ«ä»£è¡¨ç€ 2ï¼Œ3ï¼Œ5 ï¼Œè¿™é‡Œçš„æ ‡è®°å…¶å®å°±æ˜¯æœ€å°æ±‰æ˜æ•°æ•°ç»„çš„ç´¢å¼•ï¼Œæ³¨æ„æ­¤ <code>ijk</code> è·Ÿé¢˜ç›®å®šä¹‰çš„ <code>ijk</code> ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œåˆ‡å‹¿æ··æ·†ã€‚</p>
<p>ä¸‹ä¸€æ­¥å°±å¾—è€ƒè™‘ä¸€ä¸‹åˆå§‹çŠ¶æ€äº†ï¼Œå­˜å‚¨æœ€å°æ±‰æ˜æ•°çš„æ•°ç»„åˆå§‹åŒ–é¦–å…ˆå¾—æä¸ªæ•°å­—å­˜è¿›å»å§ï¼Œé‚£ä¹ˆæ˜¯å­˜ 0 å¥½å‘¢è¿˜æ˜¯æŠŠç¬¬ä¸€ä¸ªæœ€å°æ±‰æ˜æ•°ä¸¢è¿›å»å‘¢ã€‚å‡è®¾å…ˆå­˜ä¸ª 0ï¼Œé‚£ä¹ˆ <code>i, j, k</code> åˆå§‹åŒ–éƒ½å¾—æ˜¯ 0ï¼Œæ¯•ç«Ÿæ•°ç»„é‡Œæš‚æ—¶åªæœ‰ 0 è¿™ä¸ªç´¢å¼•æœ‰æ•°å­—ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªæœ€å°æ±‰æ˜æ•°æŒ‰ä¸Šé¢çš„æ“ä½œçš„è¯å°±æ±‚ä¸å‡ºæ¥äº†ï¼Œå› ä¸º 0 ä¹˜ä»»ä½•æ•°éƒ½æ˜¯ 0ã€‚å‡è®¾å…ˆå­˜ä¸ª 1ï¼Œç„¶åä»ç¬¬äºŒä¸ªæœ€å°æ±‰æ˜æ•°å¼€å§‹æŒ‰ç…§ä¸Šé¢åˆ†æçš„æ“ä½œè¿›è¡Œï¼Œ2,3,5 åˆ†åˆ«ä¹˜ 1ï¼Œå¾—å‡º 2 æœ€å°ï¼Œæ¥ç€æŠŠ 2 åŠ åœ¨æœ€å°æ±‰æ˜æ•°æ•°ç»„ä¸­ï¼Œç„¶åè¿˜å¾—æ›´æ–° 2 æ‰€å¯¹åº”çš„ i æ ‡è®°å³ç§»ä¸€ä¸ªå•ä½ï¼Œè¿™æ—¶ <code>i == 1</code>ï¼Œæ­¤æ—¶ i æŒ‡å‘çš„æ˜¯æ•°ç»„ä¸­ç´¢å¼•ä¸º 1 çš„æ•°ï¼Œå³ 2ï¼Œå…¶å®ƒä¸¤ä¸ªæ ‡è®°è¿˜æ˜¯ 0ï¼Œä¸ºäº†éªŒè¯å¹¶ç†è§£ï¼Œå†ä¸¾ä¸¤ä¸ªä¾‹å­æ¨æ¼”ã€‚ä¸‹é¢åˆ°ç¬¬ä¸‰ä¸ªæœ€å°æ±‰æ˜æ•°ï¼Œä¸ºäº†æ–¹ä¾¿å™è¿°ï¼Œæˆ‘æŠŠæ•°ç»„å®é™…åŒ–ä¸º numsï¼Œé‚£ä¹ˆç¬¬ä¸‰ä¸ªæœ€å°æ±‰æ˜æ•°å°±è¦åœ¨ $nums [i] * 2=4$ ï¼Œ$nums [j]*3=3$ï¼Œ$nums [k]*5=5$ ä¸­çš„æœ€å°å€¼å–å¾—ï¼Œå³æ˜¯ä¸­é—´çš„ 3ï¼ŒæŠŠå®ƒåŠ å…¥åˆ° nums ä¸­ï¼Œå¹¶æŠŠ j å³ç§»ä¸€ä½ï¼Œç°åœ¨ i å’Œ j éƒ½æ˜¯ 1ï¼Œk æ˜¯ 0,ã€‚æ¥ç€ç¬¬å››ä¸ªæœ€å°æ±‰æ˜æ•°å°±è¦ä» $nums [i] * 2=4$ ï¼Œ$nums [j]*3=6$ï¼Œ$nums [k]*5=5$ ä¸­å–å¾—ï¼Œå³æ˜¯ 4ï¼ŒæŠŠ 4 åŠ å…¥åˆ° numsï¼Œi å†æ¬¡å³ç§»ä¸€ä½ï¼Œåé¢çš„åŒç†ã€‚</p>
<p>å¯èƒ½è¯´çš„è¿˜æ˜¯æœ‰ç‚¹æ¨¡ç³Šï¼Œä¸‹é¢ç”¨ä¸€å¼ å›¾æ¥è¿›è¡Œå…·è±¡åŒ–ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/12bb4c8ae58643b244279.jpg" alt="image"><br>é‚£å°±ç›´æ¥ä¸Šä»£ç </p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">hamming</span>(<span class="params">n</span>):</span><br><span class="line">    i, j, k = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    nums = [<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(nums) &lt; n:</span><br><span class="line">        nums.append(<span class="built_in">min</span>(nums[i]*<span class="number">2</span>, nums[j]*<span class="number">3</span>, nums[k]*<span class="number">5</span>))</span><br><span class="line">        <span class="keyword">if</span> nums[-<span class="number">1</span>] == nums[i]*<span class="number">2</span>: i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> nums[-<span class="number">1</span>] == nums[j]*<span class="number">3</span>: j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> nums[-<span class="number">1</span>] == nums[k]*<span class="number">5</span>: k += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> nums[-<span class="number">1</span>]</span><br></pre></td></tr></tbody></table></figure>

<p>æ²¡æƒ³åˆ°åšå®Œä¸¤é¢˜å°±ç›´æ¥ä» 8kyu åˆ° 6kyu äº†</p>
]]></content>
      <categories>
        <category>codewars</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>åˆ·é¢˜</tag>
        <tag>codewars</tag>
      </tags>
  </entry>
  <entry>
    <title>å•æºæœ€çŸ­è·¯å¾„ (Single-Source Shortest Paths)</title>
    <url>/2024/05/12/%E5%8D%95%E6%BA%90%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84/</url>
    <content><![CDATA[<h1 id="å•æºæœ€çŸ­è·¯å¾„-SSSP"><a href="#å•æºæœ€çŸ­è·¯å¾„-SSSP" class="headerlink" title="å•æºæœ€çŸ­è·¯å¾„(SSSP)"></a>å•æºæœ€çŸ­è·¯å¾„ (SSSP)</h1><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><h3 id="å›¾çš„è¾“å…¥"><a href="#å›¾çš„è¾“å…¥" class="headerlink" title="å›¾çš„è¾“å…¥"></a>å›¾çš„è¾“å…¥</h3><ul>
<li>æ— æƒå›¾: bfs å¯ä»¥æ±‚è§£å…¶æœ€çŸ­è·¯å¾„ï¼Œæ— æƒå›¾å¯ä»¥è§†ä¸ºæ¯æ¡è¾¹çš„æƒé‡éƒ½æ˜¯å•ä½æƒé‡çš„å›¾ã€‚å‰é¢å·²åˆ†äº«è¿‡ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°ï¼Œä¼ é€é—¨ <a href="https://ius7.qzz.io/2024/04/21/Elementary-Graph-Algorithms/">here</a></li>
<li> æœ‰å‘å¸¦æƒå›¾ï¼šä» u åˆ° v çš„æœ€çŸ­è·¯å¾„ä¸ºä»»æ„ä¸€æ¡æ»¡è¶³ $w (p)=Î´(u, v)$ çš„è·¯å¾„ã€‚ç»™å®šå›¾ $G=(V, E)$ï¼Œæ‰¾å‡ºä»æºç‚¹ $s\in V$ åˆ°æ¯ä¸€ä¸ªé¡¶ç‚¹ $v\in V$ çš„ä¸€æ¡æœ€çŸ­è·¯å¾„ã€‚</li>
</ul>
<h3 id="æ¾å¼›-Relaxation"><a href="#æ¾å¼›-Relaxation" class="headerlink" title="æ¾å¼›(Relaxation)"></a>æ¾å¼› (Relaxation)</h3><p>å¯¹äºæ¯ä¸ªé¡¶ç‚¹ vï¼Œéœ€è¦ç»´æŠ¤ä¸€ä¸ªé¡¶ç‚¹å±æ€§ v.d è®°å½•ä» s åˆ° v çš„æœ€çŸ­è·¯å¾„çš„æƒé‡çš„ä¸Šç•Œã€‚v.d è¢«ç§°ä¸ºä» s åˆ° v çš„æœ€çŸ­è·¯å¾„ä¼°è®¡ (shortest-path estimate)ã€‚åˆå§‹åŒ–å¦‚ä¸‹:<br><img src="https://telegraph-image-eja.pages.dev/file/b63a6ef4467d480d1b43f.png" alt="image"><br>æ¾å¼›æ“ä½œå¦‚ä¸‹:<br><img src="https://telegraph-image-eja.pages.dev/file/e75f4fa06dd16a04b677d.png" alt="image"></p>
<blockquote>
<p>å…¶å®å°±æ˜¯åœ¨ç»´æŠ¤ v.d è¿™ä¸ªå±æ€§ï¼Œæµ‹è¯•æ˜¯å¦å¯ä»¥åˆ©ç”¨ u å¯¹ä» s åˆ° v çš„æœ€çŸ­è·¯å¾„ä¼°è®¡è¿›è¡Œæ”¹å–„ ã€‚</p>
</blockquote>
<h3 id="æ— è·¯å¾„æ€§è´¨"><a href="#æ— è·¯å¾„æ€§è´¨" class="headerlink" title="æ— è·¯å¾„æ€§è´¨"></a>æ— è·¯å¾„æ€§è´¨</h3><blockquote>
<p>è‹¥ä» &nbsp;ğ‘ &nbsp; åˆ° &nbsp;ğ‘£&nbsp; ä¸å­˜åœ¨è·¯å¾„ï¼Œåˆ™ $ğ‘£.ğ‘‘=ğ›¿(ğ‘ ,ğ‘£)=âˆ$ã€‚</p>
</blockquote>
<h3 id="ä¸Šç•Œæ€§è´¨"><a href="#ä¸Šç•Œæ€§è´¨" class="headerlink" title="ä¸Šç•Œæ€§è´¨"></a>ä¸Šç•Œæ€§è´¨</h3><blockquote>
<p>å¯¹äºæ‰€æœ‰é¡¶ç‚¹ $ğ‘£âˆˆğ‘‰$ï¼Œæœ‰ $ğ‘£.ğ‘‘â‰¥ğ›¿(ğ‘ ,ğ‘£)$ï¼Œå¹¶ä¸”è¯¥ä¸å˜å¼åœ¨å¯¹ ğº çš„è¾¹è¿›è¡Œä»»æ„é¡ºåºçš„æ¾å¼›è¿‡ç¨‹ä¸­ä¿æŒæˆç«‹ã€‚è€Œä¸”ï¼Œä¸€æ—¦ ğ‘£.ğ‘‘ è¾¾åˆ°å…¶ä¸‹ç•Œ $ğ›¿(ğ‘ ,ğ‘£)$ï¼Œğ‘£.ğ‘‘ ä¸å†æ”¹å˜ã€‚</p>
</blockquote>
<p><strong>Proof</strong></p>
<ul>
<li>base caseï¼šåˆå§‹åŒ–åï¼Œå¯¹äºæ‰€æœ‰ $ğ‘£âˆˆğ‘‰âˆ’{ğ‘ }$ï¼Œæœ‰ $ğ‘£.ğ‘‘=âˆ$ï¼Œåˆ™ $ğ‘£.ğ‘‘â‰¥ğ›¿(ğ‘ ,ğ‘£)$ æ˜¾ç„¶æˆç«‹ï¼Œè€Œå¯¹äº ğ‘ ï¼Œæœ‰ $ğ‘ .ğ‘‘=0â‰¥ğ›¿(ğ‘ ,ğ‘ )$ã€‚</li>
<li>inductive hypothesisï¼šåœ¨ç®—æ³•çš„æ¯æ¬¡è¿­ä»£ä¹‹å‰ï¼Œå¯¹äºæ‰€æœ‰é¡¶ç‚¹ $x\in V$, æœ‰ $x.d \geq \delta (s, x)$ã€‚</li>
<li>inductive stepï¼šè€ƒè™‘è¾¹ (u, v) çš„æ¾å¼›æ“ä½œï¼Œå”¯ä¸€èƒ½æ”¹å˜çš„åªæœ‰ ğ‘£.ğ‘‘ï¼Œè‹¥å®ƒå‘ç”Ÿæ”¹å˜ï¼Œæœ‰<br>$v.d = u.d + w(u, v)$<br>$\geq \delta(s, u) + w(u, v)$<br>$\ge \delta(s, v)$<br>å› ä¸º $ğ‘£.ğ‘‘â‰¥ğ›¿(ğ‘ ,ğ‘£)$ ä¸”æ¾å¼›æ“ä½œä¸ä¼šå¢å¤§ ğ‘£.ğ‘‘ï¼Œæ‰€ä»¥ä¸€æ—¦ ğ‘£.ğ‘‘ è¾¾åˆ°å…¶ä¸‹ç•Œ $ğ›¿(ğ‘ ,ğ‘£)$ï¼Œğ‘£.ğ‘‘ ä¸å†æ”¹å˜ã€‚</li>
</ul>
<h3 id="æ”¶æ•›æ€§è´¨"><a href="#æ”¶æ•›æ€§è´¨" class="headerlink" title="æ”¶æ•›æ€§è´¨"></a>æ”¶æ•›æ€§è´¨</h3><blockquote>
<p>è‹¥å¯¹äºæŸäº›é¡¶ç‚¹ $ğ‘¢,ğ‘£âˆˆğ‘‰$ï¼Œ$ğ‘ â‡ğ‘¢â†’ğ‘£$ ä¸º ğº ä¸­çš„ä¸€æ¡æœ€çŸ­è·¯å¾„ï¼Œåœ¨å¯¹ (ğ‘¢, ğ‘£) è¿›è¡Œæ¾å¼›ä¹‹å‰çš„ä»»æ„æ—¶é—´æœ‰ $ğ‘¢.ğ‘‘=ğ›¿(ğ‘ ,ğ‘¢)$ï¼Œåˆ™åœ¨å¯¹ (ğ‘¢, ğ‘£) è¿›è¡Œæ¾å¼›ä¹‹åçš„æ—¶é—´æœ‰ $ğ‘£.ğ‘‘=ğ›¿(ğ‘ ,ğ‘£)$ã€‚</p>
</blockquote>
<p>æ ¹æ®ä¸Šç•Œæ€§è´¨ï¼Œè‹¥æ¾å¼›è¾¹ (ğ‘¢, ğ‘£) å‰çš„æŸä¸ªæ—¶åˆ»å·²ç»æœ‰ $ğ‘¢.ğ‘‘=ğ›¿(ğ‘ ,ğ‘¢)$ï¼Œåˆ™æ­¤åè¯¥ç­‰å¼ä¿æŒæˆç«‹ã€‚å½“è¾¹ (ğ‘¢, ğ‘£) è¢«æ¾å¼›åï¼Œæœ‰<br>$v.d \leq u.d + w(u, v)$<br>$= \delta(s, u) + w(u, v)$<br>$= \delta(s, v)$<br>åˆæ ¹æ®ä¸Šç•Œæ€§è´¨ï¼Œæœ‰ $ğ‘£.ğ‘‘â‰¥ğ›¿(ğ‘ ,ğ‘£)$ï¼Œæ­¤å $ğ‘£.ğ‘‘=ğ›¿(ğ‘ ,ğ‘£)$ ä¿æŒä¸å˜</p>
<h2 id="Dijkstra-ç®—æ³•"><a href="#Dijkstra-ç®—æ³•" class="headerlink" title="Dijkstra ç®—æ³•"></a>Dijkstra ç®—æ³•</h2><p>ä½ å¯ä»¥æŠŠ Dijkstra ç®—æ³•çœ‹ä½œæ˜¯å°†å¹¿åº¦ä¼˜å…ˆæœç´¢æ¨å¹¿åˆ°åŠ æƒå›¾ã€‚æ³¢ä»æºç‚¹å‘å‡ºï¼Œå½“æ³¢ç¬¬ä¸€æ¬¡åˆ°è¾¾æŸä¸ªé¡¶ç‚¹æ—¶ï¼Œè®°å½•ä»æºç‚¹åˆ°è¯¥é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œæ–°çš„æ³¢ä»è¯¥é¡¶ç‚¹å‘å‡ºï¼Œç›´åˆ°è®°å½•å®Œä»æºç‚¹åˆ°æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚</p>
<blockquote>
<p>$DIJKSTRA(G, w, s)$<br>1 $INITIALIZE-SINGLE-SOURCE (G, s)$ // åˆå§‹åŒ–<br>2 $S = \not 0$ // åˆå§‹åŒ–é¡¶ç‚¹é›†åˆ Sï¼Œè¡¨ç¤ºä» &nbsp;ğ‘ &nbsp; å¯è¾¾çš„æœ€ç»ˆæœ€çŸ­è·ç¦»å·²ç»ç¡®å®šçš„é¡¶ç‚¹çš„é›†åˆã€‚<br>3 $Q = \not 0$ // åˆå§‹åŒ–ä»¥ v.d ä¸º key çš„æœ€å°ä¼˜å…ˆé˜Ÿåˆ—<br>4 for each vertex $u \in G.V$<br>5 $INSERT (Q, u)$ // å°†æ‰€æœ‰é¡¶ç‚¹å…¥é˜Ÿ<br>6 while $Q \not = \not 0$ // åªè¦é˜Ÿåˆ—éç©ºç»§ç»­æ‰§è¡Œï¼Œæ˜“çŸ¥ä¸€å…±æ‰§è¡Œ V æ¬¡ï¼Œè¿‡ç¨‹ä¸­ $Q = V - S$ ä¸å˜<br>7 $u = EXTRACT-MIN (Q)$ // ä» Q ä¸­é€‰æ‹©å…·æœ‰æœ€å°è·¯å¾„ä¼°è®¡çš„é¡¶ç‚¹ ğ‘¢<br>8 $S = S \cup {u}$ // å°† u åŠ å…¥åˆ° S<br>9 for each vertex $v \in G.Adj[u]$<br>10 RELAX (u, v, w) // æ¾å¼›æ‰€æœ‰ä» ğ‘¢ å‘å‡ºçš„è¾¹<br>11 if the call of RELAX decreased v.d<br>12 $DECREASED-KEY (Q, v, v.d)$ // æ›´æ–° Q ä¸­é¡¶ç‚¹æœ€çŸ­è·¯å¾„ä¼°è®¡</p>
</blockquote>
<p>ä¸‹é¢ç»™å‡ºè¿‡ç¨‹ç¤ºä¾‹å›¾ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/69fa37e8cf4862d7e25ba.png" alt="image"></p>
<h3 id="Theorem-Correctness-of-Dijkstraâ€™s-algorithm"><a href="#Theorem-Correctness-of-Dijkstraâ€™s-algorithm" class="headerlink" title="Theorem(Correctness of Dijkstraâ€™s algorithm)"></a>Theorem(Correctness of Dijkstraâ€™s algorithm)</h3><p>ä¸‹é¢é‡‡ç”¨å½’çº³æ³•è¯æ˜ç®—æ³•çš„æ­£ç¡®æ€§ï¼Œæˆ‘ä»¬å°†è¦è¯æ˜åœ¨ 6-12 è¡Œçš„æ¯ä¸€æ¬¡è¿­ä»£å¼€å§‹æ—¶ï¼Œå¯¹äºæ‰€æœ‰é¡¶ç‚¹ $ğ‘£\inğ‘†$ï¼Œæœ‰ $ğ‘£.ğ‘‘=\delta (ğ‘ ,ğ‘£)$ã€‚ç®—æ³•ç»ˆæ­¢æ—¶ï¼Œç”±äº ğ‘† = ğ‘‰ï¼Œå› æ­¤å¯¹äºæ‰€æœ‰é¡¶ç‚¹ $ğ‘£\in ğ‘‰$ï¼Œæœ‰ $ğ‘£.ğ‘‘=\delta (ğ‘ ,ğ‘£)$ã€‚<br><strong>Proof</strong></p>
<ul>
<li>base cases<ul>
<li> å½“ $|ğ‘†|=0$ æ—¶ï¼Œæœ‰ $ğ‘† = âˆ…$ï¼Œæ–­è¨€ä¸ºçœŸã€‚</li>
<li>å½“ $|ğ‘†|=1$ æ—¶ï¼Œæœ‰ $ğ‘†={ğ‘ }$ ä¸” $ğ‘ .ğ‘‘=ğ›¿(ğ‘ ,ğ‘ )=0$ã€‚</li>
</ul>
</li>
<li>inductive hypothesisï¼šå¯¹äºæ‰€æœ‰é¡¶ç‚¹ $ğ‘£\in ğ‘‰$ï¼Œæœ‰ $ğ‘£.ğ‘‘=ğ›¿(ğ‘ ,ğ‘£)$ã€‚<br><img src="https://telegraph-image-eja.pages.dev/file/c7f1800d8c978418f3bde.png" alt="image"></li>
<li>ç®—æ³•æ¯æ¬¡è¿­ä»£æ·»åŠ ä¸€ä¸ªé¡¶ç‚¹ ğ‘¢ åˆ° ğ‘† ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¯æ˜æ“ä½œç»“æŸåæœ‰ $ğ‘¢.ğ‘‘=ğ›¿(ğ‘ ,ğ‘¢)$ã€‚ - è‹¥ä» ğ‘  åˆ° ğ‘¢ ä¸å­˜åœ¨è·¯å¾„ï¼Œåˆ™æ ¹æ®æ— è·¯å¾„æ€§è´¨ï¼Œè¯æ˜å®Œæ¯•ã€‚ - è‹¥ä» ğ‘  åˆ° ğ‘¢ å­˜åœ¨è·¯å¾„ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œè®¾ ğ‘¦ ä¸ºä» ğ‘  åˆ° ğ‘¢ çš„è·¯å¾„ä¸Šçš„ç¬¬ä¸€ä¸ªä¸åœ¨ ğ‘† ä¸­çš„é¡¶ç‚¹ï¼Œä»¤ $ğ‘¥âˆˆğ‘†$ ä¸º ğ‘¦ åœ¨è¯¥è·¯å¾„ä¸Šçš„å‰é©±ï¼Œå½“ç„¶å¯ä»¥å­˜åœ¨ $ğ‘¦=ğ‘¢$ æˆ–è€… $ğ‘¥=ğ‘ $ çš„æƒ…å†µï¼Œç”±äºåœ¨è¯¥è·¯å¾„ä¸Š ğ‘¦ ä¸ä¼šæ™šäº ğ‘¢ å‡ºç°ä¸”æ‰€æœ‰è¾¹çš„æƒé‡éè´Ÿï¼Œæœ‰ $ğ›¿(ğ‘ ,ğ‘¦)â‰¤ğ›¿(ğ‘ ,ğ‘¢)$ï¼Œåˆç”±äº EXTRACT-MIN è¿”å›äº† ğ‘‰âˆ’ğ‘† ä¸­ ğ‘‘ å€¼æœ€å°çš„é¡¶ç‚¹ï¼Œæœ‰ $ğ‘¢.ğ‘‘â‰¤ğ‘¦.ğ‘‘$ï¼Œæ ¹æ®ä¸Šç•Œæ€§è´¨ï¼Œæœ‰ $ğ›¿(ğ‘ ,ğ‘¢)â‰¤ğ‘¢.ğ‘‘$ã€‚ - å¯¹äº $ğ‘¥âˆˆğ‘†$ï¼Œæ ¹æ®å½’çº³å‡è®¾æœ‰ $ğ‘¥.ğ‘‘=ğ›¿(ğ‘ ,ğ‘¥)$ã€‚åœ¨ while å¾ªç¯çš„æŸä¸€æ¬¡è¿­ä»£ä¸­ï¼Œğ‘¥ è¢«åŠ å…¥ ğ‘†ï¼Œè¾¹ (ğ‘¥, ğ‘¦) è¢«æ¾å¼›ï¼Œæ ¹æ®æ”¶æ•›æ€§è´¨ï¼Œğ‘¦.ğ‘‘ æ­¤æ—¶å¾—åˆ°æœ€å°å€¼ $ğ›¿(ğ‘ ,ğ‘¦)$ï¼Œæœ‰ $ğ›¿(ğ‘ ,ğ‘¦)â‰¤ğ›¿(ğ‘ ,ğ‘¢)â‰¤ğ‘¢.ğ‘‘â‰¤ğ‘¦.ğ‘‘$ ä¸” $ğ‘¦.ğ‘‘=ğ›¿(ğ‘ ,ğ‘¦)$ï¼Œå³ $ğ›¿(ğ‘ ,ğ‘¦)=ğ›¿(ğ‘ ,ğ‘¢)=ğ‘¢.ğ‘‘=ğ‘¦.ğ‘‘$ã€‚å› æ­¤ $ğ‘¢.ğ‘‘=ğ›¿(ğ‘ ,ğ‘¢)$ï¼Œæ ¹æ®ä¸Šç•Œæ€§è´¨ï¼Œğ‘¢.ğ‘‘ ä¸å†æ”¹å˜ï¼Œå¾—è¯ã€‚<blockquote>
<p>ä¹Ÿå¯ä»¥ä»å¾ªç¯ä¸å˜é‡è§’åº¦ç†è§£ï¼Œåœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œä»¥ä¸‹æ¡ä»¶ä¿æŒä¸å˜ï¼š</p>
</blockquote>
</li>
<li>å¯¹äºæ‰€æœ‰å·²ç¡®å®šçš„é¡¶ç‚¹ vï¼Œå³åŠ å…¥åˆ° S ä¸­çš„é¡¶ç‚¹ vï¼Œå®ƒä»¬çš„ v.d æ˜¯æ­£ç¡®çš„ï¼Œå³ä»æºç‚¹åˆ°è¿™äº›é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦å·²ç»è¢«æ‰¾åˆ°ã€‚</li>
<li>å¯¹äºæ‰€æœ‰æœªç¡®å®šçš„é¡¶ç‚¹ï¼Œå­˜åœ¨ä¸€ä¸ª â€œæ¾å¼›â€ æ“ä½œï¼Œè¯¥æ“ä½œå¯ä»¥å‡å°‘æŸä¸ªé¡¶ç‚¹çš„è·ç¦»å€¼ï¼ŒåŒæ—¶ä¿æŒå…¶ä»–é¡¶ç‚¹çš„è·ç¦»å€¼ä¸å˜æˆ–å‡å°‘ã€‚<br><strong>Proof</strong></li>
<li> åˆå§‹åŒ–ï¼šåœ¨ç®—æ³•å¼€å§‹æ—¶ï¼Œåªæœ‰æºç‚¹çš„è·ç¦»å€¼è¢«è®¾ç½®ä¸º 0ï¼Œå…¶ä»–æ‰€æœ‰é¡¶ç‚¹çš„è·ç¦»å€¼è¢«è®¾ç½®ä¸ºæ— ç©·å¤§ã€‚è¿™æ»¡è¶³äº†å¾ªç¯ä¸å˜é‡çš„æ¡ä»¶ï¼Œå› ä¸ºæºç‚¹åˆ°è‡ªå·±çš„æœ€çŸ­è·¯å¾„é•¿åº¦æ˜¯ 0ï¼Œè€Œå…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦å°šæœªç¡®å®šã€‚</li>
<li>ä¿æŒï¼šåœ¨ç®—æ³•çš„æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªæœªç¡®å®šçš„æœ€çŸ­è·ç¦»é¡¶ç‚¹ (å³é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªé¡¶ç‚¹)ï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºå·²ç¡®å®š (å³å°†å…¶åŠ å…¥åˆ° S)ã€‚ç„¶åï¼Œæˆ‘ä»¬æ›´æ–°è¿™ä¸ªé¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹çš„è·ç¦»å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå·²ç¡®å®šé¡¶ç‚¹çš„è·ç¦»å€¼ä¸ä¼šæ”¹å˜ (å› ä¸ºå®ƒä»¬å·²ç»å‡ºé˜Ÿ)ï¼Œè€Œæœªç¡®å®šé¡¶ç‚¹çš„è·ç¦»å€¼åªä¼šåœ¨æ‰¾åˆ°æ›´çŸ­çš„è·¯å¾„æ—¶å‡å°‘ã€‚å› æ­¤ï¼Œå¾ªç¯ä¸å˜é‡åœ¨æ¯ä¸ªè¿­ä»£ä¸­éƒ½è¢«ä¿æŒã€‚</li>
<li>ç»ˆæ­¢ï¼šå½“ç®—æ³•ç»ˆæ­¢æ—¶ï¼Œæ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦éƒ½å·²ç»è¢«ç¡®å®šã€‚è¿™æ˜¯å› ä¸ºç®—æ³•åœ¨æ¯æ¬¡è¿­ä»£ä¸­éƒ½é€‰æ‹©äº†ä¸€ä¸ªæœªç¡®å®šçš„æœ€çŸ­è·ç¦»é¡¶ç‚¹ï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºå·²ç¡®å®šï¼Œç›´åˆ°æ²¡æœ‰æœªç¡®å®šçš„é¡¶ç‚¹ä¸ºæ­¢ã€‚æ ¹æ®å¾ªç¯ä¸å˜é‡ï¼Œæ‰€æœ‰å·²ç¡®å®šçš„é¡¶ç‚¹çš„è·ç¦»å€¼æ˜¯æ­£ç¡®çš„ï¼Œå› æ­¤ç®—æ³•æ‰¾åˆ°äº†ä»æºç‚¹åˆ°æ‰€æœ‰å…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚<blockquote>
<p>Dijkstra çš„å±€é™æ€§åœ¨äºå®ƒè¦æ±‚æ‰€æœ‰è¾¹çš„æƒé‡éƒ½å¾— â‰¥0ï¼Œå› ä¸ºå¦‚æœå­˜åœ¨è´Ÿè¾¹ï¼ŒåŸæœ¬å·²ç»è¢«åŠ å…¥åˆ° S çš„é¡¶ç‚¹è¿˜æœ‰å¯èƒ½é€šè¿‡æœ‰è´Ÿè¾¹çš„è·¯å¾„è€Œå‡å° d å€¼ï¼Œè¿™è¿åäº†å¾ªç¯ä¸å˜é‡ã€‚</p>
</blockquote>
</li>
</ul>
<h3 id="æ—¶é—´å¤æ‚åº¦åˆ†æ"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æ" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æ"></a>æ—¶é—´å¤æ‚åº¦åˆ†æ</h3><blockquote>
<p>$DIJKSTRA(G, w, s)$<br>1 $INITIALIZE-SINGLE-SOURCE(G, s)$ //O(V)<br>2 $S = \not 0$ //O(1)<br>3 $Q = \not 0$ //O(1)<br>4 for each vertex $u \in G.V$ //O(V)<br>5 $INSERT(Q, u)$ //O(1)<br>6 while $Q \not = \not 0$ //O(V)<br>7 $u = EXTRACT-MIN(Q)$ //O(V) or $ğ‘‚(lgâ¡ğ‘‰)$<br>8 $S = S \cup {u}$ //O(1)<br>9 for each vertex $v \in G.Adj [u]$ //O (E)(å› ä¸ºæ¯æ¡è¾¹éƒ½ä¼šè¢«æ¾å¼›ä¸€æ¬¡)<br>10 RELAX(u, v, w) //O(1)<br>11 if the call of RELAX decreased v.d //O(1)<br>12 $DECREASED-KEY(Q, v, v.d)$ //O(1) or $ğ‘‚(lgâ¡ğ‘‰)$</p>
</blockquote>
<p>Dijkstra ç®—æ³•çš„è¿è¡Œæ—¶é—´å–å†³äºæœ€å°ä¼˜å…ˆé˜Ÿåˆ—çš„å…·ä½“å®ç°ï¼Œä¸€ä¸ªç®€å•çš„å®ç°æ–¹å¼å°±æ˜¯å°†é¡¶ç‚¹ä» 1 åˆ° ğ‘‰ ç¼–å·ï¼Œæ„é€ ä¸€ä¸ªæ•°ç»„ &nbsp;ğ´[1 : ğ‘‰]&nbsp;ï¼Œç¼–å· ğ‘– çš„é¡¶ç‚¹ ğ‘£ çš„ ğ‘£.ğ‘‘ å­˜å‚¨åœ¨æ•°ç»„çš„ç¬¬ ğ‘– é¡¹ä¸­ï¼Œæ¯æ¬¡è°ƒç”¨ INSERT å’Œ DECREASED-KEY çš„è¿è¡Œæ—¶é—´ä¸º ğ‘‚(1)ï¼Œæ¯æ¬¡è°ƒç”¨ EXTRACT_MIN çš„è¿è¡Œæ—¶é—´ä¸º ğ‘‚(ğ‘‰)&nbsp;(ç”±äºéœ€è¦éå†æ•´ä¸ªæ•°ç»„æ‰¾åˆ°æœ€å°å€¼)ï¼Œæ€»çš„è¿è¡Œæ—¶é—´ä¸º $ğ‘‚(ğ‘‰^2+ğ¸)=ğ‘‚(ğ‘‰^2)$ã€‚</p>
<p>å¦‚æœå›¾è¶³å¤Ÿç¨€ç–ï¼Œç‰¹åˆ«çš„ï¼Œå¦‚æœ $ğ¸=ğ‘œ(ğ‘‰^2/lgâ¡ğ‘‰)$ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€å°äºŒå‰å †å®ç°æœ€å°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…¶ä¸­åŒ…å«å°†é¡¶ç‚¹æ˜ å°„åˆ°å¯¹åº”çš„å †ä¸­å…ƒç´ çš„å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ EXTRACT_MIN çš„è¿è¡Œæ—¶é—´ä¸º $ğ‘‚(lgâ¡ğ‘‰)$ï¼Œæ„å»ºæœ€å°äºŒå‰å †çš„è¿è¡Œæ—¶é—´ä¸º ğ‘‚(ğ‘‰)ï¼Œæ€»çš„è¿è¡Œæ—¶é—´ä¸º $ğ‘‚((ğ‘‰+ğ¸) lgâ¡ğ‘‰)$ï¼Œè‹¥ $E=\Omega (V)$ï¼Œåˆ™æ€»çš„è¿è¡Œæ—¶é—´ä¸º $ğ‘‚(ğ¸lgâ¡ğ‘‰)$ã€‚è‹¥ $ğ¸=ğ‘œ(ğ‘‰^2/lgâ¡ğ‘‰)$ï¼Œåˆ™æ€»çš„è¿è¡Œæ—¶é—´ç›¸æ¯” $ğ‘‚(ğ‘‰^2)$ æœ‰æ‰€æ”¹å–„ã€‚</p>
<h3 id="ç©ºé—´å¤æ‚åº¦åˆ†æ"><a href="#ç©ºé—´å¤æ‚åº¦åˆ†æ" class="headerlink" title="ç©ºé—´å¤æ‚åº¦åˆ†æ"></a>ç©ºé—´å¤æ‚åº¦åˆ†æ</h3><blockquote>
<p>$DIJKSTRA(G, w, s)$<br>1 $INITIALIZE-SINGLE-SOURCE(G, s)$ //O(V)<br>2 $S = \not 0$ //O(V)<br>3 $Q = \not 0$ //O(V)<br>4 for each vertex $u \in G.V$<br>5 $INSERT(Q, u)$ //O(1)<br>6 while $Q \not = \not 0$<br>7 $u = EXTRACT-MIN(Q)$ //O(1)<br>8 $S = S \cup {u}$ //O(1)<br>9 for each vertex $v \in G.Adj[u]$<br>10 RELAX(u, v, w)<br>11 if the call of RELAX decreased v.d<br>12 $DECREASED-KEY(Q, v, v.d)$ //O(1)</p>
</blockquote>
<p>æ‰€ä»¥æ€»ç©ºé—´å¤æ‚åº¦ä¸º $O (V)$</p>
<h3 id="cpp-ç®—æ³•å®ç°"><a href="#cpp-ç®—æ³•å®ç°" class="headerlink" title="cpp ç®—æ³•å®ç°"></a>cpp ç®—æ³•å®ç°</h3><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">// é¡¶ç‚¹ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Vertex</span> {</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> index; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="comment">// é¡¶ç‚¹ç´¢å¼•</span></span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> distance; &nbsp; &nbsp; &nbsp; <span class="comment">// åˆ°æºé¡¶ç‚¹çš„è·ç¦»</span></span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> parent; &nbsp; &nbsp; &nbsp; &nbsp; <span class="comment">// å‰é©±èŠ‚ç‚¹ç´¢å¼•</span></span><br><span class="line">&nbsp; &nbsp; <span class="built_in">Vertex</span>(<span class="type">int</span> i, <span class="type">int</span> d, <span class="type">int</span> p) : <span class="built_in">index</span>(i), <span class="built_in">distance</span>(d), <span class="built_in">parent</span>(p) {}</span><br><span class="line">&nbsp; &nbsp; <span class="comment">// è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œç”¨äºä¼˜å…ˆé˜Ÿåˆ—</span></span><br><span class="line">&nbsp; &nbsp; <span class="type">bool</span> <span class="keyword">operator</span>&gt;(<span class="type">const</span> Vertex&amp; other) <span class="type">const</span> {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">return</span> distance &gt; other.distance;</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">};</span><br><span class="line"><span class="comment">// è¾¹ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> {</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> from; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="comment">// èµ·å§‹é¡¶ç‚¹ç´¢å¼•</span></span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> to; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="comment">// ç»ˆæ­¢é¡¶ç‚¹ç´¢å¼•</span></span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> weight; &nbsp; &nbsp; &nbsp; &nbsp; <span class="comment">// è¾¹çš„æƒé‡</span></span><br><span class="line">&nbsp; &nbsp; <span class="built_in">Edge</span>(<span class="type">int</span> f, <span class="type">int</span> t, <span class="type">int</span> w) : <span class="built_in">from</span>(f), <span class="built_in">to</span>(t), <span class="built_in">weight</span>(w) {}</span><br><span class="line">};</span><br><span class="line"><span class="comment">// å›¾ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Graph</span> {</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> V; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="comment">// é¡¶ç‚¹æ•°é‡</span></span><br><span class="line">&nbsp; &nbsp; vector&lt;vector&lt;Edge&gt;&gt; adj; &nbsp; <span class="comment">// é‚»æ¥è¡¨</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">&nbsp; &nbsp; <span class="built_in">Graph</span>(<span class="type">int</span> vertices) : <span class="built_in">V</span>(vertices) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; adj.<span class="built_in">resize</span>(V);</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; <span class="function"><span class="type">void</span> <span class="title">addEdge</span><span class="params">(<span class="type">int</span> from, <span class="type">int</span> to, <span class="type">int</span> weight)</span> </span>{</span><br><span class="line">&nbsp;   &nbsp; &nbsp; adj[from].<span class="built_in">push_back</span>(<span class="built_in">Edge</span>(from, to, weight));</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; vector&lt;vector&lt;Edge&gt;&gt; <span class="built_in">getAdj</span>() {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">return</span> adj;</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; <span class="function"><span class="type">int</span> <span class="title">getV</span><span class="params">()</span> </span>{</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">return</span> V;</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">};</span><br><span class="line"><span class="comment">// Dijkstra ç®—æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dijkstra</span> {</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">&nbsp; &nbsp; <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">initializeSingleSource</span><span class="params">(Graph&amp; G, <span class="type">int</span> s, vector&lt;Vertex&gt;&amp; vertices)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="type">int</span> V = G.<span class="built_in">getV</span>();</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; vertices.<span class="built_in">clear</span>();</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; vertices.<span class="built_in">reserve</span>(V);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; V; ++i) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vertices.<span class="built_in">push_back</span>(<span class="built_in">Vertex</span>(i, numeric_limits&lt;<span class="type">int</span>&gt;::<span class="built_in">max</span>(), <span class="number">-1</span>));</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; vertices[s].distance = <span class="number">0</span>;</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">relax</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> weight, vector&lt;Vertex&gt;&amp; vertices, priority_queue&lt;Vertex, vector&lt;Vertex&gt;, greater&lt;Vertex&gt;&gt;&amp; Q)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">if</span> (vertices[v].distance &gt; vertices[u].distance + weight) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vertices[v].distance = vertices[u].distance + weight;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vertices[v].parent = u;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="comment">// é‡æ–°æ„å»ºä¼˜å…ˆé˜Ÿåˆ—</span></span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; priority_queue&lt;Vertex, vector&lt;Vertex&gt;, greater&lt;Vertex&gt;&gt; updatedQ;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">while</span> (!Q.<span class="built_in">empty</span>()) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updatedQ.<span class="built_in">push</span>(Q.<span class="built_in">top</span>());</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Q.<span class="built_in">pop</span>();</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="built_in">swap</span>(Q, updatedQ);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">dijkstra</span><span class="params">(Graph&amp; G, <span class="type">int</span> s)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="type">int</span> V = G.<span class="built_in">getV</span>();</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; vector&lt;Vertex&gt; vertices;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; priority_queue&lt;Vertex, vector&lt;Vertex&gt;, greater&lt;Vertex&gt;&gt; Q;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="built_in">initializeSingleSource</span>(G, s, vertices);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">for</span> (Vertex v : vertices) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Q.<span class="built_in">push</span>(v);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">while</span> (!Q.<span class="built_in">empty</span>()) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Vertex uVertex = Q.<span class="built_in">top</span>();</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Q.<span class="built_in">pop</span>();</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="type">int</span> u = uVertex.index;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; vector&lt;Edge&gt; neighbors = G.<span class="built_in">getAdj</span>()[u];</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">for</span> (Edge edge : neighbors) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="type">int</span> v = edge.to;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="type">int</span> weight = edge.weight;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="built_in">relax</span>(u, v, weight, vertices, Q);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="built_in">printShortestPaths</span>(s, vertices);</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">printShortestPaths</span><span class="params">(<span class="type">int</span> source, <span class="type">const</span> vector&lt;Vertex&gt;&amp; vertices)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; cout &lt;&lt; <span class="string">"Shortest Paths from source vertex "</span> &lt;&lt; source &lt;&lt; <span class="string">":"</span> &lt;&lt; endl;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">for</span> (<span class="type">const</span> Vertex&amp; v : vertices) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cout &lt;&lt; <span class="string">"Vertex "</span> &lt;&lt; v.index &lt;&lt; <span class="string">": Distance = "</span> &lt;&lt; v.distance &lt;&lt; <span class="string">", Parent = "</span> &lt;&lt; v.parent &lt;&lt; endl;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">&nbsp; &nbsp; <span class="comment">// æ„å»ºå›¾</span></span><br><span class="line">&nbsp; &nbsp; <span class="function">Graph <span class="title">G</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">2</span>, <span class="number">4</span>, <span class="number">2</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> source = <span class="number">0</span>;</span><br><span class="line">&nbsp; &nbsp; Dijkstra::<span class="built_in">dijkstra</span>(G, source);</span><br><span class="line">&nbsp; &nbsp; <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Bellman-Ford-ç®—æ³•"><a href="#Bellman-Ford-ç®—æ³•" class="headerlink" title="Bellman-Ford ç®—æ³•"></a>Bellman-Ford ç®—æ³•</h2><p>Bellman-Ford ç®—æ³•è§£å†³çš„æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œè¾¹çš„æƒé‡å¯ä»¥ä¸ºè´Ÿå€¼ã€‚Bellman-Ford ç®—æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¯¥å¸ƒå°”å€¼è¡¨æ˜æ˜¯å¦å­˜åœ¨ä¸€ä¸ªä»æºç‚¹å¯è¾¾çš„è´Ÿæƒé‡çš„ç¯è·¯ã€‚è‹¥å­˜åœ¨è¿™æ ·ä¸€ä¸ªç¯è·¯ï¼Œåˆ™ç®—æ³•æç¤ºä¸å­˜åœ¨è§£å†³æ–¹æ¡ˆã€‚è‹¥ä¸å­˜åœ¨è¿™æ ·ä¸€ä¸ªç¯è·¯ï¼Œåˆ™ç®—æ³•ç»™å‡ºæœ€çŸ­è·¯å¾„å’Œå®ƒä»¬çš„æƒé‡ã€‚<br>æ³¨æ„ï¼šè´Ÿæƒé‡ç¯è·¯æ˜¯æ€»æƒé‡ä¸ºè´Ÿçš„ç¯è·¯ï¼Œè€Œéåªè¦æœ‰è´Ÿæƒé‡çš„è¾¹æ‰€å½¢æˆçš„ç¯è·¯å°±æ˜¯è´Ÿæƒé‡ç¯è·¯ã€‚<br>ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>$BELLMAN-FORD(G, w, s)$<br>1 $INITIALIZE-SINGLE-SOURCE(G, s)$<br>2 for $i = 1$ to $|G.V| - 1$<br>3 for each edge $(u, v) \in G.E$<br>4 RELAX(u, v, w)<br>5 for each edge $(u, v) \in G.E$<br>6 if $v.d &gt; u.d + w(u, v)$<br>7 return FALSE<br>8 return TRUE</p>
</blockquote>
<p>ç¤ºä¾‹å›¾ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/4af76847af45d3632f2c2.png" alt="image"><br>// ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥å‘ç°åœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­éƒ½æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„ d å€¼è¢«ç¡®å®šï¼Œä¸å†æ”¹å˜ã€‚ä¾æ¬¡è¢«ç¡®å®šçš„èŠ‚ç‚¹æ˜¯ï¼š$&lt;s,y,x,t,z&gt;$ï¼Œå› ä¸ºè¿™ä¾‹å­æ¯”è¾ƒç‰¹æ®Šï¼Œæ¯æ¬¡è¿­ä»£éƒ½åªç¡®å®šä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†åœ¨å®é™…æƒ…å†µä¸­ï¼Œé€šå¸¸å°‘äº $V-1$ æ¬¡è¿­ä»£å°±å¯ä»¥ç¡®å®šå®Œï¼Œå› æ­¤æ­£ç¡®çš„è¡¨è¿°æ˜¯æ¯æ¬¡è¿­ä»£éƒ½è‡³å°‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„ d å€¼è¢«ç¡®å®šã€‚</p>
<h4 id="æ—¶é—´å¤æ‚åº¦åˆ†æ-é‚»æ¥è¡¨"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æ-é‚»æ¥è¡¨" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æ(é‚»æ¥è¡¨)"></a>æ—¶é—´å¤æ‚åº¦åˆ†æ (é‚»æ¥è¡¨)</h4><blockquote>
<p>$BELLMAN-FORD(G, w, s)$<br>1 $INITIALIZE-SINGLE-SOURCE(G, s)$ //$\Theta(V)$<br>2 for $i = 1$ to $|V| - 1$<br>3 for each vertex $u\in V$<br>4 for each vertex $v \in G.Adj[u]$<br>5 RELAX (u, v, w) //2-5: $\Theta (V + E)$ å¾ªç¯ $V-1$ æ¬¡<br>6 for each vertex $u\in V$<br>7 for each vertex $v\in G.Adj[u]$<br>8 if $v.d &gt; u.d + w(u, v)$<br>9 return FALSE //6-9: O(V + E)<br>10 return TRUE</p>
</blockquote>
<p>å› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º $O (V^2 + VE)$ï¼Œè‹¥ $E=\Omega (V)$ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦å¯ä»¥è¡¨ç¤ºä¸º $O (VE)$ã€‚</p>
<h4 id="ç©ºé—´å¤æ‚åº¦åˆ†æ-1"><a href="#ç©ºé—´å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="ç©ºé—´å¤æ‚åº¦åˆ†æ"></a>ç©ºé—´å¤æ‚åº¦åˆ†æ</h4><blockquote>
<p>$BELLMAN-FORD(G, w, s)$<br>1 $INITIALIZE-SINGLE-SOURCE(G, s)$ //O(V)<br>2 for $i = 1$ to $|V| - 1$<br>3 for each vertex $u\in V$<br>4 for each vertex $v \in G.Adj[u]$<br>5 RELAX(u, v, w)<br>6 for each vertex $u\in V$<br>7 for each vertex $v\in G.Adj[u]$<br>8 if $v.d &gt; u.d + w(u, v)$<br>9 return FALSE<br>10 return TRUE</p>
</blockquote>
<p>å› æ­¤æ€»çš„ç©ºé—´å¤æ‚åº¦ä¸º O (V)</p>
<h4 id="Theorem-Correctness-of-the-Bellman-Ford-algorithm"><a href="#Theorem-Correctness-of-the-Bellman-Ford-algorithm" class="headerlink" title="Theorem(Correctness of the Bellman-Ford algorithm)"></a>Theorem(Correctness of the Bellman-Ford algorithm)</h4><p>å‡è®¾ ğº ä¸­ä¸å­˜åœ¨ä»æºç‚¹ ğ‘  å¯è¾¾çš„è´Ÿæƒé‡çš„ç¯è·¯ï¼Œåœ¨ç®—æ³•è¿è¡Œç»“æŸæ—¶ï¼Œå¯¹äºä»»æ„ä¸€æ¡è¾¹ $(ğ‘¢,ğ‘£)âˆˆğ¸$ï¼Œæœ‰<br>$v.d=\delta(s, v)$<br>$\le \delta(s, u) + w(u, v)$<br>$= u.d + w(u, v)$<br>æ­¤æ—¶ç®—æ³•ä¸€å®šè¿”å› TRUE</p>
<p>å‡è®¾ G ä¸­å­˜åœ¨ä»æºç‚¹ s å¯è¾¾çš„è´Ÿæƒé‡ç¯è·¯ï¼Œè®¾è¯¥ç¯è·¯ä¸º $c=&lt;v_0,v_1,â€¦,v_k&gt;$ï¼Œå…¶ä¸­ $v_0=v_k$ï¼Œæœ‰</p>
<p>$$<br>\sum_{i=1}^{k}w(v_{i-1},v_{i})&lt;0<br>$$</p>
<p>æ¥ä¸‹æ¥ç”¨åè¯æ³•ï¼Œå‡è®¾ç®—æ³•è¿”å› TRUEï¼Œåˆ™å¯¹äº $i=1,2,â€¦,k$ï¼Œæœ‰ $v_i.d \le v_{i-1}.d+w (v_{i-1},v_i)$</p>
<p>$$<br>\sum_{i=1}^k v_i.d \leq\sum_{i=1}^k (v_{i-1}.d + w(v_{i-1}, v_i))<br>$$</p>
<p>$$<br>=\sum_{i=1}^k v_{i-1}.d +\sum_{i=1}^k w(v_{i-1}, v_i)<br>$$</p>
<p>ç”±äº $v_0=v_k$ï¼Œé‚£ä¹ˆ</p>
<p>$$<br>\sum_{i=1}^k v_i.d =\sum_{i=1}^k v_{i-1}.d<br>$$</p>
<p>è§£å¾—</p>
<p>$$<br>0\leq\sum_{i=1}^k w(v_{i-1}, v_i)<br>$$</p>
<p>ä¸ä¸Šé¢çš„ä¸ç­‰å¼çŸ›ç›¾ï¼Œå› æ­¤ç®—æ³•è¿”å›çš„æ˜¯ FALSEï¼Œæ‰€ä»¥ bellman-ford ç®—æ³•èƒ½æ£€æŸ¥è´Ÿæƒé‡ç¯è·¯ï¼Œå› æ­¤èƒ½å¤„ç†è´Ÿè¾¹ã€‚</p>
<h4 id="cpp-ç®—æ³•å®ç°-1"><a href="#cpp-ç®—æ³•å®ç°-1" class="headerlink" title="cpp ç®—æ³•å®ç°"></a>cpp ç®—æ³•å®ç°</h4><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">// è¾¹ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> {</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> to; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="comment">// ç»ˆæ­¢é¡¶ç‚¹ç´¢å¼•</span></span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> weight; &nbsp; &nbsp; &nbsp; &nbsp; <span class="comment">// è¾¹çš„æƒé‡</span></span><br><span class="line">&nbsp; &nbsp; <span class="built_in">Edge</span>(<span class="type">int</span> t, <span class="type">int</span> w) : <span class="built_in">to</span>(t), <span class="built_in">weight</span>(w) {}</span><br><span class="line">};</span><br><span class="line"><span class="comment">// å›¾ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Graph</span> {</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> V; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="comment">// é¡¶ç‚¹æ•°é‡</span></span><br><span class="line">&nbsp; &nbsp; vector&lt;vector&lt;Edge&gt;&gt; adj; &nbsp; <span class="comment">// é‚»æ¥è¡¨</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">&nbsp; &nbsp; <span class="built_in">Graph</span>(<span class="type">int</span> vertices) : <span class="built_in">V</span>(vertices) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; adj.<span class="built_in">resize</span>(V);</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line"></span><br><span class="line">&nbsp; &nbsp; <span class="function"><span class="type">void</span> <span class="title">addEdge</span><span class="params">(<span class="type">int</span> from, <span class="type">int</span> to, <span class="type">int</span> weight)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; adj[from].<span class="built_in">push_back</span>(<span class="built_in">Edge</span>(to, weight));</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line"></span><br><span class="line">&nbsp; &nbsp; vector&lt;vector&lt;Edge&gt;&gt;&amp; <span class="built_in">getAdj</span>() {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">return</span> adj;</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line"></span><br><span class="line">&nbsp; &nbsp; <span class="function"><span class="type">int</span> <span class="title">getV</span><span class="params">()</span> </span>{</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">return</span> V;</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">};</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–å•æºæœ€çŸ­è·¯å¾„</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initializeSingleSource</span><span class="params">(Graph&amp; G, <span class="type">int</span> s, vector&lt;<span class="type">int</span>&gt;&amp; distance, vector&lt;<span class="type">int</span>&gt;&amp; predecessor)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> V = G.<span class="built_in">getV</span>();</span><br><span class="line">&nbsp; &nbsp; distance.<span class="built_in">clear</span>();</span><br><span class="line">&nbsp; &nbsp; distance.<span class="built_in">resize</span>(V, numeric_limits&lt;<span class="type">int</span>&gt;::<span class="built_in">max</span>());</span><br><span class="line">&nbsp; &nbsp; predecessor.<span class="built_in">clear</span>();</span><br><span class="line">&nbsp; &nbsp; predecessor.<span class="built_in">resize</span>(V, <span class="number">-1</span>);</span><br><span class="line">&nbsp; &nbsp; distance[s] = <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æ¾å¼›æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">relax</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v, <span class="type">int</span> weight, vector&lt;<span class="type">int</span>&gt;&amp; distance, vector&lt;<span class="type">int</span>&gt;&amp; predecessor)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; <span class="keyword">if</span> (distance[v] &gt; distance[u] + weight) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; distance[v] = distance[u] + weight;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; predecessor[v] = u;</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">}</span><br><span class="line"><span class="comment">// Bellman-Ford ç®—æ³•</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">bellmanFord</span><span class="params">(Graph&amp; G, <span class="type">int</span> s, vector&lt;<span class="type">int</span>&gt;&amp; distance, vector&lt;<span class="type">int</span>&gt;&amp; predecessor)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> V = G.<span class="built_in">getV</span>();</span><br><span class="line">&nbsp; &nbsp; <span class="built_in">initializeSingleSource</span>(G, s, distance, predecessor);</span><br><span class="line">&nbsp; &nbsp; <span class="comment">// é‡å¤ |V| - 1 æ¬¡æ¾å¼›æ“ä½œ</span></span><br><span class="line">&nbsp; &nbsp; <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= V - <span class="number">1</span>; ++i) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">for</span> (<span class="type">int</span> u = <span class="number">0</span>; u &lt; V; ++u) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">for</span> (Edge edge : G.<span class="built_in">getAdj</span>()[u]) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="type">int</span> v = edge.to;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="type">int</span> weight = edge.weight;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="built_in">relax</span>(u, v, weight, distance, predecessor);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; <span class="comment">// æ£€æŸ¥æ˜¯å¦å­˜åœ¨è´Ÿæƒå›è·¯</span></span><br><span class="line">&nbsp; &nbsp; <span class="keyword">for</span> (<span class="type">int</span> u = <span class="number">0</span>; u &lt; V; ++u) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">for</span> (Edge edge : G.<span class="built_in">getAdj</span>()[u]) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="type">int</span> v = edge.to;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="type">int</span> weight = edge.weight;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">if</span> (distance[v] &gt; distance[u] + weight) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// å­˜åœ¨è´Ÿæƒå›è·¯</span></span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// ä¸å­˜åœ¨è´Ÿæƒå›è·¯</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// è¾“å‡ºæœ€çŸ­è·¯å¾„</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printShortestPath</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span> v, <span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; predecessor)</span> </span>{</span><br><span class="line">&nbsp; &nbsp; stack&lt;<span class="type">int</span>&gt; path;</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> current = v;</span><br><span class="line">&nbsp; &nbsp; <span class="keyword">while</span> (current != s) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; path.<span class="built_in">push</span>(current);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; current = predecessor[current];</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; path.<span class="built_in">push</span>(s);</span><br><span class="line">&nbsp; &nbsp; cout &lt;&lt; <span class="string">"Shortest path from "</span> &lt;&lt; s &lt;&lt; <span class="string">" to "</span> &lt;&lt; v &lt;&lt; <span class="string">": "</span>;</span><br><span class="line">&nbsp; &nbsp; <span class="keyword">while</span> (!path.<span class="built_in">empty</span>()) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; cout &lt;&lt; path.<span class="built_in">top</span>() &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; path.<span class="built_in">pop</span>();</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; cout &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">&nbsp; &nbsp; <span class="comment">// æ„å»ºå›¾</span></span><br><span class="line">&nbsp; &nbsp; <span class="function">Graph <span class="title">G</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">6</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">0</span>, <span class="number">2</span>, <span class="number">7</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">8</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">-4</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">2</span>, <span class="number">4</span>, <span class="number">-3</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">3</span>, <span class="number">1</span>, <span class="number">7</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">4</span>, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">&nbsp; &nbsp; G.<span class="built_in">addEdge</span>(<span class="number">4</span>, <span class="number">3</span>, <span class="number">7</span>);</span><br><span class="line">&nbsp; &nbsp; <span class="type">int</span> source = <span class="number">0</span>;</span><br><span class="line">&nbsp; &nbsp; vector&lt;<span class="type">int</span>&gt; distance;</span><br><span class="line">&nbsp; &nbsp; vector&lt;<span class="type">int</span>&gt; predecessor;</span><br><span class="line">&nbsp; &nbsp; <span class="keyword">if</span> (<span class="built_in">bellmanFord</span>(G, source, distance, predecessor)) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; cout &lt;&lt; <span class="string">"No negative weight cycle detected."</span> &lt;&lt; endl;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">for</span> (<span class="type">int</span> v = <span class="number">0</span>; v &lt; G.<span class="built_in">getV</span>(); ++v) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="keyword">if</span> (v != source) {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="built_in">printShortestPath</span>(source, v, predecessor);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br><span class="line">&nbsp; &nbsp; } <span class="keyword">else</span> {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; cout &lt;&lt; <span class="string">"Negative weight cycle detected."</span> &lt;&lt; endl;</span><br><span class="line">&nbsp; &nbsp; }</span><br><span class="line"> &nbsp; <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>å›¾è®º</tag>
        <tag>æœ€çŸ­è·¯å¾„</tag>
        <tag>Dijkstra</tag>
        <tag>Bellman-Ford</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€å¤§æµ (Maximum Flow)</title>
    <url>/2024/05/30/%E6%9C%80%E5%A4%A7%E6%B5%81/</url>
    <content><![CDATA[<h1 id="æœ€å¤§æµ-Maximum-Flow"><a href="#æœ€å¤§æµ-Maximum-Flow" class="headerlink" title="æœ€å¤§æµ(Maximum Flow)"></a>æœ€å¤§æµ (Maximum Flow)</h1><h2 id="æµç½‘ç»œ-Flow-networks"><a href="#æµç½‘ç»œ-Flow-networks" class="headerlink" title="æµç½‘ç»œ(Flow networks)"></a>æµç½‘ç»œ (Flow networks)</h2><h3 id="æµç½‘ç»œå’Œæµ"><a href="#æµç½‘ç»œå’Œæµ" class="headerlink" title="æµç½‘ç»œå’Œæµ"></a>æµç½‘ç»œå’Œæµ</h3><p>æµç½‘ç»œ $G = (V, E)$ æ˜¯ä¸€ä¸ªæœ‰å‘å¸¦æƒå›¾ï¼Œæƒé‡éè´Ÿï¼Œåœ¨è¿™é‡Œç§°å…¶ä¸ºå®¹é‡ $c (u, v) \ge 0$ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥è¦æ±‚å¦‚æœ E åŒ…å«è¾¹ (u, v), é‚£ä¹ˆ E å°±ä¸åŒ…å«åå‘è¾¹ (v, u)ã€‚è‹¥ $(u, v)\not \in E$, æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å®šä¹‰ c (u, v) = 0, åŒæ—¶ä¸å…è®¸è‡ªç¯ã€‚æ¯ä¸€ä¸ªæµç½‘ç»œåŒ…å«ä¸¤ä¸ªç‰¹æ®Šé¡¶ç‚¹ï¼šæºç‚¹ s å’Œæ±‡ç‚¹ t, è¿™ä¸ªæ±‡ç‚¹åœ¨åŸºæœ¬å›¾è®ºä¸­çš„ä¹ é¢˜ä¸­å·²æ¥è§¦è¿‡ï¼Œå½“æ—¶æ˜¯æ±‚ä¸€ä¸ªå›¾æ˜¯å¦æœ‰å…¨å±€æ±‡ç‚¹ï¼Œè¿™é‡Œçš„æ±‡ç‚¹æ„æ€æ²¡å˜ï¼Œè¿˜æ˜¯å‡ºåº¦ä¸º 0ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å‡è®¾æ¯ä¸€ä¸ªé¡¶ç‚¹éƒ½ä½äºä» s åˆ° t çš„æŸæ¡è·¯å¾„ä¸Šã€‚å› ä¸ºé™¤äº† s å¤–çš„é¡¶ç‚¹éƒ½è‡³å°‘æœ‰ä¸€æ¡å…¥è¾¹ï¼Œå› æ­¤æœ‰ $|E| \ge |V| - 1$ã€‚<br>æ¥ç€å¯¹æµè¿›è¡Œæ­£å¼çš„å®šä¹‰ï¼š<br>å·²çŸ¥æµç½‘ç»œ $G=(V,E)$ï¼Œc æ˜¯å®¹é‡å‡½æ•°ï¼Œs æ˜¯æºç‚¹ï¼Œt æ˜¯æ±‡ç‚¹ï¼Œé‚£ä¹ˆåœ¨ G ä¸­çš„ä¸€ä¸ªæµæ˜¯ä¸€ä¸ªå®å€¼å‡½æ•° $f:V \times V \to R$ï¼Œå…¶æ»¡è¶³ä¸‹é¢ä¸¤æ¡æ€§è´¨ï¼š</p>
<ul>
<li><strong>å®¹é‡é™åˆ¶</strong>ï¼š$0 \le f(u, v) \le c(u, v)$</li>
<li><strong> æµé‡å®ˆæ’</strong>ï¼šå¯¹äºæ‰€æœ‰çš„é¡¶ç‚¹ $u \in V - {s, t}$ï¼Œæˆ‘ä»¬è¦æ±‚<br>$$<br>\sum_{v \in V}f(v,u) = \sum_{v \in V}f(u, v)<br>$$<br>å³é™¤äº†æºç‚¹å’Œæ±‡ç‚¹ï¼Œæµå…¥ä¸€ä¸ªé¡¶ç‚¹çš„æ€»æµé‡ç­‰äºæµå‡ºè¯¥é¡¶ç‚¹çš„æ€»æµé‡ï¼Œå°±æ˜¯æµå…¥ç­‰äºæµå‡ºã€‚è¿™è·ŸåŸºå°”éœå¤«ç”µæµå®šå¾‹ç‰¹æ€§ä¸€æ ·ã€‚<br>æˆ‘ä»¬ç§°éè´Ÿæ•°å€¼ f (u, v) ä¸ºä»é¡¶ç‚¹ u åˆ° v çš„æµï¼Œä¸€ä¸ªæµ f çš„å€¼ | f | å®šä¹‰å¦‚ä¸‹ï¼š<br>$$<br>|f|=\sum_{v \in V}f(s, v)-\sum_{v \in V}f(v,s)<br>$$<br>å³ä»æºç‚¹æµå‡ºçš„æ€»æµé‡å‡å»æµå…¥æºç‚¹çš„æ€»èƒ½é‡ã€‚é€šå¸¸ï¼Œä¸€ä¸ªæµç½‘ç»œçš„æºç‚¹æ˜¯æ²¡æœ‰å…¥è¾¹çš„ï¼Œå› æ­¤ $\sum_{v\in V} f (v, s)$ ä¸º 0ï¼Œé‚£ä¹ˆå­˜åœ¨å³åˆç†ï¼Œè¿™é‡Œå®šä¹‰åŒ…å«å®ƒæ˜¯å› ä¸ºåé¢è®²åˆ°æ®‹å·®ç½‘ç»œ or å‰©ä½™ç½‘ç»œ or å…¶å®ƒç¿»è¯‘ (residual networks)ï¼Œé‚£æ—¶ $\sum_{v\in V} f (v, s)&gt;0$ æ˜¯å¯ä»¥çš„ã€‚<br>æœ€å¤§æµé—®é¢˜å°±æ˜¯æ±‚ $|f|$ çš„æœ€å¤§å€¼ã€‚<br>ä¸‹é¢æ˜¯æµç½‘ç»œçš„ä¸€ä¸ªä¾‹å­ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/0ea4104cb216c143ad4c8.png" alt="image"><br>(b) ä¸­çš„è¾¹éƒ½æœ‰ä¸¤ä¸ªæ•°å€¼ï¼Œå·¦è¾¹çš„æ•°å€¼ä»£è¡¨æµé‡ï¼Œå³è¾¹çš„æ•°å€¼ä»£è¡¨å®¹é‡ï¼Œä»¥é¡¶ç‚¹ $v_3$ ä¸ºä¾‹ï¼Œæµå…¥ $v_3$ çš„æ€»æµé‡ä¸º $12+7=19$ï¼Œæµå‡º $v_3$ çš„æ€»æµé‡ä¸º $15+4=19$ï¼Œå¯è§æµå…¥ç­‰äºæµå‡ºã€‚</li>
</ul>
<h3 id="åå‘å¹³è¡Œè¾¹"><a href="#åå‘å¹³è¡Œè¾¹" class="headerlink" title="åå‘å¹³è¡Œè¾¹"></a>åå‘å¹³è¡Œè¾¹</h3><p>å‡è®¾åœ¨ä¸Šé¢å›¾çš„åŸºç¡€ä¸ŠåŠ å¤šä¸€æ¡è¾¹ï¼Œå¦‚å›¾ï¼Œè¯¥ç½‘ç»œäº§ç”Ÿäº†ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒè¿åäº†æœ€ä¸Šé¢çš„è¦æ±‚ï¼šå¦‚æœ E åŒ…å«è¾¹ (u, v)ï¼Œé‚£ä¹ˆ E å°±ä¸åŒ…å«åå‘è¾¹ (v, u)ï¼Œæˆ‘ä»¬ç§°è¾¹ $(v_1,v_2)$ å’Œè¾¹ $(v_2,v_1)$ äº’ä¸ºåå¹³è¡Œã€‚<br><img src="https://telegraph-image-eja.pages.dev/file/06cc45f7a370a6c63456c.png" alt="image"><br>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å°†æœ‰é—®é¢˜çš„ç½‘ç»œç­‰ä»·è½¬æ¢ä¸ºä¸åŒ…å«åå‘å¹³è¡Œè¾¹çš„ç½‘ç»œï¼Œæ­£å¦‚å›¾ (b) æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸¤æ¡åå‘å¹³è¡Œè¾¹ä»»é€‰å…¶ä¸€ï¼Œç„¶åé€šè¿‡æ·»åŠ ä¸€ä¸ªæ–°é¡¶ç‚¹ $vâ€™$ æŠŠåŸæ¥çš„è¾¹ $(v_1,v_2)$ åˆ†è§£æˆä¸¤æ¡è¾¹ï¼Œå¹¶ä¸”æ–°çš„ä¸¤æ¡è¾¹çš„å®¹é‡éƒ½è®¾ä¸ºåŸæ¥è¾¹ $(v_1,v_2)$ çš„å®¹é‡ã€‚</p>
<h3 id="å¤šæºç‚¹å¤šæ±‡ç‚¹ç½‘ç»œ"><a href="#å¤šæºç‚¹å¤šæ±‡ç‚¹ç½‘ç»œ" class="headerlink" title="å¤šæºç‚¹å¤šæ±‡ç‚¹ç½‘ç»œ"></a>å¤šæºç‚¹å¤šæ±‡ç‚¹ç½‘ç»œ</h3><p><img src="https://telegraph-image-eja.pages.dev/file/d8a054ff24bd0feaff874.png" alt="image"><br>è¯¥å›¾å‘Šè¯‰æˆ‘ä»¬å¦‚ä½•å°†ä¸€ä¸ªå¤šæºç‚¹å¤šæ±‡ç‚¹ç½‘ç»œè½¬æ¢æˆä¸€ä¸ªæ™®é€šç½‘ç»œï¼Œs ä¸ºè¶…çº§æºç‚¹ï¼Œt ä¸ºè¶…çº§æ±‡ç‚¹ã€‚</p>
<h2 id="Ford-Fulkerson-æ–¹æ³•"><a href="#Ford-Fulkerson-æ–¹æ³•" class="headerlink" title="Ford-Fulkerson æ–¹æ³•"></a>Ford-Fulkerson æ–¹æ³•</h2><p>è¿™é‡Œç§°ä½œæ–¹æ³•è€Œä¸æ˜¯ç®—æ³•æ˜¯å› ä¸ºå®ƒåŒ…å«å‡ ç§è¿è¡Œæ—¶é—´ä¸åŒçš„ç®—æ³•å®ç°ï¼Œä»¥ä¸‹ç®€ç§° FF æ–¹æ³•ã€‚<br>FF æ–¹æ³•è¿­ä»£å¢åŠ æµçš„å€¼ï¼Œä¸€å¼€å§‹ï¼Œå¯¹äºæ‰€æœ‰çš„é¡¶ç‚¹å¯¹ u, v éƒ½æœ‰ f (u, v) = 0ï¼Œå› æ­¤åˆå§‹æµå€¼ä¸º 0ã€‚åœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œé€šè¿‡åœ¨å…³è”çš„æ®‹å·®ç½‘ç»œ $G_f$ ä¸­æ‰¾ä¸€æ¡å¢å¹¿è·¯å¾„ (augmenting path)ï¼Œæ‰¾å‡ºå…¶åœ¨ G ä¸­å¯¹åº”çš„è¾¹ï¼Œæ¥ç€æ›´æ–°è¿™äº›è¾¹çš„æµé‡ï¼Œä»è€Œå¢åŠ æµçš„å€¼ã€‚<br>å°½ç®¡æ¯ä¸€æ¬¡è¿­ä»£éƒ½å¢åŠ äº†æµçš„å€¼ï¼Œä½†å¯¹äº G ä¸­çš„æŸæ¡ç‰¹å®šçš„è¾¹ï¼Œå…¶æµé‡å¯èƒ½å¢åŠ ä¹Ÿå¯èƒ½å‡å°‘ã€‚å‡å°‘è¿™ä¸ªæƒ…å†µçœ‹ä¸Šå»æœ‰ç‚¹è¿åç›´è§‰ï¼Œä½†æ˜¯å®é™…æƒ…å†µå´æ˜¯ä¼šè®©å…¶å®ƒè¾¹ä¸Šçš„æµé‡å¢åŠ ï¼Œä½¿å¾—ä» s åˆ° t çš„æµæœ€å¤§åŒ–ã€‚ä¼ªä»£ç å¦‚ä¸‹ï¼š<br><img src="https://telegraph-image-eja.pages.dev/file/ded556038695346235b68.png" alt="image"></p>
<h3 id="æ®‹å·®ç½‘ç»œ-Residual-networks"><a href="#æ®‹å·®ç½‘ç»œ-Residual-networks" class="headerlink" title="æ®‹å·®ç½‘ç»œ(Residual networks)"></a>æ®‹å·®ç½‘ç»œ (Residual networks)</h3><p>å‰é¢å·²ä¸¤æ¬¡æåˆ°æ®‹å·®ç½‘ç»œï¼Œç°åœ¨æ­£å¼ä»‹ç»ã€‚<br>å­—é¢æ¥çœ‹ï¼Œæ®‹å·®æˆ–è€…å‰©ä½™å°±æ˜¯å‰©ä¸‹çš„æ„æ€ï¼Œé‚£ä¹ˆæµç½‘ç»œä¸­æœ‰å•¥æ˜¯å‰©ä¸‹çš„å‘¢ï¼Œé‚£å°±æ˜¯å®¹é‡äº†ï¼Œå‰é¢è§„å®šæµé‡è¦å°äºæˆ–ç­‰äºå®¹é‡ï¼Œå°äºçš„æ—¶å€™ä¸å°±æœ‰å‰©ä¸‹çš„å®¹é‡å—ï¼Œè€Œç­‰äºçš„æ—¶å€™å°±æ²¡æœ‰å‰©ä¸‹çš„äº†ï¼Œå› æ­¤ G ä¸­æµé‡ç­‰äºå®¹é‡çš„è¾¹ä¸å±äº $G_f$ã€‚æ®‹å·®ç½‘ç»œä¹Ÿæœ‰å®¹é‡ï¼Œå°±ç§°ä¸ºæ®‹å·®å®¹é‡ï¼Œå…¬å¼ä¸º $c_f (u,v) = c (u,v) - f (u,v)$ã€‚<br>ä½ å¯èƒ½ä¼šæ„Ÿåˆ°æƒŠè®¶ï¼Œæ®‹å·®ç½‘ç»œ $G_f$ è¿˜å¯èƒ½åŒ…å« G ä¸­æ²¡æœ‰çš„è¾¹ã€‚å‰é¢æåˆ°ç®—æ³•å¯èƒ½ä¼šå‡å°‘æŸæ¡ç‰¹å®šçš„è¾¹çš„æµé‡ï¼Œé‚£ä¹ˆä¸ºäº†è¡¨ç¤º G ä¸­ä¸€æ¡è¾¹ (u, v) ä¸Šçš„æ­£æµé‡å¯èƒ½çš„å‡å°‘ï¼Œæˆ‘ä»¬åœ¨ $G_f$ ä¸­æ·»åŠ ä¸€æ¡è¾¹ (v, u)ï¼Œå¹¶ä¸” $c_f (v,u)=f (u,v)$ï¼Œ</p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>å›¾è®º</tag>
        <tag>ç½‘ç»œæµ</tag>
        <tag>æœ€å¤§æµ</tag>
      </tags>
  </entry>
</search>
